<?xml version="1.0" encoding="UTF-8"?>
<!-- This file originates from the project https://github.com/openSUSE/doc-kit -->
<!-- This file can be edited downstream. -->
<!DOCTYPE topic
[
  <!ENTITY % entities SYSTEM "../common/generic-entities.ent">
    %entities;
]>
<topic xml:id="ai-air-gap-stack"
 role="concept" xml:lang="en"
 xmlns="http://docbook.org/ns/docbook" version="5.2"
 xmlns:its="http://www.w3.org/2005/11/its"
 xmlns:xi="http://www.w3.org/2001/XInclude"
 xmlns:xlink="http://www.w3.org/1999/xlink"
 xmlns:trans="http://docbook.org/ns/transclusion">
  <info>
    <title>&productname; air-gapped stack</title>
    <meta name="maintainer" content="tbazant@suse.com" its:translate="no"/>
    <abstract>
      <para>
        The <emphasis>air-gapped stack</emphasis> is a set of scripts that ease
        the successful air-gap installation of certain &productname; components.
        To use them, you need to clone or download them from the stack's
        <link
        xlink:href="https://github.com/SUSE/suse-ai-stack/tree/SUSEAI-79/air-gapped-install">GitHub
        repository</link>.
      </para>
    </abstract>
  </info>
  <section xml:id="ai-air-gap-stack-content">
    <title>What scripts does the stack include?</title>
    <para>
      The following scripts are included in the air-gapped stack:
    </para>
    <variablelist>
      <varlistentry>
        <term><filename>SUSE-AI-mirror-nvidia.sh</filename></term>
        <listitem>
          <para>
            Mirrors all RPM packages from a specified Web URLs.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><filename>SUSE-AI-get-images.sh</filename></term>
        <listitem>
          <para>
            Downloads &docker; images of &productname; applications from
            &sappco;.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><filename>SUSE-AI-load-images.sh</filename></term>
        <listitem>
          <para>
            Loads downloaded &docker; images into a custom &docker; image
            registry.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </section>
  <section xml:id="ai-air-gap-stack-usage">
    <title>Where do the scripts fit into the air-gap installation?</title>
    <para>
      The scripts are required in several places during the &productname;
      air-gapped installation. The following simplified workflow outlines the
      intended usage:
    </para>
    <procedure>
      <step>
        <para>
          Use <filename>SUSE-AI-mirror-nvidia.sh</filename> on a
          <emphasis>remote</emphasis> host to download the required &nvidia; RPM
          packages. Transfer the downloaded content to an air-gapped
          <emphasis>local</emphasis> host and add it as a &zypper; repository to
          install &nvidia; drivers on <emphasis>local</emphasis> GPU nodes.
        </para>
      </step>
      <step>
        <para>
          Use <filename>SUSE-AI-get-images.sh</filename> on a
          <emphasis>remote</emphasis> host to download &docker; images of
          required &productname; components. Transfer them to an air-gapped
          <emphasis>local</emphasis> host.
        </para>
      </step>
      <step>
        <para>
          Use <filename>SUSE-AI-load-images.sh</filename> to load the
          transferred &docker; images of &productname; components into a custom
          <emphasis>local</emphasis> $&docker; image registry.
        </para>
      </step>
      <step>
        <para>
          Install &ailibrary; components on the <emphasis>local</emphasis>
          &kube; cluster from the <emphasis>local</emphasis> custom &docker;
          registry.
        </para>
      </step>
    </procedure>
  </section>
</topic>
