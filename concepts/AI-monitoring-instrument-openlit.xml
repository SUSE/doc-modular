<?xml version="1.0" encoding="UTF-8"?>
<!-- This file originates from the project https://github.com/openSUSE/doc-kit -->
<!-- This file can be edited downstream. -->
<!DOCTYPE topic
[
  <!ENTITY % entities SYSTEM "../common/generic-entities.ent">
    %entities;
]>
<topic xml:id="ai-monitoring-instrument-openlit"
 role="concept" xml:lang="en"
 xmlns="http://docbook.org/ns/docbook" version="5.2"
 xmlns:its="http://www.w3.org/2005/11/its"
 xmlns:xi="http://www.w3.org/2001/XInclude"
 xmlns:xlink="http://www.w3.org/1999/xlink"
 xmlns:trans="http://docbook.org/ns/transclusion">
  <info>
    <title>Monitoring &suseai;: instrument applications with &openlit; SDK</title>
    <meta name="maintainer" content="tbazant@suse.com" its:translate="no"/>
    <abstract>
      <para>
        &openlit; has a Python and a Typescript SDK available. The following
        procedures describe examples of instrumentation, one for each language.
      </para>
    </abstract>
  </info>
  <tip>
    <para>
      For the full list of configuration options for &openlit; SDKs, check
      <link xlink:href="https://docs.openlit.io/latest/sdk-configuration">the
      upstream documentation</link>.
    </para>
  </tip>
  <procedure>
    <title>Instrumenting using Python &openlit; SDK</title>
    <step>
      <para>
        Open terminal and add a &openlit; dependency.
      </para>
<screen>&prompt.user;<command>pip install openlit</command></screen>
    </step>
    <step>
      <para>
        Import &openlit; and initialize it in your code, usually in the main
        entrypoint. Remember to adjust the &otelemetry; Protocol (OTLP)
        endpoint.
      </para>
<screen>import openlit

openlit.init(otlp_endpoint="http://otel-collector.observability.svc.cluster.local:4318")</screen>
    </step>
    <step>
      <para>
        With this code in place, you will start receiving telemetry data from
        the libraries currently supported by &openlit;. You can test it with
        &ollama; by following this example:
      </para>
<screen>import ollama
import openlit

openlit.init()

response = ollama.chat(model='gemma:2b', messages=[
  {
    'role': 'user',
    'content': 'Why is the sky blue?',
  },
])</screen>
    </step>
  </procedure>
</topic>
