<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic
[
  <!ENTITY % entities SYSTEM "../common/generic-entities.ent">
    %entities;
]>
<!-- refers to legacy doc: <add github link to legacy doc piece, if applicable> -->
<!-- point back to this document with a similar comment added to your legacy doc piece -->
<!-- refer to README.md for file and id naming conventions -->
<!-- metadata is dealt with on the assembly level -->
<topic xml:id="about-firewalld-zones"
 role="concept" xml:lang="en"
 xmlns="http://docbook.org/ns/docbook" version="5.2"
 xmlns:its="http://www.w3.org/2005/11/its"
 xmlns:xi="http://www.w3.org/2001/XInclude"
 xmlns:xlink="http://www.w3.org/1999/xlink"
 xmlns:trans="http://docbook.org/ns/transclusion">
  <info>
    <title>About &firewalld; zones</title>
    <meta name="maintainer" content="amrita.sakthivel@suse.com" its:translate="no"/>
    <abstract>
      <para>
     A firewall zone is a predefined set of rules that dictate how incoming and outgoing network traffic is handled for a specific network interface or source IP address.
     Each zone represents a different level of trust for the network it's associated with. You can apply different security policies based on where the network connection originates.
      </para>
    </abstract>
  </info>
    <para>
     Zones are like security profiles. For example, you would want to apply different firewall rules for a public Wi-Fi connection and your secure home network.
     &firewalld; zones allow you to define these distinct sets of rules and apply them accordingly.
     A network connection is subject to the rules of only one &firewalld; zone. A &firewalld; zone can have many network interfaces or source IP addresses.
      </para>
      <para>The <filename>/usr/lib/firewalld/zones/ </filename> directory stores the predefined zones. For example:</para>
<screen>&prompt.user; /usr/lib/firewalld/zones ls
block.xml  dmz.xml  docker.xml  drop.xml  external.xml  home.xml  internal.xml  nm-shared.xml  public.xml  trusted.xml  work.xml
</screen>
      <para>Some of the default settings of the predefined zones are as follows:</para>
      <variablelist>
       <varlistentry>
          <term><literal>drop</literal></term>
          <listitem>
            <itemizedlist>
              <listitem>
                <para>
                  <emphasis>Trust level:</emphasis> Completely untrusted.
                </para>
              </listitem>
              <listitem>
                <para>
                  <emphasis>Behavior:</emphasis> All incoming network packets are dropped without any reply. Only outgoing connections initiated from the system are allowed.
                  This provides a "stealth" mode where the system appears non-existent to external attackers.
                </para>
              </listitem>
              <listitem>
                <para>
                  <emphasis>Use Case:</emphasis> Maximum stealth and security, completely ignoring unwanted traffic.
                  A strict default for a server that should never accept incoming connections.
                </para>
              </listitem>
            </itemizedlist>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term><literal>block</literal></term>
          <listitem>
            <itemizedlist>
              <listitem>
                <para>
                  <emphasis>Trust level:</emphasis> Very low.
                </para>
              </listitem>
              <listitem>
                <para>
                  <emphasis>Behavior:</emphasis> All incoming network connections are rejected with an <literal>icmp-host-prohibited</literal> message for IPv4 and <literal>cmp6-adm-prohibited</literal>i for IPv6.
                  This informs the sender that their connection was explicitly rejected. Only outgoing connections initiated from the system are possible.
                </para>
              </listitem>
              <listitem>
                <para>
                  <emphasis>Use Case:</emphasis> Explicitly signal to senders that their connection attempts are being blocked.
                </para>
              </listitem>
            </itemizedlist>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term><literal>public</literal></term>
          <listitem>
            <itemizedlist>
              <listitem>
                <para>
                  <emphasis>Trust level:</emphasis> Untrusted or public.
                </para>
              </listitem>
              <listitem>
                <para>
                  <emphasis>Behavior:</emphasis> Represents public, untrusted networks where you don't trust other systems.
                  Only selected incoming connections are accepted by default for example, SSH, DHCPv6 client etc.
                  </para>
              </listitem>
              <listitem>
                <para>
                  <emphasis>Use Case:</emphasis> Common default zone for interfaces connected directly to the internet such as your router's WAN interface. Also includes
                 being connected to a network where you have no control over other devices.
                </para>
              </listitem>
            </itemizedlist>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term><literal>external</literal></term>
          <listitem>
            <itemizedlist>
              <listitem>
                <para>
                  <emphasis>Trust level:</emphasis> External with Masquerading.
                </para>
              </listitem>
              <listitem>
                <para>
                  <emphasis>Behavior:</emphasis>  Designed for external networks when the firewall acts as a gateway or router.
                  Usually, NAT masquerading is enabled by default. Only selected incoming connections are accepted, and the assumption is you don't trust other systems on this network.
                  </para>
              </listitem>
              <listitem>
                <para>
                  <emphasis>Use Case:</emphasis> When your Linux machine is acting as a router, connecting an internal private network to the public internet.
                  The external interface would be in this zone. Hiding internal network topology while allowing internal clients to access external resources such as the internet.
                </para>
              </listitem>
            </itemizedlist>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term><literal>dmz(Demilitarized Zone)</literal></term>
          <listitem>
            <itemizedlist>
              <listitem>
                <para>
                  <emphasis>Trust level:</emphasis> Limited public access.
                </para>
              </listitem>
              <listitem>
                <para>
                  <emphasis>Behavior:</emphasis> For systems in a DMZ zone that are publicly accessible but with limited access to the internal network.
                  Only selected incoming connections are accepted. The default usually includes SSH and other services you expose.
                  </para>
              </listitem>
              <listitem>
                <para>
                  <emphasis>Use Case:</emphasis> Public facing servers such as web, mail and DNS servers. These servers are intentionally exposed to the internet but are isolated from your internal, more trusted networks.
                  When you want to host services that need to be internet accessible but want to minimize the risk to your core internal infrastructure.
                </para>
              </listitem>
            </itemizedlist>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term><literal>work</literal></term>
          <listitem>
            <itemizedlist>
              <listitem>
                <para>
                  <emphasis>Trust level:</emphasis> Mostly Trusted (Work Environment).
                </para>
              </listitem>
              <listitem>
                <para>
                  <emphasis>Behavior:</emphasis> In a work environment, you usually trust other computers on the network.
                  Allows selected incoming connections that are common in a work environment such as SSH, DHCPv6-Client etc.
                  </para>
              </listitem>
              <listitem>
                <para>
                  <emphasis>Use Case:</emphasis> Office networks and systems with a corporate LAN.
                  </para>
              </listitem>
            </itemizedlist>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term><literal>home</literal></term>
          <listitem>
            <itemizedlist>
              <listitem>
                <para>
                  <emphasis>Trust level:</emphasis> Mostly Trusted (Home Environment).
                </para>
              </listitem>
              <listitem>
                <para>
                  <emphasis>Behavior:</emphasis> In a home environment, you mostly trust the other systems on the network.
                  Allows more services than public or external, often including common home network services like file sharing, media servers, and printers, in addition to SSH and DHCPv6-Client.
                  </para>
              </listitem>
              <listitem>
                <para>
                  <emphasis>Use Case:</emphasis> Home networks and small home office setups.
                  </para>
              </listitem>
            </itemizedlist>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term><literal>trusted</literal></term>
          <listitem>
            <itemizedlist>
              <listitem>
                <para>
                  <emphasis>Trust level:</emphasis> Highest.
                </para>
              </listitem>
              <listitem>
                <para>
                  <emphasis>Behavior:</emphasis>  All network connections are accepted without any filtering and there is no
                  firewalling is done for connections assigned to this zone.
                  </para>
              </listitem>
              <listitem>
                <para>
                  <emphasis>Use Case:</emphasis> Highly trusted connections.
                  </para>
              </listitem>
            </itemizedlist>
          </listitem>
        </varlistentry>
      </variablelist>
</topic>