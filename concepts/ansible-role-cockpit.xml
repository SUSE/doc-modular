<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic
[
  <!ENTITY % entities SYSTEM "../common/generic-entities.ent">
    %entities;
]>
<!-- refers to legacy doc: <add github link to legacy doc piece, if applicable> -->
<!-- point back to this document with a similar comment added to your legacy doc piece -->
<!-- refer to README.md for file and id naming conventions -->
<!-- metadata is dealt with on the assembly level -->
<topic xml:id="ansible-role-cockpit"
 role="concept" xml:lang="en"
 xmlns="http://docbook.org/ns/docbook" version="5.2"
 xmlns:its="http://www.w3.org/2005/11/its"
 xmlns:xi="http://www.w3.org/2001/XInclude"
 xmlns:xlink="http://www.w3.org/1999/xlink"
 xmlns:trans="http://docbook.org/ns/transclusion">
  <info>
    <title>About the &cockpit; Linux system role</title>
    <meta name="maintainer" content="amrita.sakthivel@suse.com" its:translate="no"/>
    <abstract>
      <para>
       The &cockpit; Linux system role in Ansible automates the installation and configuration of the Cockpit Web Console, a web-based graphical interface for administering  &productname; 16.0 systems.
      </para>
    </abstract>
  </info>
  <para>You can use this role to:</para>
  <itemizedlist>
  <listitem><para>Ensure the necessary Cockpit packages are installed.</para></listitem>
  <listitem><para>Ensure the Cockpit service is enabled to start at boot and is running.</para></listitem>
  <listitem><para>Allow the administrator to set specific options in the <filename>/etc/cockpit/cockpit.conf</filename>file, such as the login title or session timeouts <literal>cockpit_config</literal>.</para></listitem>
   </itemizedlist>
<example><title>Install Cockpit on all hosts</title>
<screen>
---
- name: install Cockpit on all hosts
  hosts: all
  become : true

  roles:
    - linux-system-roles.cockpit</screen>
</example>
<example><title>Install Cockpit on all hosts and automatically open the firewall port</title>
<screen>
  ---
  - name: Install Cockpit and automatically open firewall port
    hosts: all
    become: true

    vars:
      # Service control: ensure it's enabled and started
      cockpit_enabled: true
      cockpit_started: true
      cockpit_manage_firewall: true

    roles:
      # The role is called directly under the 'roles' keyword
      # The role must be installed under the name 'linux-system-roles.cockpit'
      - linux-system-roles.cockpit
</screen>
  <itemizedlist>
   <listitem><para><literal>cockpit_enabled: true</literal>: controls the &systemd; service setting for the Cockpit Web Console.
    <literal>cockpit_enabled</literal> is a <literal>Boolean</literal> datatype and accepts values <literal>true</literal> and <literal>false</literal>.
  Default is <literal>true</literal>, which means the Cockpit service is configured to start automatically at system boot.
  </para></listitem>
  <listitem><para><literal>cockpit_started: true</literal>: controls the immediate runtime status of the Cockpit Web Console service.
    <literal>cockpit_started</literal> is a <literal>Boolean</literal> datatype and accepts values <literal>true</literal> and <literal>false</literal>.
  Default is <literal>true</literal>, which means the Cockpit service is running immediately on the managed host. </para></listitem>
  <listitem><para><literal>cockpit_manage_firewall: true</literal>: delegates the task of configuring the firewall to the role itself, ensuring the Cockpit web interface is network-accessible.
    <literal>cockpit_manage_firewall</literal> is a <literal>Boolean</literal> datatype and accepts values <literal>true</literal> and <literal>false</literal>.
  Default is <literal>false</literal>, which means the role installs and enables Cockpit but makes no changes to the firewall, leaving that task to be handled manually or by a separate dedicated firewall role.
  </para></listitem>

     </itemizedlist>
  </example>
<para>For more details about all the variables in the &cockpit; Linux system role,
  refer to the specific <literal>REDADME.md</literal> file on the control node:</para>
  <screen>/usr/share/ansible/collections/ansible_collections/suse/linux_system_roles/docs</screen>
</topic>