<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic
[
  <!ENTITY % entities SYSTEM "../common/generic-entities.ent">
    %entities;
]>
<!-- refers to legacy doc: <add github link to legacy doc piece, if applicable> -->
<!-- point back to this document with a similar comment added to your legacy doc piece -->
<!-- refer to README.md for file and id naming conventions -->
<!-- metadata is dealt with on the assembly level -->
<topic xml:id="ansible-role-crypto-policies"
 role="concept" xml:lang="en"
 xmlns="http://docbook.org/ns/docbook" version="5.2"
 xmlns:its="http://www.w3.org/2005/11/its"
 xmlns:xi="http://www.w3.org/2001/XInclude"
 xmlns:xlink="http://www.w3.org/1999/xlink"
 xmlns:trans="http://docbook.org/ns/transclusion">
  <info>
    <title>About the Crypto policies Linux system role</title>
    <meta name="maintainer" content="amrita.sakthivel@suse.com" its:translate="no"/>
    <abstract>
      <para>
       The Crypto policies system role in Ansible is to establish the rules, guidelines, and standards for the proper and effective use of cryptography on &productname; 16.0 systems.
      </para>
    </abstract>
  </info>
  <para>You can use this role to:</para>
  <itemizedlist>
  <listitem><para>Specify when and how different types of data must be encrypted.</para></listitem>
  <listitem><para>Ensure that organizations adheres to legal, regulatory and industry mandates that require specific, strong cryptographic controls for data protection. </para></listitem>
  <listitem><para>Prohibit the use of weak, outdated, or known-vulnerable algorithms and protocols, thereby reducing the risk of a security breach.</para></listitem>
  <listitem><para>System-wide cryptographic policy that provides a centralized way for administrators to configure core cryptographic  like TLS, SSH, etc. so that most applications use a default, secure configuration.</para></listitem>
  <listitem><para>Specify when and how different types of data must be encrypted.</para></listitem>
  <listitem><para>Define the procedures for the entire lifecycle of cryptographic keys.</para></listitem>
  <listitem><para>Mandate which cryptographic algorithms are approved for use, ensuring a consistent, secure level of protection across all systems and applications.</para></listitem>
    </itemizedlist>
<example><title>Enforce FUTURE policy</title>
<screen>
---
- name: Enforce the 'FUTURE' system-wide cryptographic policy
  hosts: managed_nodes
  become: true

  vars:
    crypto_policies_policy: "FUTURE"
    crypto_policies_reload: true
    crypto_policies_reboot_ok: false

  tasks:
    - name: Enforce the FUTURE policy
      ansible.builtin.include_role:
        name: suse.linux_system_roles.crypto_policies
</screen>
<itemizedlist>
 <listitem><para><literal>crypto_policies_policy: "FUTURE"</literal>: is used to system-wide cryptographic settings on compatible Linux distributions.
  <literal>crypto_policies_policy</literal>is a <literal>string</literal>datatype and accepts values <literal>DEFAULT</literal>, <literal>FUTURE</literal>, <literal>LEGACY</literal> and custom policies that Administrators can define. Default is <literal>null</literal>.</para></listitem>
  <listitem><para><literal>crypto_policies_reload: true</literal>: ensures that the new cryptographic policy takes effect immediately by attempting to restart or reload services that rely on the system's cryptographic libraries.
    <literal>crypto_policies_reload</literal>is a <literal>Boolean</literal>datatype and accepts values <literal>true</literal> and <literal>false</literal> can define. Default is <literal>true</literal>.</para></listitem>
    <listitem><para><literal>crypto_policies_reboot_ok: false</literal>: dictates whether the playbook is permitted to automatically reboot the managed server after changing the cryptographic policy.
      <literal>crypto_policies_reboot_ok</literal>is a <literal>Boolean</literal>datatype and accepts values <literal>true</literal> and <literal>false</literal> can define. Default is <literal>false</literal>.</para></listitem>
  </itemizedlist>
</example>
<example><title>Configures the default crypto policy level without SHA1</title>
<screen>
---
- name: Manage crypto policies
  hosts: managed_nodes
  become: true

  vars:
    crypto_policies_policy: "DEFAULT:NO-SHA1"
    crypto_policies_reload: false

  tasks:
    - name: Configure default crypto policy level without SHA1
      ansible.builtin.include_role:
        name: suse.linux_system_roles.crypto_policies
</screen>
  <itemizedlist>
   <listitem><para><literal>crypto_policies_policy: "DEFAULT:NO-SHA1</literal>: is used to system-wide cryptographic settings on compatible Linux distributions.
    <literal>crypto_policies_policy</literal>is a <literal>string</literal>datatype and accepts values <literal>DEFAULT</literal>, <literal>FUTURE</literal>, <literal>LEGACY</literal> and custom policies that Administrators can define.
    Default is <literal>null</literal>. In this example, you are using the <literal>DEFAULT</literal> policy as a starting point and then modifying it with the built-in <literal>NO-SHA1</literal>  sub-policy.</para></listitem>
    <listitem><para><literal>crypto_policies_reload: false</literal>: ensures that the new cryptographic policy takes effect immediately by attempting to restart or reload services that rely on the system's cryptographic libraries.
      <literal>crypto_policies_reload</literal>is a <literal>Boolean</literal>datatype and accepts values <literal>true</literal> and <literal>false</literal> can define. Default is <literal>true</literal>.</para></listitem>
  </itemizedlist>
  </example>
<para>For more details about all the variables in the Crypto policies Linux system role,
  refer to the specific <literal>README.md</literal> file on the control node:</para>
  </topic>