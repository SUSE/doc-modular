<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic
[
  <!ENTITY % entities SYSTEM "../common/generic-entities.ent">
    %entities;
]>
<!-- refers to legacy doc: <add github link to legacy doc piece, if applicable> -->
<!-- point back to this document with a similar comment added to your legacy doc piece -->
<!-- refer to README.md for file and id naming conventions -->
<!-- metadata is dealt with on the assembly level -->
<topic xml:id="ansible-role-mssql"
 role="concept" xml:lang="en"
 xmlns="http://docbook.org/ns/docbook" version="5.2"
 xmlns:its="http://www.w3.org/2005/11/its"
 xmlns:xi="http://www.w3.org/2001/XInclude"
 xmlns:xlink="http://www.w3.org/1999/xlink"
 xmlns:trans="http://docbook.org/ns/transclusion">
  <info>
    <title>About the MSSQL Linux system role</title>
    <meta name="maintainer" content="amrita.sakthivel@suse.com" its:translate="no"/>
    <abstract>
      <para>
       The  MSSQL Linux system role in Ansible automates the installation, configuration and initial deployment of Microsoft SQL Server (MSSQL) on &productname; 16.0 systems.
      </para>
    </abstract>
  </info>
  <para>You can use this role to:</para>
  <itemizedlist>
  <listitem><para>Install the necessary SQL Server packages and tools. </para></listitem>
  <listitem><para>Manages the acceptance of the End-User License Agreement (EULA), which is required for installation.</para></listitem>
  <listitem><para>Set the required System Administrator <literal>sa</literal> and  <literal>mssql_password</literal>. This is a mandatory variable for initial setup.</para></listitem>
  <listitem><para>Configures the TCP Port the server listens on.</para></listitem>
  <listitem><para>Manages TLS/SSL certificates to ensure encrypted connections to the database.</para></listitem>
  <listitem><para>Optimize the operating system for database performance and throughput, by applying the <literal>mssql</literal> Tuned profile.</para></listitem>
</itemizedlist>
<example><title>Install and Configure Basic Microsoft SQL Server</title>
<screen>
---
- name: Install and configure basic Microsoft SQL Server
  hosts: all

  vars:
    mssql_accept_microsoft_sql_server_standard_eula: true
    mssql_password: "{{ sa_secret_password }}"
    mssql_edition: "Developer"

  roles:
    - linux-system-roles.mssql</screen>
<itemizedlist>
 <listitem><para><literal>mssql_accept_microsoft_sql_server_standard_eula</literal>: explicitly confirms the user agrees to the Microsoft SQL Server End-User License Agreement (EULA).
  It is a mandatory <literal>Boolean</literal> variable and accpets values <literal>true</literal>or <literal>false</literal>. It must be set to <literal>true</literal> in your playbook
  or inventory for the role to proceed with the installation of SQL Server. If set to <literal>false</literal>, the installation tasks will fail or be skipped.
  The default is empty<literal>{}</literal>.</para></listitem>
  <listitem><para><literal>mssql_password</literal>: sets the password for the Administrator <literal>sa</literal> user.
    It is a mandatory <literal>string</literal> variable. The password must have a minimum length of 8 characters, include uppercase and lowercase letters, base 10 digits or non-alphanumeric symbols.
    Default is <literal>null</literal>.</para></listitem>
  <listitem><para><literal>mssql_edition</literal>: defines the specific version of Microsoft SQL Server to be installed on the host.
It is a mandatory <literal>string</literal> variable and accepts values <literal>Enterprise</literal>, <literal>Standard</literal>, <literal>Web</literal>, <literal>Developer</literal>, <literal>Express</literal>, <literal>Evaluation</literal> and a product key in form of <literal>#####-#####-#####-#####-#####</literal>
where <literal>#</literal> is a number or letter. Default is <literal>null</literal>.
</para></listitem>
</itemizedlist>
</example>
<para>For more details about all the variables in the MSSQL Linux system role,
  refer to the specific <literal>REDADME.md</literal> file on the control node:</para>
  <screen>/usr/share/ansible/collections/ansible_collections/suse/linux_system_roles/docs</screen>
</topic>