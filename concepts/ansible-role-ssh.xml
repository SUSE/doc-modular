<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic
[
  <!ENTITY % entities SYSTEM "../common/generic-entities.ent">
    %entities;
]>
<!-- refers to legacy doc: <add github link to legacy doc piece, if applicable> -->
<!-- point back to this document with a similar comment added to your legacy doc piece -->
<!-- refer to README.md for file and id naming conventions -->
<!-- metadata is dealt with on the assembly level -->
<topic xml:id="ansible-role-ssh"
 role="concept" xml:lang="en"
 xmlns="http://docbook.org/ns/docbook" version="5.2"
 xmlns:its="http://www.w3.org/2005/11/its"
 xmlns:xi="http://www.w3.org/2001/XInclude"
 xmlns:xlink="http://www.w3.org/1999/xlink"
 xmlns:trans="http://docbook.org/ns/transclusion">
  <info>
    <title>&suseconnect;</title>
    <meta name="maintainer" content="amrita.sakthivel@suse.com" its:translate="no"/>
    <abstract>
      <para>
     This ssh role manages the ssh clients configuration. </para>
    </abstract>
  </info>
  <para>This role works on any system that provides openssh clients and is supported by Ansible.
    </para>
    <section xml:id="ssh-role-variables">
      <title>Role variables</title>
      <para>By default, the role should not modify the system configuration. It generates a <literal>global ssh_config</literal>
      that matches operating system default. The generated configuration does not keep comments and order of the options.
      </para>
    <itemizedlist>
      <listitem>
        <para>
<literal>ssh_user</literal>:By default, the role modifies the global SSH configuration for all users. If you specify a username,
it will instead modify that specific user's configuration file, located at <literal>~/.ssh/config</literal>.
The specified user must already exist for the role to succeed.
        </para>
      </listitem>
      <listitem>
        <para>
     <literal>ssh_skip_defaults</literal>:By default, the role writes the system wide configuration file located
     at <filename>etc/ssh/ssh_config</filename> and keeps the operating system defaults defined.
     This is automatically disabled when a drop-in configuration file (<literal>ssh_drop_in_name!=null</literal>) or
    per-user configuration  file is created (<literal>ssh_user!=null</literal>).
       </para>
      </listitem>
      <listitem>
        <para>
          <literal>ssh_drop_in_name</literal>:This role variable defines the name for the drop-in configuration file to be placed in
          system-wide drop-in directory. The name is used in <filename>/etc/ssh/ssh_config.d/{name}.conf</filename>
to reference the configuration file that needs to be modified. Using this option will cause the process to fail if the system does not support drop-in directories.
The default value is <literal>null</literal>on unsupported systems and <literal>00-ansible</literal> on supported systems.
The suggested format for the name is  <literal>NN-name</literal>, where NN is a two-digit number for sorting, and name is a descriptive title for the file's contents or owner.
          </para>
      </listitem>
      <listitem>
        <para>
          <literal>ssh_dict</literal>: A dictionary contains configuration options and respective values.
          While a simple variable like  <literal>ssh_port</literal> can be used to set a single option,  <literal>ssh_dict</literal>
          provides a structured way to manage multiple SSH configuration options within a single dictionary.
        </para>
      </listitem>
       </itemizedlist>
       </section>
    </topic>