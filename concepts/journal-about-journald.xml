<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic
[
  <!ENTITY % entities SYSTEM "../common/generic-entities.ent">
    %entities;
]>
<!-- refers to legacy doc: <add github link to legacy doc piece, if applicable> -->
<!-- point back to this document with a similar comment added to your legacy doc piece -->
<!-- refer to README.md for file and id naming conventions -->
<!-- metadata is dealt with on the assembly level -->
<topic xml:id="concept-about-journald"
 role="concept" xml:lang="en"
 xmlns="http://docbook.org/ns/docbook" version="5.2"
 xmlns:its="http://www.w3.org/2005/11/its"
 xmlns:xi="http://www.w3.org/2001/XInclude"
 xmlns:xlink="http://www.w3.org/1999/xlink"
 xmlns:trans="http://docbook.org/ns/transclusion">
  <info>
    <title>About <literal>journald</literal></title>
    <meta name="maintainer" content="shalaka.harne@suse.com" its:translate="no"/>
    <abstract>
      <para>
        <command>journald</command> is a &systemd; service responsible for collecting, indexing, and storing log data. The collected events include  kernel messages, initrd (initial RAM disk) messages,
        service startup/shutdown, application events, and authentication and session data.
      </para>
    </abstract>   
  </info>
  <para>
    On &productname; the <literal>systemd-journald</literal> service is enabled and started by
    default. The service logs the data into the journal described in <xref linkend="journal-what-it-is"./>
    </para>
        
        
        as its logging system. The <command>systemd-journald</command> service is enabled by default.</para>
    <para>All system events are written to the journal, a system service managed by <command>systemd-journald</command> service. This allows you to search and manage all system logs. It collects and stores logging data by maintaining structured indexed journals based on logging information received from the kernel, user processes, standard input, and system service errors. The journal records nearly every type of event generated on the system, including kernel messages, initrd (initial RAM disk) messages, service startup/shutdown, application events, and authentication and session data. Journal allows centralization and unification of logs from all sources, and it records events in structured manner which in turn helps identifying errors and in crash recovery.</para>
   <para><command>journalctl</command> is the command-line tool to view and analyze the logs from the <command>systemd-journald</command> service.</para></abstract>
  
   </info>
   <section><title>Understanding <command>journalctl</command> configuration and structure</title>
  <para>
   This section describes the <command>journalctl</command> location, configuring the location for persistent logs, and the <command>journalctl</command> entry structure.
  </para>
<itemizedlist>
<listitem><para>Verify the logs location:</para>
<screen>&prompt.sudo; ls /var/log/journal
&prompt.sudo; ls /run/log/journal
</screen>
  <para>The <command>journald</command> command collects log data from several sources simultaneously logs and are then managed in a structured, binary format within files in <filename>/run/log/journal/</filename> by default. Because the <filename>/run/ directory</filename> is volatile by nature, log data is lost at reboot. To make the log data persistent, create a directory <filename>/var/log/journal/</filename> so the <command>systemd-journald</command> service can store its data. To switch to persistent logging across reboots, create <filename>/var/log/journal</filename>:</para>
  <screen>&prompt.sudo;  mkdir /var/log/journal
&prompt.sudo;  systemd-tmpfiles --create --prefix=/var/log/journal
&prompt.sudo;  journalctl --flush</screen>
<para>All log data stored in <filename>/run/log/journal/</filename> are flushed into <filename>/var/log/journal/</filename>.</para>
</listitem>
<listitem><para>View the journal entry structure:</para>
<screen>&prompt.sudo; journalctl -n 1 -o verbose</screen>
<para>Log entry in the journal is a data structure containing the log message and  metadata fields:</para>
<itemizedlist><listitem><para>Timestamp: The exact time the event occurred.</para></listitem>
<listitem><para>Source Fields</para>
<itemizedlist>
  <listitem><para>_PID: Process ID of the sender.</para></listitem>
  <listitem><para>_UID/_GID: User/Group ID of the sender.</para></listitem>
  <listitem><para>_EXE: Path to the executable.</para></listitem>
  <listitem><para>_COMM: Name of the executable.</para></listitem>
</itemizedlist>
</listitem>
<listitem><para>System Fields</para>
<itemizedlist>
  <listitem><para>_SYSTEMD_UNIT: The systemd unit (service) that generated the log (e.g., sshd.service).</para></listitem>
  <listitem><para>_BOOT_ID: A unique identifier for the specific system boot session.</para></listitem>
</itemizedlist>
</listitem>
<listitem><para>Kernel Fields</para>
<itemizedlist>
  <listitem><para>_TRANSPORT: How the message was logged (e.g., kernel, syslog, stdout).</para></listitem>
</itemizedlist>
</listitem><listitem><para>Priority level: A numeric value indicating the severity of the message (0=emerg, 7=debug).</para></listitem>
</itemizedlist>
</listitem>
</itemizedlist>
</section>
</topic>
