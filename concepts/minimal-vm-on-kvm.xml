<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic
[
  <!ENTITY % entities SYSTEM "../common/generic-entities.ent">
    %entities;
]>
<topic xml:id="minimal-vm-on-kvm"
 role="concept" xml:lang="en"
 xmlns="http://docbook.org/ns/docbook" version="5.2"
 xmlns:its="http://www.w3.org/2005/11/its"
 xmlns:xi="http://www.w3.org/2001/XInclude"
 xmlns:xlink="http://www.w3.org/1999/xlink"
 xmlns:trans="http://docbook.org/ns/transclusion">
  <info>
    <title>Installing and running &minvm; on &kvm;</title>
    <meta name="maintainer" content="dpopov@suse.com" its:translate="yes"/>
  </info>
  <para>
    Provided you have &kvm; installed on your local machine, you can use a
    ready-made &minvm; image to create a virtual machine. This allows you to
    experiment with &minvm; safely.
   </para>
 
   <para>
    Run the following command to create a &minvm; virtual machine in
    &kvm;.
   </para>
 
<screen>&prompt.user;qemu-system-x86_64 \
  -enable-kvm \
  -m 1G \
  -smp 1 \
  -drive if=virtio,format=qcow2,file=<replaceable>IMAGE</replaceable>.qcow2 \
  -nographic \
  -netdev user,id=net0,hostfwd=tcp::2222-:22 \
  -device virtio-net-pci,netdev=net0 </screen>
  
   <para>
    After the system is booted, &jeosfirstboot; guides you through the initial
    system setup.
   </para>
 
   <procedure xml:id="jeos-firstboot-minvm">
    <note>
     <title>Change locale</title>
     <para>
      The &minvm; image comes with the <literal>en_US</literal> locale only. You
      can install and select the desired system locale after the setup is
      completed by installing the <package>glibc-locale</package> package and
      running the <command>localectl set-locale
      LANG=<replaceable>LOCALE</replaceable></command> command (replace
      <replaceable>LOCALE</replaceable> with the desired language locale, for
      example, <literal>de_DE.UTF-8</literal>).
     </para>
     <para>
      Keep in mind that do this, you need to have a &suse; subscription and register the VM using the <command>SUSEConnect -e <replaceable>EMAIL</replaceable> -r <replaceable>REGISTRATION_CODE</replaceable></command> command.
     </para>
    </note>
    <step>
     <para>
      As the first step, you are prompted to select the appropriate keyboard
      layout using the keyboard selection dialog.
     </para>
    </step>
    <step>
     <para>
      Next, read and accept the License Agreement. You cannot proceed without
      accepting the license agreement.
     </para>
    </step>
    <step>
     <para>
      Specify the desired time zone.
     </para>
    </step>
    <step>
     <para>
      When prompted, specify and confirm the desired root password.
     </para>
    </step>
    <step>
     <para>
      As the last step, you are instructed to register your system. If you only
      plan to test &minvm;, you can skip registration.
     </para>
    </step>
    <step>
     <para>
      After the initial configuration is completed, you can log in to the system
      as <literal>root</literal>, using the password you specified during the
      setup procedure.
     </para>
    </step>
   </procedure>
 
   <tip>
    <title>Installing product patches after first boot</title>
    <para>
     After &minvm; has been successfully installed and registered, we highly
     recommend to install the latest available online updates.
    </para>
   </tip>
</topic>
