<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic
[
  <!ENTITY % entities SYSTEM "../common/generic-entities.ent">
    %entities;
]>
<topic xml:id="minimal-vm-on-kvm"
 role="concept" xml:lang="en"
 xmlns="http://docbook.org/ns/docbook" version="5.2"
 xmlns:its="http://www.w3.org/2005/11/its"
 xmlns:xi="http://www.w3.org/2001/XInclude"
 xmlns:xlink="http://www.w3.org/1999/xlink"
 xmlns:trans="http://docbook.org/ns/transclusion">
  <info>
    <title>Installing and running &minvm; on &kvm;</title>
    <meta name="maintainer" content="dpopov@suse.com" its:translate="yes"/>
  </info>
  <para>
    Provided you have &kvm; installed on your local machine, you can use a
    ready-made &minvm; image to create a virtual machine. This allows you to
    experiment with &minvm; safely.
   </para>
 
   <para>
    Download a 60-day trial &minvm; image for &kvm; at
    <link xlink:href=
     "https://www.suse.com/products/server/jeos/"></link>.
   </para>
 
   <para>
    Refer to the following procedure to create a &minvm; virtual machine in
    &kvm;.
   </para>
 
   <procedure>
    <title>Creating a &minvm; virtual machine</title>
    <step>
     <para>
      Launch Virtual Machine Manager and choose
      <menuchoice><guimenu>File</guimenu> <guimenu>New Virtual
      Machine</guimenu></menuchoice>.
     </para>
    </step>
    <step>
     <para>
      Select <guimenu>Import existing disk image</guimenu> and click
      <guimenu>Forward</guimenu>.
     </para>
    </step>
    <step>
     <para>
      Click the <guimenu>Browse</guimenu> button next to the <guimenu>Provide
      the existing storage path</guimenu> field.
     </para>
    </step>
    <step>
     <para>
      Click the <guimenu>Add Pool</guimenu> button, and in the <guimenu>Create
      Storage Volume</guimenu> dialog box, give the new pool a name, and select
      <guimenu>dir: Filesystem Directory</guimenu> from the
      <guimenu>Type</guimenu> drop-down list. Leave the <guimenu>Target Path</guimenu> option at its default value. Click <guimenu>Finish</guimenu>.
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject>
        <imagedata width="80%" fileref="minvm_add_pool.png"/>
       </imageobject>
       <textobject><phrase>Add a new storage pool</phrase>
       </textobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
      Select the created storage pool, click the <guimenu>Browse Local</guimenu> button, and select the &minvm; qcow2
      image. Specify the correct operating system in the <guimenu>Choose the operating system you are installing</guimenu> field, and click <guimenu>Forward</guimenu>.
     </para>
    </step>
    <step>
     <para>
      When prompted, set the RAM value to 1024, and the number of CPUs to 1.
      Click <guimenu>Forward</guimenu>.
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject>
        <imagedata width="80%" fileref="minvm_ram_cpu.png"/>
       </imageobject>
       <textobject><phrase>Specify RAM and CPU settings</phrase>
       </textobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
      Give the new virtual machine a name (for example, <literal>Minimal
      VM</literal>) and click <guimenu>Finish</guimenu>.
     </para>
     <informalfigure>
      <mediaobject>
       <imageobject>
        <imagedata width="80%" fileref="minvm_finish.png"/>
       </imageobject>
       <textobject><phrase>&minvm; virtual machine configuration</phrase>
       </textobject>
      </mediaobject>
     </informalfigure>
    </step>
    <step>
     <para>
      If prompted to start the virtual network, click <guimenu>Yes</guimenu>.
     </para>
    </step>
   </procedure>
 
   <para>
    After the system is booted, &jeosfirstboot; guides you through the initial
    system setup.
   </para>
 
   <procedure xml:id="pro-rpi-firstboot-minvm">
    <note>
     <title>Change locale</title>
     <para>
      The &minvm; image comes with the <literal>en_US</literal> locale only. You
      can install and select the desired system locale after the setup is
      completed by installing the <package>glibc-locale</package> package and
      running the <command>localectl set-locale
      LANG=<replaceable>LOCALE</replaceable></command> command (replace
      <replaceable>LOCALE</replaceable> with the desired language locale, for
      example, <literal>de_DE.UTF-8</literal>).
     </para>
    </note>
    <step>
     <para>
      As the first step, you are prompted to select the appropriate keyboard
      layout using the keyboard selection dialog.
     </para>
    </step>
    <step>
     <para>
      Next, read and accept the License Agreement. You cannot proceed without
      accepting the license agreement.
     </para>
    </step>
    <step>
     <para>
      Specify the desired time zone.
     </para>
    </step>
    <step>
     <para>
      When prompted, specify and confirm the desired root password.
     </para>
    </step>
    <step>
     <para>
      As the last step, you are instructed to register your system. If you only
      plan to test &minvm;, you can skip registration.
     </para>
    </step>
    <step>
     <para>
      After the initial configuration is completed, you can log in to the system
      as <literal>root</literal>, using the password you specified during the
      setup procedure.
     </para>
    </step>
   </procedure>
 
   <tip>
    <title>Installing product patches after first boot</title>
    <para>
     After &minvm; has been successfully installed and registered, we highly
     recommend to install the latest available online updates.
    </para>
   </tip>
</topic>
