<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic
[
  <!ENTITY % entities SYSTEM "../common/generic-entities.ent">
    %entities;
]>
<topic xml:id="systemd-as-a-regular-user"
 role="concept" xml:lang="en"
 xmlns="http://docbook.org/ns/docbook" version="5.2"
 xmlns:its="http://www.w3.org/2005/11/its"
 xmlns:xi="http://www.w3.org/2001/XInclude"
 xmlns:xlink="http://www.w3.org/1999/xlink"
 xmlns:trans="http://docbook.org/ns/transclusion">
  <info>
    <title>Using &systemd; as a regular user</title>
    <meta name="maintainer" content="amrita.sakthivel@suse.com" its:translate="no"/>
  </info>
  <section xml:id="systemd-regular">
    <title>Introduction</title>
    <para>
      By default, &systemd; runs with &rootuser; user privileges. In certain scenarios it is more secure
      for a service to run with the privilege of a regular user. You can do this by creating a <literal>user</literal>
      service.
      </para>
  </section>
  <section xml:id="create-user-service">
    <title>Creating a user service</title>
    <para>
      A user service is a &systemd; service that runs under the context of a regular user.
    </para>
     <procedure>
      <step>
        <para>
          Choose a program that you want to use.
        </para>
      </step>
      <step>
        <para>
          Create a &systemd; unit file and save it at <filename>~/.config/systemd/user/</filename> directory:
        </para>
        <screen>vi ~/.config/systemd/user/ <replaceable>FILE_NAME.service</replaceable>
        </screen>
            </step>
      <step>
        <para>
         Manage &systemd; services as a regular user with the <option>--user</option>user option of the <command>systemctl</command> command. As a regular user, you must provide the path to the unit files
         otherwise if a unit file with the same name exists, it would be executed or listed instead.
        </para>
        <para>To reload &systemd; manager configuration:</para>
        <screen>&prompt.sudo; systemctl --user daemon-reload</screen>
        <para>To enable and start the service:</para>
        <screen>&prompt.sudo; systemctl --user enable --now <filename>~/.config/systemd/user/<replaceable>FILE_NAME.service</replaceable></filename></screen>
        <para>&prompt.sudo; To check the service status:</para>
        <screen>&prompt.sudo;systemctl --user status <filename>~/.config/systemd/user/<replaceable>FILE_NAME.service</replaceable></filename></screen>
        <para>To disable the service:</para>
        <screen>&prompt.sudo;systemctl --user disable <filename>~/.config/systemd/user/<replaceable>FILE_NAME.service</replaceable></filename></screen>
         </step>
        </procedure>

 </section>
</topic>
