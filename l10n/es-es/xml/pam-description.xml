<?xml version="1.0" encoding="UTF-8"?>
<article xmlns="http://docbook.org/ns/docbook" xml:base="pam-description.xml" version="5.0" xml:id="pam-description" xml:lang="es">
  <info>
    <title xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">Autenticación con PAM</title>
    <revhistory xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" xml:id="rh-pam-description">
      <revision>
        <date>2024-11-11</date>
        <revdescription>
          <para>
              First initial version.
            </para>
        </revdescription>
      </revision>
    </revhistory>
    <meta xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" name="maintainer" content="amrita.sakthivel@suse.com" its:translate="no"/>
    <meta xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" name="updated" content="2023-10-26" its:translate="no"/>
    <meta xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" name="architecture" its:translate="no">
      <phrase>AMD64/Intel 64</phrase>
      <phrase>POWER</phrase>
    </meta>
    <meta xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" name="productname" its:translate="no">
      <productname version="6.0" os="slmicro">
        <phrase>
          <phrase os="slmicro">SUSE Linux Micro</phrase>
        </phrase>
      </productname>
    </meta>
    <meta xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" name="title" its:translate="yes">Una descripción de PAM, cómo se usa y su configuración.</meta>
    <meta xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" name="description" its:translate="yes">PAM se utiliza en el proceso de autenticación como una capa que media el acceso entre el usuario y la aplicación.</meta>
    <meta xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" name="social-descr" its:translate="yes">Este artículo describe cómo funciona el mecanismo de autenticación modular y cómo se configura.</meta>
    <meta xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" name="category" its:translate="no">
      <phrase>Systems Management</phrase>
    </meta>
    <meta xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" name="task" its:translate="no">
      <phrase>Configuration</phrase>
    </meta>
    <meta xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" name="series" its:translate="no">Product &amp; Solutions</meta>
    <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
      <dm:bugtracker>
        <dm:url>https://bugzilla.suse.com/enter_bug.cgi</dm:url>
        <dm:component>Smart Docs</dm:component>
        <dm:product>Documentation</dm:product>
        <dm:assignee>maintainer@suse.com</dm:assignee>
      </dm:bugtracker>
      <dm:translation>yes</dm:translation>
    </dm:docmanager>
    <abstract xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
      <variablelist>
        <varlistentry>
          <term>DESCRIPCIÓN</term>
          <listitem>
            <para>
              El artículo describe el concepto de PAM, la estructura de la configuración de PAM y el uso de herramientas para configurar PAM.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>INTENCIÓN</term>
          <listitem>
            <para>
              Desea saber cómo configurar un módulo PAM y configurar el sistema para utilizar llaves U2F.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>ESFUERZO</term>
          <listitem>
            <para>
                Se tardan aproximadamente 20 minutos en leer el artículo.
              </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>REQUISITOS</term>
          <listitem>
            <itemizedlist>
              <listitem>
                <para>
                    Para configurar la autenticación mediante llaves U2F, debe tener YubiKeys o llaves de seguridad.
                  </para>
              </listitem>
            </itemizedlist>
          </listitem>
        </varlistentry>
      </variablelist>
    </abstract>
  </info>
  <section role="concept" xml:lang="es" version="5.2" xml:id="pam-about">
    <info>
      <abstract xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
        <para/>
      </abstract>
      <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">Introducción a PAM</title>
      <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="amrita.sakthivel@suse.com" its:translate="no"/>
    </info>
    <para>
    Los administradores de sistemas y los programadores suelen restringir el acceso a ciertas partes del sistema o limitar el uso de ciertas funciones de una aplicación. Sin PAM, sería necesario adaptar las aplicaciones cada vez que se introdujera un nuevo mecanismo de autenticación, como LDAP, Samba o Kerberos. Sin embargo, ese proceso llevaría mucho tiempo y es propenso a errores. Una manera de evitar estos inconvenientes es separar las aplicaciones del mecanismo de autenticación y delegarlas en módulos gestionados centralmente. Cuando sea necesario utilizar un nuevo esquema de autenticación, bastará con adaptar o escribir un <emphasis>módulo PAM</emphasis> adecuado para que el programa en cuestión pueda utilizarlo.
  </para>
    <para>
    El concepto de PAM está formado por:
  </para>
    <itemizedlist mark="bullet" spacing="normal">
      <listitem>
        <para><emphasis>Módulos PAM</emphasis>, que son un conjunto de bibliotecas compartidas para un mecanismo de autenticación específico.
      </para>
      </listitem>
      <listitem>
        <para>
        Una <emphasis>pila de módulos</emphasis> con uno o más módulos PAM.
      </para>
      </listitem>
      <listitem>
        <para>
        Un <emphasis>servicio</emphasis> compatible con PAM que necesita autenticación mediante una pila de módulos o módulos PAM. Normalmente, un servicio es un nombre familiar de la aplicación correspondiente, como <command>login</command> o <command>su</command>. El nombre del servicio <literal>other</literal> es una palabra reservada para las reglas por defecto.
      </para>
      </listitem>
      <listitem>
        <para><emphasis>Argumentos de módulo</emphasis>, con los que se puede influir en la ejecución de un único módulo PAM.
      </para>
      </listitem>
      <listitem>
        <para>
        Un mecanismo que evalúe cada <emphasis>resultado</emphasis> de la ejecución de un único módulo PAM. Un valor positivo ejecuta el siguiente módulo PAM. La forma en que se trata un valor negativo depende de la configuración: desde <quote>sin influencia, continuar</quote> hasta <quote>terminar inmediatamente</quote>, con cualquier otra opción intermedia válida.
      </para>
      </listitem>
    </itemizedlist>
  </section>
  <section role="reference" xml:lang="es" version="5.2" xml:id="pam-configuration-files">
    <info>
      <abstract xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
        <para/>
      </abstract>
      <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">Estructura de la configuración de PAM</title>
      <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="amrita.sakthivel@suse.com" its:translate="no"/>
    </info>
    <para>
    PAM en <phrase><phrase os="slmicro">SLE Micro</phrase></phrase> incluye una configuración basada en directorios. El conjunto de archivos de configuración se almacena en <filename>/etc/pam.d</filename>. Cada servicio (o programa) que se basa en el mecanismo PAM tiene su propio archivo de configuración en ese directorio. Por ejemplo, el servicio de <systemitem class="daemon">sshd</systemitem> se puede encontrar en el archivo <filename>/etc/pam.d/sshd</filename>.
  </para>
    <note>
      <title>la configuración basada en archivos (<filename>/etc/pam.conf</filename>) no se utiliza en <phrase><phrase os="slmicro">SLE Micro</phrase></phrase></title>
      <para>
      La configuración de cada servicio también se puede almacenar en <filename>/etc/pam.conf</filename>. Sin embargo, por motivos de mantenimiento y facilidad de uso, este esquema de configuración no se utiliza en <phrase><phrase os="slmicro">SLE Micro</phrase></phrase>.
    </para>
    </note>
    <para>
    Estos archivos presentes en <filename>/etc/pam.d/</filename> definen los módulos PAM empleados en el proceso de autenticación. Cada archivo consta de líneas, que definen un servicio, y cada línea consta de un máximo de cuatro componentes:
  </para>
    <screen>
      <replaceable>TYPE</replaceable>
      <replaceable>CONTROL</replaceable>
      <replaceable>MODULE_PATH</replaceable>
      <replaceable>MODULE_ARGS</replaceable>
    </screen>
    <para>
    Los componentes tienen el siguiente significado:
  </para>
    <variablelist>
      <varlistentry>
        <term>
          <replaceable>TYPE</replaceable>
        </term>
        <listitem>
          <para>
          Declara el tipo de servicio. Los módulos PAM se procesan en stacks. Los distintos tipos de módulos tienen distintas finalidades. Por ejemplo, un módulo comprueba la contraseña, otro verifica la ubicación desde la que se accede al sistema y otro lee los ajustes específicos del usuario. PAM reconoce cuatro tipos de módulos diferentes:
        </para>
          <variablelist>
            <varlistentry>
              <term>
                <literal>auth</literal>
              </term>
              <listitem>
                <para>
                Comprueba la autenticidad del usuario, habitualmente se hace con una contraseña. Pero también se puede lograr con una tarjeta con chip o mediante datos biométricos (por ejemplo, huellas dactilares o exploración del iris).
              </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>
                <literal>account</literal>
              </term>
              <listitem>
                <para>
                Los módulos de este tipo comprueban si el usuario tiene permiso general para utilizar el servicio solicitado. Por ejemplo, deberá realizarse esta comprobación para garantizar que nadie inicie sesión con el nombre de usuario de una cuenta caducada.
              </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>
                <literal>password</literal>
              </term>
              <listitem>
                <para>
                El propósito de este tipo de módulo es permitir modificar un testigo de autenticación. Normalmente, se trata de una contraseña.
              </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>
                <literal>session</literal>
              </term>
              <listitem>
                <para>
                Los módulos de este tipo son responsables de gestionar y configurar sesiones de usuario. Se inician antes y después de la autenticación para registrar los intentos de inicio de sesión y configurar el entorno específico del usuario.
              </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <replaceable>CONTROL</replaceable>
        </term>
        <listitem>
          <para>
          Indica el comportamiento de un módulo PAM. Cada módulo puede tener los siguientes indicadores de control:
        </para>
          <variablelist>
            <varlistentry>
              <term>
                <literal>required</literal>
              </term>
              <listitem>
                <para>
                Los módulos con este indicador se deben procesar correctamente antes de proceder con la autenticación. Si falla un módulo con el indicador <literal>required</literal>, se procesarán el resto de módulos de este tipo antes de que el usuario reciba un aviso de que se ha producido un fallo durante el intento de autenticación.
              </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>
                <literal>requisite</literal>
              </term>
              <listitem>
                <para>
                Los módulos con este indicador tienen que ser procesados correctamente, igual que los módulos con el indicador <literal>required</literal>. No obstante, si se produce un fallo en un módulo con este indicador, el usuario recibirá una notificación inmediata y no se procesarán más módulos. En caso de que no haya errores, se seguirá procesando el resto de los módulos, al igual que en el caso de los módulos con el indicador <literal>required</literal>. El indicador <literal>requisite</literal> se puede utilizar como un filtro simple con el objeto de comprobar el cumplimiento de determinadas condiciones necesarias para una correcta autenticación.
              </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>
                <literal>sufficient</literal>
              </term>
              <listitem>
                <para>
                Si se procesa correctamente un modulo con este indicador, la aplicación que lo ha solicitado recibe inmediatamente una notificación de proceso correcto y no se procesa ningún otro módulo, siempre y cuando anteriormente no haya fallado la ejecución de ningún módulo con el indicador <literal>required</literal>. El fallo de un módulo con el indicador <literal>sufficient</literal> no tiene consecuencias directas y los módulos siguientes se seguirán procesando según el orden correspondiente.
              </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>
                <literal>optional</literal>
              </term>
              <listitem>
                <para>
                Que el proceso de un módulo con este indicador se lleve a cabo correctamente o haya errores no tiene consecuencias directas. Esta opción puede ser útil, por ejemplo, para módulos cuyo único cometido es mostrar un mensaje (por ejemplo informando al usuario acerca de la recepción de un mensaje de correo electrónico), sin realizar ninguna otra acción.
              </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>
                <literal>include</literal>
              </term>
              <listitem>
                <para>
                Si se da este indicador, el archivo especificado como argumento se inserta en este lugar.
              </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <replaceable>MODULE_PATH</replaceable>
        </term>
        <listitem>
          <para>
          Contiene un nombre de archivo completo de un módulo PAM. No es necesario especificarlo explícitamente si el módulo se encuentra en el directorio por defecto <filename>/lib/security</filename> (para todas las plataformas de 64 bits compatibles con <phrase><phrase os="slmicro">SLE Micro</phrase></phrase>, el directorio es <filename>/lib64/security</filename>).
        </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <replaceable>MODULE_ARGS</replaceable>
        </term>
        <listitem>
          <para>
          Contiene una lista de opciones separadas por espacios para influir en el comportamiento de un módulo PAM, como <option>debug</option> (habilita la depuración) o <option>nullok</option> (permite el uso de contraseñas vacías).
        </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <para>
    Además, hay archivos de configuración globales para los módulos PAM en <filename>/etc/security</filename>, que definen el comportamiento exacto de estos módulos (por ejemplo <filename>pam_env.conf</filename> y <filename>time.conf</filename>). Todas las aplicaciones que utilizan un módulo PAM llaman a un conjunto de funciones PAM, las cuales procesan la información de los archivos de configuración y devuelven el resultado a la aplicación que ha realizado la petición.
  </para>
    <para>
    Para simplificar la creación y el mantenimiento de módulos PAM, se han introducido archivos de configuración por defecto comunes para los tipos <literal>auth</literal>, <literal>account</literal> y <literal>password</literal> y los módulos <literal>session</literal>. Se recuperan de la configuración de PAM de cada aplicación. Las actualizaciones de los módulos de configuración de PAM globales de <filename>common-*</filename> se propagan por todos los archivos de configuración de PAM sin necesidad de que el administrador actualice todos los archivos de configuración de PAM.
  </para>
    <para>
    Los archivos de configuración de PAM globales se mantienen mediante la herramienta <command>pam-config</command>. Esta herramienta añade automáticamente nuevos módulos a la configuración, cambia la configuración de los existentes o suprime módulos (u opciones) de las configuraciones. La intervención manual en el mantenimiento de las configuraciones de PAM se reduce al mínimo o incuso es innecesaria.
  </para>
    <section role="task" xml:lang="es" version="5.2" xml:id="pam-sshd-configuration">
      <info>
        <abstract xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
          <para/>
        </abstract>
        <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">Ejemplo de configuración de PAM</title>
        <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="amrita.sakthivel@suse.com" its:translate="no"/>
      </info>
      <para>
    Para demostrar un ejemplo de caso de uso real de la configuración de PAM, en esta sección se ha utilizado la configuración de sshd:
  </para>
      <example xml:id="dat-pam-sshd">
        <title>Configuración de PAM para sshd (<filename>/etc/pam.d/sshd</filename>)</title>
        <screen>#%PAM-1.0 <co xml:id="co-security-pam-sshd-pam-line"/>
auth     requisite      pam_nologin.so                              <co xml:id="co-security-pam-sshd-pam-nologin"/>
auth     include        common-auth                                 <co xml:id="co-security-pam-sshd-common-auth"/>
account  requisite      pam_nologin.so                              <xref xrefstyle="select:nopage" linkend="co-security-pam-sshd-pam-nologin" role="internalbook"/>
account  include        common-account                              <xref xrefstyle="select:nopage" linkend="co-security-pam-sshd-common-auth" role="internalbook"/>
password include        common-password                             <xref linkend="co-security-pam-sshd-common-auth" xrefstyle="select:nopage" role="internalbook"/>
session  required       pam_loginuid.so                             <co xml:id="co-security-pam-sshd-pam-loginuid"/>
session  include        common-session                              <xref linkend="co-security-pam-sshd-common-auth" xrefstyle="select:nopage" role="internalbook"/>
session  optional       pam_lastlog.so   silent noupdate showfailed <co xml:id="co-security-pam-sshd-lastlog"/></screen>
        <calloutlist>
          <callout arearefs="co-security-pam-sshd-pam-line">
            <para>
          Declara la versión de este archivo de configuración para PAM 1.0. Esto es simplemente una convención, pero podría utilizarse en el futuro para comprobar la versión.
        </para>
          </callout>
          <callout arearefs="co-security-pam-sshd-pam-nologin">
            <para>
          Comprueba, si existe <filename>/etc/nologin</filename>. Si es así, ningún otro usuario que no sea <systemitem class="username">root</systemitem> puede iniciar sesión.
        </para>
          </callout>
          <callout arearefs="co-security-pam-sshd-common-auth">
            <para>
          Se refiere a los archivos de configuración de cuatro tipos de módulos: <filename>common-auth</filename>, <filename>common-account</filename>, <filename>common-password</filename> y <filename>common-session</filename>. Estos cuatro archivos contienen la configuración predeterminada para cada tipo de módulo.
        </para>
          </callout>
          <callout arearefs="co-security-pam-sshd-pam-loginuid">
            <para>
          Define el atributo del proceso UID de entrada para el proceso que se ha autenticado.
        </para>
          </callout>
          <callout arearefs="co-security-pam-sshd-lastlog">
            <para>
          Muestra información sobre el último inicio de sesión de un usuario.
        </para>
          </callout>
        </calloutlist>
      </example>
      <para>
    Al incluir los archivos de configuración en lugar de añadir cada módulo por separado a la configuración de PAM respectiva, se obtiene automáticamente una configuración de PAM actualizada cuando un administrador cambia los valores por defecto.
  </para>
      <para>
    El primer archivo include (<filename>common-auth</filename>) llama a los módulos de tipo <literal>auth</literal>: <systemitem class="library">pam_env.so</systemitem>, <systemitem class="library">pam_gnome_keyring.so</systemitem> y <systemitem class="library">pam_unix.so</systemitem>. Consulte el <xref linkend="dat-pam-common-auth" role="internalbook"/>. Tenga en cuenta que los módulos pueden variar según la instalación.
  </para>
      <example xml:id="dat-pam-common-auth">
        <title>Configuración por defecto de la sección <literal>auth</literal> (<filename>common-auth</filename>)</title>
        <screen>auth  required  pam_env.so                   <co xml:id="co-security-pam-sshd-pam-env"/>
auth  optional  pam_gnome_keyring.so         <co xml:id="co-security-pam-sshd-gnome"/>
auth  required  pam_unix.so  try_first_pass <co xml:id="co-security-pam-sshd-pam-unix"/></screen>
      </example>
      <calloutlist>
        <callout arearefs="co-security-pam-sshd-pam-env">
          <para><systemitem class="library">pam_env.so</systemitem> carga <filename>/etc/security/pam_env.conf</filename> para definir las variables de entorno como se especifica en este archivo. Se puede utilizar para definir la variable <envar>DISPLAY</envar> con el valor adecuado, ya que el módulo <systemitem class="library">pam_env</systemitem> conoce la ubicación desde la cual se está iniciando sesión.
      </para>
        </callout>
        <callout arearefs="co-security-pam-sshd-gnome">
          <para><systemitem class="library">pam_gnome_keyring.so</systemitem> comprueba los datos de inicio de sesión y la contraseña del usuario con el anillo de llaves de GNOME.
      </para>
        </callout>
        <callout arearefs="co-security-pam-sshd-pam-unix">
          <para><systemitem class="library">pam_unix</systemitem> comprueba el nombre de usuario y la contraseña de inicio de sesión con <filename>/etc/passwd</filename> y <filename>/etc/shadow</filename>.
      </para>
        </callout>
      </calloutlist>
      <para>
    La pila completa de módulos <literal>auth</literal> se procesa antes de que <systemitem class="daemon">sshd</systemitem> reciba información sobre si el inicio de sesión se ha realizado correctamente. Todos los módulos de la pila que tienen el indicador de control <literal>required</literal> deben procesarse correctamente antes de que <systemitem class="daemon">sshd</systemitem> reciba un mensaje sobre el resultado positivo. Aunque alguno de los módulos no llegase a procesarse correctamente, el resto de la pila de módulos sí continuaría procesándose y, solo entonces, <systemitem class="daemon">sshd</systemitem> recibiría una notificación acerca del resultado incorrecto.
  </para>
      <para>
    Cuando todos los módulos del tipo <literal>auth</literal> se han procesado correctamente, se procesa otra instrucción include, en este caso, la del <xref linkend="dat-pam-common-account" role="internalbook"/>. <filename>common-account</filename> contiene solo un módulo, <literal>pam_unix</literal>. Si <literal>pam_unix</literal> indica como resultado que el usuario existe, sshd recibe un mensaje de notificación al respecto y se pasa a procesar la siguiente pila de módulos (<literal>password</literal>), los cuales se describen en:
  </para>
      <example xml:id="dat-pam-common-account">
        <title>Configuración por defecto de la sección <literal>account</literal> (<filename>common-account</filename>)</title>
        <screen>account  required  pam_unix.so  try_first_pass</screen>
      </example>
      <para>
    De nuevo, la configuración de PAM de <systemitem class="daemon">sshd</systemitem> implica solo una instrucción include que hace referencia a la configuración por defecto de los módulos <literal>password</literal> del archivo <filename>common-password</filename>. Estos módulos deben completarse correctamente (indicador de control <literal>requisite</literal> y <literal>required</literal>) siempre que la aplicación solicite que se cambie un testigo de autenticación.
  </para>
      <para>
    Cambiar una contraseña u otro testigo de autenticación exige realizar una comprobación de seguridad. Esto se consigue con el módulo <filename>pam_cracklib</filename>. El módulo <filename>pam_unix</filename> utilizado posteriormente transfiere las contraseñas antiguas y nuevas desde <filename>pam_cracklib</filename>, por lo que el usuario no necesita autenticarse de nuevo después de cambiar la contraseña. Esto también evita que se puedan saltar las comprobaciones que lleva a cabo <filename>pam_cracklib</filename>. Siempre que el tipo <literal>account</literal> o el tipo <literal>auth</literal> se configuren para quejarse de contraseñas caducadas, también se deben utilizar los módulos <literal>password</literal>.
  </para>
      <para>
    En el último paso, se llama a los módulos de tipo <literal>session</literal> (incluidos en el archivo <filename>common-session</filename>) para que configuren la sesión según los ajustes del usuario en cuestión. El módulo <filename>pam_limits</filename> carga el archivo <filename>/etc/security/limits.conf</filename>, que puede definir límites en el uso de ciertos recursos del sistema. El módulo <filename>pam_unix</filename> se procesa de nuevo. El módulo <filename>pam_umask</filename> se puede utilizar para definir la máscara de creación del modo de archivo. Dado que este módulo lleva el indicador <literal>optional</literal>, un fallo de este módulo no afectaría a la finalización correcta de toda la pila de módulos de sesión. Cuando el usuario cierra la sesión, se vuelve a llamar a los módulos de <literal>session</literal>.
  </para>
    </section>
  </section>
  <section role="reference" xml:lang="es" version="5.2" xml:id="pam-configuring-modules">
    <info>
      <abstract xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
        <para/>
      </abstract>
      <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">Configuración de módulos PAM</title>
      <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="amrita.sakthivel@suse.com" its:translate="no"/>
    </info>
    <para>
    Algunos módulos PAM son configurables. Los archivos de configuración se encuentran en <filename>/etc/security</filename>. Esta sección describe brevemente los archivos de configuración relevantes para el ejemplo de sshd: <filename>pam_env.conf</filename> y <filename>limits.conf</filename>.
  </para>
    <section xml:id="pam-struc-conf-pamenv">
      <title>pam_env.conf</title>
      <para><filename>pam_env.conf</filename> se puede utilizar para definir un entorno estandarizado para usuarios, el cual se establecerá cada vez que se llame al módulo <systemitem>pam_env</systemitem>. Si se utiliza este archivo, las variables de entorno deberán predefinirse con la sintaxis siguiente:
    </para>
      <screen><replaceable>VARIABLE</replaceable>  [DEFAULT=<replaceable>VALUE</replaceable>]  [OVERRIDE=<replaceable>VALUE</replaceable>]</screen>
      <variablelist>
        <varlistentry>
          <term>
            <replaceable>VARIABLE</replaceable>
          </term>
          <listitem>
            <para>
            Nombre de la variable de entorno que definir.
          </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <systemitem>[DEFAULT=&lt;value&gt;]</systemitem>
          </term>
          <listitem>
            <para>
            <replaceable>VALUE</replaceable> es el valor por defecto que el administrador desea establecer.
          </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <systemitem>[OVERRIDE=&lt;value&gt;]</systemitem>
          </term>
          <listitem>
            <para>
            Los valores se pueden consultar y definir mediante <systemitem>pam_env</systemitem>, sustituyendo al valor por defecto.
          </para>
          </listitem>
        </varlistentry>
      </variablelist>
      <para>
      Un ejemplo típico de cómo se podría utilizar <systemitem>pam_env</systemitem> sería para adaptar la variable <envar>DISPLAY</envar>, que se cambia cada vez que se inicia sesión de forma remota. Este ejemplo se muestra en <xref linkend="dat-pam-pamenv" role="internalbook"/>.
    </para>
      <example xml:id="dat-pam-pamenv">
        <title>pam_env.conf</title>
        <screen>
REMOTEHOST  DEFAULT=localhost          OVERRIDE=@{PAM_RHOST}
DISPLAY     DEFAULT=${REMOTEHOST}:0.0  OVERRIDE=${DISPLAY}
</screen>
      </example>
      <para>
      La primera línea define el valor de la variable <envar>REMOTEHOST</envar> en <literal>localhost</literal>, la cual se utilizará cada vez que <filename>pam_env</filename> no pueda determinar ningún otro valor. La variable <envar>DISPLAY</envar>, a su vez, contiene el valor de <envar>REMOTEHOST</envar>. Encontrará más información en los comentarios de <filename>/etc/security/pam_env.conf</filename>.
    </para>
    </section>
    <section xml:id="sec-pam-struc-pamlimits">
      <title>limits.conf</title>
      <para>
      Se pueden definir límites del sistema para usuarios o para grupos en el archivo <filename>limits.conf</filename>, que lee el módulo <systemitem>pam_limits</systemitem>. Este archivo permite definir límites rígidos, que no se podrán sobrepasar, y límites flexibles, que sí se pueden sobrepasar temporalmente. Para obtener más información acerca de la sintaxis y las opciones, consulte los comentarios en <filename>/etc/security/limits.conf</filename>. 
    </para>
    </section>
  </section>
  <section role="task" xml:lang="es" version="5.2" xml:id="pam-config-tool">
    <info>
      <abstract xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
        <para/>
      </abstract>
      <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">Configuración de PAM mediante <command>pam-config</command></title>
      <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="amrita.sakthivel@suse.com" its:translate="no"/>
    </info>
    <para>
    La herramienta <command>pam-config</command> ayuda a configurar los archivos de configuración globales de PAM (<filename>/etc/pam.d/common-*</filename>) y varias configuraciones de aplicaciones seleccionadas. Para obtener una lista de los módulos compatibles, utilice el comando <command>pam-config --list-modules</command>. Utilice el comando <command>pam-config</command> para mantener los archivos de configuración de PAM. Añada nuevos módulos a las configuraciones de PAM, suprima otros módulos o modifique las opciones de esos módulos. Al cambiar los archivos de configuración de PAM globales, no es necesario realizar ajustes manuales en la configuración de PAM para aplicaciones individuales.
  </para>
    <para>
    Un caso de uso sencillo de <command>pam-config</command> implica lo siguiente:
  </para>
    <procedure>
      <step>
        <formalpara>
          <title>Generar automáticamente una nueva configuración de PAM de estilo Unix.</title>
          <para>
          Deje que <command>pam-config</command> cree la configuración más sencilla posible que se pueda ampliar más adelante. El comando <command>pam-config
          --create</command> crea una configuración de autenticación Unix simple. Los archivos de configuración preexistentes no mantenidos por <command>pam-config</command> se sobrescriben, pero las copias de seguridad se conservan como <literal>*.pam-config-backup</literal>. 
        </para>
        </formalpara>
      </step>
      <step>
        <formalpara>
          <title>Añadir un nuevo método de autenticación.</title>
          <para>
          Para añadir un nuevo método de autenticación (por ejemplo, LDAP) a la pila de módulos PAM solo hace falta un simple comando <command>pam-config --add
          --ldap</command>. LDAP se añade siempre que sea necesario en todos los archivos de configuración de PAM <filename>common-*-pc</filename>.
        </para>
        </formalpara>
      </step>
      <step>
        <formalpara>
          <title>Añadir depuración con fines de prueba.</title>
          <para>
          Para asegurarse de que el nuevo procedimiento de autenticación funciona según lo previsto, active la depuración para todas las operaciones relacionadas con PAM. <command>pam-config
          --add --ldap-debug</command> activa la depuración de las operaciones de PAM relacionadas con LDAP.
        </para>
        </formalpara>
      </step>
      <step>
        <formalpara>
          <title>Consultar su configuración.</title>
          <para>
          Antes de aplicar finalmente la nueva configuración de PAM, compruebe si contiene todas las opciones que desea añadir. El comando <command>pam-config --query
          --</command><replaceable>MODULE</replaceable> muestra tanto el tipo como las opciones del módulo PAM consultado.
        </para>
        </formalpara>
      </step>
      <step>
        <formalpara>
          <title>Eliminar las opciones de depuración.</title>
          <para>
          Por último, elimine la opción de depuración de la configuración cuando esté completamente satisfecho con el rendimiento de la misma. El comando <command>pam-config --delete --ldap-debug</command> desactiva la depuración para la autenticación LDAP. En caso de que haya añadido opciones de depuración para otros módulos, utilice comandos similares para desactivarlas.
        </para>
        </formalpara>
      </step>
    </procedure>
    <para>
    Para obtener más información sobre el comando <command>pam-config</command> y las opciones disponibles, consulte la página del manual de <command>pam-config(8)</command>.
  </para>
  </section>
  <section role="task" xml:lang="es" version="5.2" xml:id="pam-manual-config">
    <info>
      <abstract xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
        <para/>
      </abstract>
      <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">Configuración manual de PAM</title>
      <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="amrita.sakthivel@suse.com" its:translate="no"/>
    </info>
    <para>
    Si prefiere crear o mantener manualmente los archivos de configuración de PAM, asegúrese de inhabilitar <command>pam-config</command> para ellos.
  </para>
    <para>
    Cuando se crean los archivos de configuración de PAM desde cero mediante el comando <command>pam-config --create</command>, se crean enlaces simbólicos desde los archivos <filename>common-<replaceable>*</replaceable></filename> a archivos <filename>common-<replaceable>*</replaceable>-pc</filename>. <command>pam-config</command> solo modifica los archivos de configuración <filename>common-<replaceable>*</replaceable>-pc</filename>. La eliminación de estos enlaces simbólicos inhabilita <command>pam-config</command> de forma efectiva, ya que <command>pam-config</command> solo funciona en los archivos <filename>common-<replaceable>*</replaceable>-pc</filename> y estos archivos no entran en vigor sin los enlaces simbólicos.
  </para>
    <warning>
      <title>inclusión de <filename>pam_systemd.so</filename> en la configuración</title>
      <para>
      Si va a crear su propia configuración de PAM, asegúrese de incluir <literal>pam_systemd.so</literal> con el valor <literal>session
      optional</literal> configurado. No incluir <literal>pam_systemd.so</literal> puede causar problemas con los límites de tareas de <systemitem class="daemon">systemd</systemitem>. Para obtener más información, consulte la página de manual de <literal>pam_systemd.so</literal>.
    </para>
    </warning>
  </section>
  <section role="task" xml:lang="es" version="5.2" xml:id="pam-cofigure-using-u2f-keys">
    <info>
      <abstract xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
        <para/>
      </abstract>
      <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">Configuración de <phrase><phrase os="slmicro">SLE Micro</phrase></phrase> para requerir claves U2F para el inicio de sesión local</title>
      <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="amrita.sakthivel@suse.com" its:translate="no"/>
    </info>
    <para>
    Para proporcionar más seguridad durante el inicio de sesión local a <phrase><phrase os="slmicro">SLE Micro</phrase></phrase>, puede configurar la autenticación de dos factores mediante el marco <literal>pam-u2f</literal> y la función U2F en YubiKeys y llaves de seguridad.
  </para>
    <para>
    Para configurar U2F en el sistema <phrase><phrase os="slmicro">SLE Micro</phrase></phrase>, debe asociar la llave a su cuenta en <phrase><phrase os="slmicro">SLE Micro</phrase></phrase>. A continuación, configure el sistema para utilizar la llave. El proceso se describe en las secciones siguientes.
  </para>
    <section role="task" xml:lang="es" version="5.2" xml:id="pam-account-association">
      <info>
        <abstract xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
          <para/>
        </abstract>
        <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">Asociación de la llave U2F a su cuenta</title>
        <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="amrita.sakthivel@suse.com" its:translate="no"/>
      </info>
      <para>
    Para asociar su llave U2F a su cuenta, haga lo siguiente:
  </para>
      <procedure>
        <step>
          <para>
        Inicie sesión en su equipo.
      </para>
        </step>
        <step>
          <para>
        Inserte la llave U2F.
      </para>
        </step>
        <step>
          <para>
        Cree un directorio para la configuración de la llave U2F:
      </para>
          <screen><prompt>&gt; </prompt><command>sudo</command> mkdir -p ~/.config/Yubico</screen>
        </step>
        <step>
          <para>
        Ejecute el comando <command>pamu2fcfg</command>, que genera líneas de configuración:
      </para>
          <screen><prompt>&gt; </prompt><command>sudo</command> pamu2fcfg &gt; ~/.config/Yubico/u2f_keys</screen>
        </step>
        <step>
          <para>
        Cuando el dispositivo comience a parpadear, toque el contacto de metal para confirmar la asociación.
      </para>
        </step>
      </procedure>
      <para>
    Se recomienda utilizar un dispositivo U2F de copia de seguridad, que se puede configurar ejecutando los siguientes comandos:
  </para>
      <procedure>
        <step>
          <para>
        Ejecutar:
      </para>
          <screen><prompt>&gt; </prompt><command>sudo</command> pamu2fcfg -n &gt;&gt; ~/.config/Yubico/u2f_keys</screen>
        </step>
        <step>
          <para>
        Cuando el dispositivo comience a parpadear, toque el contacto de metal para confirmar la asociación.
      </para>
        </step>
      </procedure>
      <para>
    A fin de aumentar la seguridad, puede mover el archivo de salida de la ubicación por defecto a un directorio que requiera permiso de <literal>sudo</literal> para modificar el archivo. Por ejemplo, muévalo al directorio <filename>/etc</filename>. Para ello, siga los pasos siguientes:
  </para>
      <procedure>
        <step>
          <para>
        Cree un directorio en <filename>/etc</filename>.
      </para>
          <screen><prompt>&gt; </prompt><command>sudo</command> mkdir /etc/Yubico</screen>
        </step>
        <step>
          <para>
        Mueva el archivo creado:
      </para>
          <screen><prompt>&gt; </prompt><command>sudo</command> mv ~/.config/Yubico/u2f_keys /etc/Yubico/u2f_keys</screen>
        </step>
      </procedure>
      <note>
        <title>colocación de <filename>u2f_keys</filename> en una ubicación que no sea la ubicación por defecto</title>
        <para>
      Si mueve el archivo de salida a un directorio que no sea el directorio por defecto (<filename>$HOME/.config/Yubico/u2f_keys</filename>), deberá añadir la vía al archivo <filename>/etc/pam.d/login</filename> como se describe en la <xref linkend="pam-update-configs" role="internalbook"/>.
    </para>
      </note>
    </section>
    <section role="task" xml:lang="es" version="5.2" xml:id="pam-update-configs">
      <info>
        <abstract xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
          <para/>
        </abstract>
        <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">Actualización de la configuración de PAM</title>
        <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="amrita.sakthivel@suse.com" its:translate="no"/>
      </info>
      <para>
    Después de crear la configuración de las llaves U2F, debe ajustar la configuración de PAM en el sistema.
  </para>
      <procedure>
        <step>
          <para>
        Abra el archivo <filename>/etc/pam.d/login</filename>.
      </para>
        </step>
        <step>
          <para>
        Añada la línea <literal>auth required pam_u2f.so</literal> al archivo de la siguiente manera:
      </para>
          <screen>
#%PAM-1.0
auth      include    common-auth
<emphasis role="bold">auth      required   pam_u2f.so</emphasis>
account   include    common-account
password  include    common-password
session   optional   pam_keyinit.so revoke
session   include    common-session
#session  optional   pam_xauth.so
        </screen>
        </step>
        <step>
          <para>
        Si ha colocado el archivo <filename>u2f_keys</filename> en una ubicación que no sea <filename>$HOME/.config/Yubico/u2f_keys</filename>, debe utilizar la opción <literal>authfile</literal> en el archivo PAM <filename>/etc/pam.d/login</filename> de la siguiente manera:
      </para>
          <screen>
#%PAM-1.0 
auth     requisite pam_nologin.so 
auth     include   common-auth
<emphasis role="bold">auth  required pam_u2f.so authfile=<replaceable>&lt;PATH_TO_u2f_keys&gt;</replaceable></emphasis>
...
        </screen>
          <para>
        Donde <replaceable>&lt;PATH_TO_u2f_keys&gt;</replaceable> es la vía absoluta al archivo <filename>u2f_keys</filename>.
      </para>
        </step>
      </procedure>
    </section>
  </section>
  <section version="5.2" xml:id="legal-disclaimer">
    <info>
      <title xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink">Información legal</title>
    </info>
    <para> Copyright © 2006 –<?dbtimestamp format="Y"?>

 SUSE LLC y colaboradores. Reservados todos los derechos. </para>
    <para>
    Está permitido copiar, distribuir y modificar este documento según los términos de la licencia de documentación gratuita GNU, versión 1.2 o (según su criterio) versión 1.3. Este aviso de copyright y licencia deberán permanecer inalterados. En la sección titulada <quote>GNU Free Documentation License</quote> (Licencia de documentación gratuita GNU) se incluye una copia de la versión 1.2 de la licencia.
  </para>
    <para>
    Para obtener información sobre las marcas comerciales de SUSE, consulte <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://www.suse.com/company/legal/"/>. Todas las marcas comerciales de otros fabricantes son propiedad de sus respectivas empresas. Los símbolos de marcas comerciales (®, ™, etc.) indican marcas comerciales de SUSE y sus filiales. Los asteriscos (*) indican marcas comerciales de otros fabricantes.
  </para>
    <para>
    Toda la información recogida en esta publicación se ha compilado prestando toda la atención posible al más mínimo detalle. Sin embargo, esto no garantiza una precisión total. Ni SUSE LLC, ni sus filiales, ni los autores o traductores serán responsables de los posibles errores o las consecuencias que de ellos pudieran derivarse.
  </para>
  </section>
  <appendix xmlns:its="http://www.w3.org/2005/11/its" version="5.2" role="legal" its:translate="no" xml:id="doc-gfdl-license">
    <info>
      <title xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink">Licencia de documentación gratuita de GNU</title>
    </info>
    <para>
  Copyright (C) 2000, 2001, 2002 Free Software Foundation, Inc. 51 Franklin St, Fifth Floor, Boston, MA 02110-1301, EE. UU. Se permite la copia literal y la distribución de este documento de licencia, pero sin realizar cambios en él.
 </para>
    <bridgehead renderas="sect4">
    0. PREÁMBULO
  </bridgehead>
    <para>
  El propósito de esta Licencia es crear un manual, libro de instrucciones u otro documento funcional y útil "libre", en el sentido de libertad, para garantizar que todo el mundo disfrute de la libertad real de copiarlo y distribuirlo, tras modificarlo o no hacerlo, ya sea con objetivos comerciales o no comerciales. En segundo término, esta Licencia proporciona al autor y al editor una manera de obtener reconocimiento por su trabajo, sin que se le considere responsable de las modificaciones realizadas por otros.
 </para>
    <para>
  Esta Licencia es de tipo "copyleft", lo que significa que los trabajos derivados del documento deben, a su vez, ser libres en el mismo sentido. Esta Licencia complementa a la Licencia pública general de GNU, que es una licencia tipo copyleft diseñada para el software libre.
 </para>
    <para>
  Hemos diseñado esta Licencia para utilizarla en manuales de software libre, ya que el software libre necesita documentación libre: un programa libre debe incluir manuales que proporcionen las mismas libertades que el software. Pero esta licencia no se limita a manuales de software; puede usarse para cualquier texto, sin tener en cuenta su temática o si se publica como libro impreso o no. Recomendamos esta licencia principalmente para trabajos cuyo fin sea instructivo o de referencia.
 </para>
    <bridgehead renderas="sect4">
    1. APLICACIÓN Y DEFINICIONES
  </bridgehead>
    <para>
  Esta Licencia se aplica a todos los manuales u otros trabajos (en cualquier medio) que contengan un aviso del titular del copyright indicando que el producto puede distribuirse según las condiciones de esta Licencia. Tal aviso garantiza en cualquier lugar del mundo, sin pago de derechos de autor y sin límite de tiempo, el uso de dicho trabajo según las condiciones aquí estipuladas. En adelante, la palabra "Documento" se referirá a cualquiera de dichos manuales o trabajos. Cualquier persona es un licenciatario y se hará referencia a él como "Usted". Usted acepta la licencia si copia, modifica o distribuye el trabajo de cualquier modo que requiera permiso según las leyes de copyright.
 </para>
    <para>
  Una "Versión modificada" del Documento hace referencia a cualquier trabajo que contenga el Documento o una porción del mismo, ya sea una copia literal o con modificaciones o traducciones a otro idioma.
 </para>
    <para>
  Una "Sección secundaria" es un apéndice determinado o una sección preliminar del Documento que trata exclusivamente de la relación entre los autores o editores y el tema general del Documento (o temas relacionados) pero que no contiene nada que entre directamente en dicho tema general. Por ejemplo, si el Documento es en parte un texto de matemáticas, una Sección Secundaria puede no explicar nada de matemáticas. La relación puede ser una conexión histórica con el tema o temas relacionados, o una opinión legal, comercial, filosófica, ética o política acerca de ellos.
 </para>
    <para>
  Las "Secciones fijas" son ciertas Secciones Secundarias cuyos títulos son designados como Secciones fijas en el aviso que indica que el documento está sujeto a esta Licencia. Si una sección no entra en la definición de Secundaria, no puede designarse como Fija. El documento puede no tener Secciones fijas. Si el Documento no identifica las Secciones fijas, es que no las tiene.
 </para>
    <para>
  Los "Textos de cubierta" son ciertos pasajes cortos de texto que se incluyen como Textos de cubierta delantera o Textos de cubierta trasera en el aviso que indica que el documento está sujeto a esta Licencia. Un Texto de cubierta delantera puede tener como máximo 5 palabras, y uno de Cubierta trasera puede tener hasta 25 palabras.
 </para>
    <para>
  Una copia "Transparente" del Documento es una copia para lectura en máquina, representada en un formato cuya especificación está disponible para el público en general, apto para que los contenidos puedan ser vistos y editados directamente con editores de texto genéricos; o, en el caso de las imágenes compuestas por píxeles, con programas genéricos de manipulación de imágenes; o en el caso de los dibujos, con algún editor de dibujos ampliamente disponible; y que sea adecuado como entrada para formateadores de texto o para su traducción automática a formatos adecuados para formateadores de texto. Una copia hecha en un formato definido como Transparente, pero cuyo marcado, o ausencia de él, haya sido diseñado para impedir o dificultar modificaciones posteriores por parte de los lectores no se puede considerar como Transparente. Un formato de imagen no es Transparente si se usa para una cantidad de texto sustancial. Una copia que no sea Transparente se denomina "Opaca".
 </para>
    <para>
  Ejemplos de formatos adecuados para copias Transparentes son: ASCII puro sin marcas, formato de entrada de Texinfo, formato de entrada de LaTeX, SGML o XML usando DTD disponibles públicamente, y HTML, PostScript o PDF simples, que sigan los estándares y diseñados para ser modificados por personas. Ejemplos de formatos de imagen transparentes son PNG, XCF y JPG. Los formatos Opacos incluyen formatos de propiedad que pueden ser leídos y editados únicamente en procesadores de textos propietarios, SGML o XML para los cuáles las DTD o herramientas de procesamiento no estén ampliamente disponibles, y HTML, PostScript o PDF generados por algunos procesadores de textos sólo como salida.
 </para>
    <para>
  La "Portada" es, en un libro impreso, la página de título, más las páginas siguientes que sean necesarias para mantener legiblemente el material que esta Licencia requiere en la portada. Para trabajos en formatos que no tengan página de portada como tal, la "Portada" hace referencia al texto cercano a la aparición más destacada del título del trabajo que precede el comienzo del cuerpo del texto.
 </para>
    <para>
  Una sección "Titulada XYZ" hace referencia a una parte del Documento cuyo título es precisamente XYZ o contiene XYZ entre paréntesis, y a continuación, el texto que traduce XYZ a otro idioma (aquí XYZ se refiere a nombres de sección específicos mencionados más abajo como, por ejemplo, "Agradecimientos", "Dedicatorias", "Aprobaciones" o "Historia"). "Conservar el título" de tal sección cuando se modifica el Documento significa que permanece una sección "Titulada XYZ" según esta definición.
 </para>
    <para>
  El Documento puede incluir limitaciones de garantía junto al aviso donde se declara que al Documento se le aplica esta Licencia. Se considera que estas Limitaciones de garantía se incluyen como referencia en esta Licencia, pero solo en concepto de renuncia de garantía: cualquier otra implicación que estas Limitaciones de garantía pudiera tener se considera nula y no tiene efecto alguno en el significado de esta Licencia.
 </para>
    <bridgehead renderas="sect4">
    2. COPIA LITERAL
  </bridgehead>
    <para>
  Usted puede copiar y distribuir el Documento en cualquier medio, sea en forma comercial o no, siempre y cuando esta Licencia, los avisos de copyright y la nota que indica que esta Licencia se aplica al Documento se reproduzcan en todas las copias y que usted no añada ninguna otra condición a las expuestas en esta Licencia. Usted no puede usar medidas técnicas para obstruir o controlar la lectura o copia posterior de las copias que usted haga o distribuya. Sin embargo, usted puede aceptar compensación a cambio de las copias. Si distribuye un número suficientemente grande de copias, también deberá seguir las condiciones de la sección 3.
 </para>
    <para>
  También puede prestar copias, bajo las mismas condiciones establecidas anteriormente, y puede exhibir copias públicamente.
 </para>
    <bridgehead renderas="sect4">
    3. GRANDES CANTIDADES DE COPIAS
  </bridgehead>
    <para>
  Si publica copias impresas del Documento (o copias en medios que tengan normalmente cubiertas impresas) que sobrepasen las 100 unidades, y el aviso de licencia del Documento exige Textos de cubierta, las copias deben llevar cubiertas que especifiquen de forma clara y legible todos esos Textos de cubierta: Textos de cubierta delantera o Textos de cubierta trasera. Ambas cubiertas deben identificarlo a usted clara y legiblemente como editor de tales copias. La cubierta debe mostrar el título completo con todas las palabras igualmente destacadas y visibles. Además puede añadir otro material en las cubiertas. Las copias con cambios limitados a las cubiertas, siempre que conserven el título del Documento y satisfagan estas condiciones, pueden considerarse como copias literales en otros aspectos.
 </para>
    <para>
  Si los textos requeridos para la cubierta son muy numerosos para que encajen legiblemente, debe colocar los primeros (tantos como sea razonable colocar) en la verdadera cubierta y situar el resto en páginas posteriores.
 </para>
    <para>
  Si publica o distribuye copias Opacas del Documento cuya cantidad exceda las 100 unidades, debe incluir una copia Transparente, que pueda ser leída por una máquina, con cada copia Opaca, o bien mostrar, en cada copia Opaca, una dirección de red donde cualquier usuario de la misma tenga acceso por medio de protocolos públicos y estandarizados a una copia Transparente del Documento completa, sin material adicional. Si hace uso de la última opción, deberá tomar las medidas necesarias, cuando comience la distribución de las copias Opacas en cantidad, para garantizar que esta copia Transparente permanezca accesible en el sitio establecido por lo menos un año después de la última vez que distribuyó una copia Opaca de esa edición al público (ya sea directamente o a través de sus agentes o distribuidores).
 </para>
    <para>
  Se solicita, aunque no es obligatorio, que se ponga en contacto con los autores del Documento antes de redistribuir un número grande de copias, para darles la oportunidad de que le proporcionen una versión actualizada del Documento.
 </para>
    <bridgehead renderas="sect4">
    4. MODIFICACIONES
  </bridgehead>
    <para>
  Puede copiar y distribuir una Versión modificada del documento bajo las condiciones de las secciones 2 y 3 anteriores (siempre que la Versión modificada esté sujeta a esta misma Licencia), con la Versión modificada actuando como Documento, lo que otorga licencia de distribución y modificación de la Versión modificada a todos los que posean una copia de ella. Además, debe hacer lo siguiente en la Versión modificada:
 </para>
    <orderedlist numeration="upperalpha" spacing="normal">
      <listitem>
        <para>
    Usar en la Portada (y en las cubiertas, si hay alguna) un título distinto al del Documento y al de las versiones anteriores (que deberían, si hay alguna, estar listadas en la sección de Historia del Documento). Puede usar el mismo título de versiones anteriores siempre y cuando quien las publicó originalmente le otorgue permiso.
   </para>
      </listitem>
      <listitem>
        <para>
    Debe enumerar en la Portada, como autores, a la persona o personas o entidades responsables de la autoría de las modificaciones de la Versión modificada, junto con, al menos, cinco de los autores principales del Documento (todos sus autores principales, si hay menos de cinco), a menos que le eximan de tal requisito.
   </para>
      </listitem>
      <listitem>
        <para>
    Mostrar en la Portada como editor el nombre del editor de la Versión modificada.
   </para>
      </listitem>
      <listitem>
        <para>
    Conservar todos la información de copyright del Documento.
   </para>
      </listitem>
      <listitem>
        <para>
    Añadir información de copyright apropiada a sus modificaciones junto a otra información de copyright.
   </para>
      </listitem>
      <listitem>
        <para>
    Incluir, inmediatamente después de la información de copyright, aviso de licencia dando el permiso público para usar la Versión modificada bajo los términos de esta Licencia, como se muestra en el anexo al final de este documento.
   </para>
      </listitem>
      <listitem>
        <para>
    Conservar en ese aviso de licencia el listado completo de las Secciones fijas y de los Textos de cubierta que sean requeridos en el aviso de Licencia del Documento.
   </para>
      </listitem>
      <listitem>
        <para>
    Incluir una copia sin modificación de esta Licencia.
   </para>
      </listitem>
      <listitem>
        <para>
    Conservar la sección titulada "Historia", conservar su Título y añadirle un elemento que declare al menos el título, el año, los nuevos autores y el editor de la Versión modificada, tal como figuran en la Portada. Si no hay una sección titulada "Historia" en el Documento, deberá crear una estableciendo el título, el año, los autores y el editor del Documento, tal como figuran en su Portada, añadiendo además un elemento que describa la Versión modificada, como se estableció anteriormente.
   </para>
      </listitem>
      <listitem>
        <para>
    Conservar la dirección en red, si la hay, indicada en el Documento para el acceso público a una copia Transparente del mismo, así como las otras direcciones de red incluidas en el Documento para versiones anteriores en las que estuviese basado. Pueden ubicarse en la sección "Historia". Se puede omitir la ubicación en red de un trabajo que haya sido publicado por lo menos cuatro años antes que el Documento mismo, o si el editor original de dicha versión da permiso.
   </para>
      </listitem>
      <listitem>
        <para>
    En cualquier sección titulada "Agradecimientos" o "Dedicatorias", deberá conservar el título de la sección y conservar en ella toda la esencia y el tono de los agradecimientos o dedicatorias incluidos por cada contribuyente.
   </para>
      </listitem>
      <listitem>
        <para>
    Conservar todas las Secciones fijas del Documento, sin alterar su texto ni sus títulos. Los números de sección o el equivalente no se consideran parte de los títulos de la sección.
   </para>
      </listitem>
      <listitem>
        <para>
    Borre cualquier sección titulada "Aprobaciones". Tales secciones no pueden estar incluidas en las Versiones modificadas.
   </para>
      </listitem>
      <listitem>
        <para>
    No cambie el título de ninguna sección existente a "Aprobaciones" ni a otro título que entre en conflicto con el de alguna Sección fija.
   </para>
      </listitem>
      <listitem>
        <para>
    Conserve todas las Limitaciones de garantía.
   </para>
      </listitem>
    </orderedlist>
    <para>
  Si la Versión modificada incluye secciones o apéndices nuevos que se puedan considerar como Secciones secundarias y no contiene material copiado del Documento, puede, opcionalmente, designar algunas o todas esas secciones como fijas. Para hacerlo, añada sus títulos a la lista de Secciones fijas en el aviso de licencia de la Versión modificada. Tales títulos deben ser distintos de cualquier otro título de sección.
 </para>
    <para>
  Puede añadir una sección titulada "Aprobaciones", siempre que contenga únicamente aprobaciones de su Versión modificada otorgadas por otras fuentes (por ejemplo, observaciones de peritos o que el texto haya sido aprobado por una organización como la definición oficial de un estándar).
 </para>
    <para>
  Puede añadir un pasaje de hasta cinco palabras como Texto de cubierta delantera y un pasaje de hasta 25 palabras como Texto de cubierta trasera al final de la lista de textos de cubierta en la Versión modificada. Una entidad solo puede añadir (o hacer que se añada) un pasaje al Texto de cubierta delantera y uno al de Cubierta trasera Si el Documento ya incluye textos de cubiertas añadidos previamente por usted o por la misma entidad a la que usted representa, usted no puede añadir otro; pero puede reemplazar el anterior, con permiso explícito del editor que añadió el anterior.
 </para>
    <para>
  Con esta Licencia, ni los autores ni los editores del Documento dan permiso para usar sus nombres para publicidad ni para asegurar o implicar aprobación de cualquier Versión modificada.
 </para>
    <bridgehead renderas="sect4">
    5. COMBINACIÓN DE DOCUMENTOS
  </bridgehead>
    <para>
  Usted puede combinar el Documento con otros documentos sujetos a esta Licencia, bajo los términos definidos en la sección 4 anterior para versiones modificadas, siempre que incluya en la combinación todas las Secciones fijas de todos los documentos originales, sin modificar, especificadas todas como Secciones fijas del trabajo combinado en su aviso de licencia. Así mismo debe incluir la Limitación de garantía.
 </para>
    <para>
  El trabajo combinado necesita contener solamente una copia de esta Licencia, y puede reemplazar varias Secciones fijas idénticas por una sola copia. Si hay varias Secciones fijas con el mismo nombre pero con contenidos diferentes, haga que el título de cada una de estas secciones sea único añadiéndole al final del mismo, entre paréntesis, el nombre del autor o editor original de esa sección, si es conocido, o de lo contrario, un número único. Haga el mismo ajuste a los títulos de sección en la lista de Secciones fijas del aviso de licencia del trabajo combinado.
 </para>
    <para>
  En la combinación, debe incluir cualquier sección titulada "Historia" de los documentos originales, formando una única sección con el mismo título; de la misma forma combine cualquier sección titulada "Agradecimientos" o "Dedicatorias". Debe borrar todas las secciones tituladas "Aprobaciones".
 </para>
    <bridgehead renderas="sect4">
    6. COLECCIONES DE DOCUMENTOS
  </bridgehead>
    <para>
  Puede hacer una colección que conste del Documento y de otros documentos sujetos a esta Licencia, y reemplazar las copias individuales de esta Licencia de cada uno de los documentos por una sola copia que esté incluida en la colección, siempre que siga las indicaciones de esta Licencia para la copia literal de los documentos en cualquiera de los demás aspectos.
 </para>
    <para>
  Puede extraer un solo documento de una colección de este tipo y distribuirlo individualmente con esta Licencia, siempre que inserte una copia de esta Licencia en el documento extraído, y siga las estipulaciones de esta Licencia en todos los demás aspectos relativos a la copia literal del documento.
 </para>
    <bridgehead renderas="sect4">
    7. AGREGACIÓN CON TRABAJOS INDEPENDIENTES
  </bridgehead>
    <para>
  Una recopilación que conste del Documento o sus derivados y de otros documentos o trabajos separados e independientes, en cualquier medio de almacenamiento o distribución, se denomina un "agregado" si el copyright resultante de la compilación no se usa para limitar los derechos legales de los usuarios de la compilación más allá de lo que permiten los trabajos individuales. Cuando el Documento se incluye en un agregado, esta Licencia no se aplica a otros trabajos del agregado que no sean en sí mismos derivados del Documento.
 </para>
    <para>
  Si el requisito de la sección 3 sobre el Texto de cubierta es aplicable a estas copias del Documento y el Documento es menor que la mitad del agregado entero, los Textos de cubierta del Documento pueden colocarse en cubiertas que enmarquen solamente el Documento dentro del agregado, o el equivalente electrónico de las cubiertas, si el documento está en formato electrónico. En caso contrario deben aparecer en cubiertas impresas enmarcando todo el agregado.
 </para>
    <bridgehead renderas="sect4">
    8. TRADUCCIÓN
  </bridgehead>
    <para>
  La traducción se considera un tipo de modificación, por lo que puede distribuir las traducciones del Documento según los términos de la sección 4. La sustitución de las secciones invariables por traducciones requiere un permiso especial de los titulares de los derechos de autor, pero puede incluir traducciones de algunas o todas las secciones invariables además de las versiones originales de estas secciones. Puede incluir una traducción de esta Licencia, de todas las notas de licencia del documento, así como de las Limitaciones de garantía, siempre que incluya también su versión en inglés y las versiones originales de los avisos de licencia y Limitaciones de garantía. En caso de que haya discrepancias entre la traducción y la versión original en inglés de esta Licencia, el aviso de licencia o la limitación de garantía, prevalecerá la versión original en inglés.
 </para>
    <para>
  Si una sección del Documento está titulada "Agradecimientos", "Dedicatorias" o "Historia", el requisito (sección 4) de conservar su título (sección 1) requerirá, normalmente, que se cambie su título.
 </para>
    <bridgehead renderas="sect4">
    9. CONCLUSIÓN
  </bridgehead>
    <para>
  El Documento no se debe copiar, modificar, sublicenciar ni distribuir bajo otras circunstancias que no sean las previstas en esta Licencia. Cualquier intento de copiar, modificar, sublicenciar y distribuir el Documento por otros medios se considerará nulo y pondrá fin automáticamente a los derechos concedidos mediante esta Licencia. Sin embargo, las partes a las que haya proporcionado copias o derechos según los términos de esta Licencia seguirán conservando sus licencias siempre que se sigan ajustando totalmente a las condiciones aquí expuestas.
 </para>
    <bridgehead renderas="sect4">
    10. REVISIONES FUTURAS DE ESTA LICENCIA
  </bridgehead>
    <para>
  La Free Software Foundation puede publicar versiones nuevas o revisadas de la Licencia de documentación gratuita de GNU de forma periódica. Estas nuevas versiones serán similares en espíritu a esta versión, pero pueden incluir detalles distintos para tratar problemas o preocupaciones nuevos. Consulte <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://www.gnu.org/copyleft/"/>.
 </para>
    <para>
  A cada versión de la Licencia se le asigna un número de versión distintivo. Si el Documento especifica que está sujeto a un número de versión concreto de Licencia y añade "o cualquier versión posterior", tendrá la opción de seguir las cláusulas de dicha versión o de cualquier versión posterior que haya publicado la Free Software Foundation (que no sea un borrador). Si el Documento no indica ningún número de versión de licencia, puede elegir cualquier versión que haya publicado la Free Software Foundation (que no sea un borrador).
 </para>
    <bridgehead renderas="sect4">
    ANEXO: Cómo usar esta Licencia en sus documentos
  </bridgehead>
    <screen>Copyright (c) YEAR YOUR NAME.
Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.2
or any later version published by the Free Software Foundation;
with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.
A copy of the license is included in the section entitled “GNU
Free Documentation License”.</screen>
    <para>
  Si tiene Secciones fijas, Textos de cubierta delantera y Textos de cubierta trasera, reemplace la frase "sin textos de [...]" por esto:
 </para>
    <screen>with the Invariant Sections being LIST THEIR TITLES, with the
Front-Cover Texts being LIST, and with the Back-Cover Texts being LIST.</screen>
    <para>
  Si tiene Secciones fijas sin textos de cubierta, o alguna otra combinación de los tres, combine las alternativas para adaptarse a la situación.
 </para>
    <para>
  Si su documento contiene ejemplos de código de programa no triviales, se recomienda que estos ejemplos estén sujetos a la licencia de software libre que usted elija, como la Licencia pública general de GNU para permitir su uso en software libre.
</para>
  </appendix>
</article>
