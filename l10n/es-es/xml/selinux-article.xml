<?xml version="1.0" encoding="UTF-8"?>
<article xmlns="http://docbook.org/ns/docbook" xml:base="selinux-article.xml" version="5.0" xml:id="selinux-article" xml:lang="es">
  <info>
    <title xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">SELinux</title>
    <revhistory xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" xml:id="rh-selinux-article">
      <revision>
        <date>2023-10-10</date>
        <revdescription>
          <para>
              Initial version.
            </para>
        </revdescription>
      </revision>
    </revhistory>
    <meta xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" name="maintainer" content="jsindelarova@suse.common" its:translate="no"/>
    <meta xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" name="updated" content="2023-10-26" its:translate="no"/>
    <meta xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" name="architecture" its:translate="no">
      <phrase>AMD64/Intel 64</phrase>
      <phrase>POWER</phrase>
    </meta>
    <meta xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" name="productname" its:translate="no">
      <productname version="6.0" os="slmicro">
        <phrase>
          <phrase os="slmicro">SUSE Linux Micro</phrase>
        </phrase>
      </productname>
    </meta>
    <meta xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" name="title" its:translate="yes">Directiva, contexto y resolución de problemas de SELinux</meta>
    <meta xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" name="description" its:translate="yes">Este artículo proporciona una descripción general de los componentes básicos de SELinux.</meta>
    <meta xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" name="social-descr" its:translate="yes">Este artículo proporciona una descripción general de los componentes básicos de SELinux.</meta>
    <meta xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" name="category" its:translate="no">
      <phrase>Security</phrase>
    </meta>
    <meta xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" name="task" its:translate="no">
      <phrase>Security</phrase>
    </meta>
    <meta xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" name="series" its:translate="no">Product &amp; Solutions</meta>
    <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
      <dm:bugtracker>
        <dm:url>https://bugzilla.suse.com/enter_bug.cgi</dm:url>
        <dm:component>Documentation</dm:component>
        <dm:product>SUSE Linux Enterprise Micro 6.0</dm:product>
        <dm:assignee>maintainer@suse.com</dm:assignee>
      </dm:bugtracker>
      <dm:editurl>https://github.com/SUSE/doc-modular/tree/main/articles/</dm:editurl>
      <dm:translation>no</dm:translation>
    </dm:docmanager>
    <abstract xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
      <variablelist>
        <varlistentry>
          <term>DESCRIPCIÓN</term>
          <listitem>
            <para>
              El tema proporciona información básica sobre Security-Enhanced Linux.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>INTENCIÓN</term>
          <listitem>
            <para>
              Desea comprender SELinux y cómo configurarlo en <phrase><phrase os="slmicro">SLE Micro</phrase></phrase>.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>ESFUERZO</term>
          <listitem>
            <para>
                Se tardan aproximadamente 40 minutos en leer el artículo.
              </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </abstract>
  </info>
  <section role="concept" xml:lang="es" version="5.2" xml:id="selinux-about">
    <info>
      <abstract xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
        <para/>
      </abstract>
      <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">Acerca de SELinux</title>
      <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="jsindelarova@suse.com" its:translate="no"/>
    </info>
    <para>
    SELinux se desarrolló como una solución de seguridad adicional de Linux que utiliza el marco de seguridad del kernel de Linux. El propósito era permitir una directiva de seguridad más detallada que fuera más allá de los controles de acceso discrecional (DAC) estándar, los permisos de archivo tradicionales de propietario/grupo/mundo y lectura/escritura/ejecución.
  </para>
    <para>
    SELinux utiliza etiquetas adjuntas a objetos (por ejemplo, archivos y sockets de red) para tomar decisiones de acceso.
  </para>
    <para>
    La acción por defecto de SELinux es denegar cualquier acceso. SELinux permite solo las acciones que se permitieron específicamente en la directiva de SELinux. Otra característica de SELinux que aumenta la seguridad es que permite el confinamiento estricto de los procesos hasta el punto en que los procesos no pueden acceder a los archivos de otros procesos en el mismo sistema.
  </para>
    <para>
    SELinux fue diseñado para mejorar las soluciones de seguridad existentes, no para reemplazarlas. Por ejemplo, el control de acceso discrecional (DAC) se sigue aplicando, incluso si el sistema utiliza SELinux. Si DAC deniega el acceso primero, SELinux no se utiliza porque el acceso ya estaba bloqueado por otro mecanismo.
  </para>
  </section>
  <section role="task" xml:lang="es" version="5.2" xml:id="getting-selinux">
    <info>
      <abstract xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
        <para/>
      </abstract>
      <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">Obtención de SELinux</title>
      <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="jsindelarova@suse.com" its:translate="no"/>
    </info>
    <para>
    SELinux se instala por defecto cuando YaST instala <phrase><phrase os="slmicro">SLE Micro</phrase></phrase> o forma parte de las imágenes preconstruidas.
  </para>
    <para>
    Si SELinux no está configurado en su sistema, ejecute el siguiente comando:
  </para>
    <screen><prompt role="root"># </prompt>transactional-update setup-selinux</screen>
    <para>
    Rearranque el sistema después de que finalice el comando. El comando instala la directiva de SELinux si no está instalada, establece el modo de SELinux <literal>enforcing</literal> y reconstruye <literal>initrd</literal>.
  </para>
  </section>
  <section role="concept" xml:lang="es" version="5.2" xml:id="selinux-modes">
    <info>
      <abstract xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
        <para/>
      </abstract>
      <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">Modos de SELinux</title>
      <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="jsindelarova@suse.com" its:translate="no"/>
    </info>
    <para>
    SELinux puede ejecutarse en uno de estos tres modos: <literal>disabled</literal>, <literal>permissive</literal> o <literal>enforcing</literal>.
  </para>
    <para>
    El uso del modo <literal>disabled</literal> significa que no se aplica ninguna regla de la directiva de SELinux y que el sistema no está protegido. Por lo tanto, no se recomienda utilizar el modo <literal>disabled</literal>.
  </para>
    <para>
    En el modo <literal>permissive</literal>, SELinux está activo, se carga la directiva de seguridad, se etiqueta el sistema de archivos y se registran las entradas de denegación de acceso. Sin embargo, la directiva no se aplica y, por lo tanto, no se deniega el acceso.
  </para>
    <para>
    En el modo <literal>enforced</literal>, se aplica la directiva de seguridad. Se deniegan todos los accesos no permitidos explícitamente por la directiva.
    
  </para>
    <para>
    Para obtener información sobre cómo cambiar entre los modos de SELinux, consulte la <xref linkend="selinux-switching-modes" role="internalbook"/>.
  </para>
    <section role="task" xml:lang="es" version="5.2" xml:id="selinux-switching-modes">
      <info>
        <abstract xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
          <para/>
        </abstract>
        <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">Cambio del modo de SELinux</title>
        <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="jsindelarova@suse.com" its:translate="no"/>
      </info>
      <para>
    Puede cambiar el modo de SELinux de forma temporal o permanente.
  </para>
      <section xml:id="sellinux-temporary-mode-changes">
        <title>Cambio temporal del modo de SELinux</title>
        <para>
      Para establecer temporalmente el modo <literal>permissive</literal> o <literal>enforcing</literal> de SELinux, utilice el comando <command>setenforce</command>.
    </para>
        <para>
      El comando <command>setenforce</command> tiene la siguiente sintaxis:
    </para>
        <screen><prompt role="root"># </prompt>setenforce <replaceable>MODE_ID</replaceable></screen>
        <para>
      donde <replaceable>MODE_ID</replaceable> es <replaceable>0</replaceable> para el modo <literal>permissive</literal> o <replaceable>1</replaceable> para el modo <literal>enforced</literal>.
    </para>
        <para>
      Recuerde que no puede inhabilitar SELinux mediante el comando <command>setenforce</command>.
    </para>
      </section>
      <section xml:id="selinux-permanent-mode-changes">
        <title>Cambio permanente del modo de SELinux</title>
        <para>
      Para realizar cambios en el modo de SELinux que persistan al rearrancar el sistema, edite el archivo de configuración <filename>/etc/selinux/config</filename>. En este archivo, también puede inhabilitar SELinux en el sistema. Sin embargo, no se recomienda esta acción. Si cabe la posibilidad de que SELinux esté causando problemas en el sistema, cambie al modo <literal>permissive</literal> y depure el sistema.
    </para>
        <para>
      En el archivo <filename>/etc/selinux/config</filename>, cambie el valor de <literal>SELINUX</literal> a <literal>disabled</literal>, <literal>permissive</literal> o <literal>enforced</literal> de la siguiente manera:
    </para>
        <screen>SELINUX=disabled</screen>
        <para>
      Los cambios en el archivo se aplican después del siguiente rearranque.
    </para>
        <note>
          <title>cambio de etiqueta del sistema después de cambiar del modo <literal>disabled</literal></title>
          <para>
        Si inhabilita SELinux en el sistema y luego lo habilita, asegúrese de volver a etiquetar el sistema. Si SELinux está inhabilitado y realiza cambios en el sistema de archivos, los cambios ya no se reflejan en el contexto (por ejemplo, los archivos nuevos no tienen contexto). Por lo tanto, debe volver a etiquetar el sistema mediante el comando <command>restorecon</command>, con el parámetro de arranque <literal>autorelabel</literal> o creando un archivo que active el cambio de etiqueta en el siguiente arranque. Para crear el archivo, ejecute el siguiente comando:
      </para>
          <screen><prompt role="root"># </prompt>touch /etc/selinux/.autorelabel</screen>
          <para>
        Después de rearrancar, el archivo <filename>/etc/selinux/.autorelabel</filename> se sustituye por otro archivo de indicador, <filename>/etc/selinux/.relabelled</filename>, para evitar que se vuelva a etiquetar en los rearranques posteriores.
      </para>
        </note>
      </section>
      <section xml:id="selinux-verify-mode">
        <title>Verificación del modo de SELinux activo</title>
        <para>
      Para verificar el modo, ejecute el siguiente comando:
    </para>
        <screen><prompt role="root"># </prompt>getenforce</screen>
        <para>
      El comando debe devolver <literal>permissive</literal> o <literal>enforced</literal>, dependiendo del <replaceable>MODE_ID</replaceable> proporcionado.
    </para>
      </section>
    </section>
    <section role="task" xml:lang="es" version="5.2" xml:id="task-verification">
      <info>
        <abstract xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
          <para/>
        </abstract>
        <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">Verificación de que SELinux funciona</title>
        <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="jsindelarova@suse.com" its:translate="no"/>
      </info>
      <para>
    Si está realizando cambios de configuración, puede ser útil cambiar al modo permissive. Durante este tiempo, los usuarios pueden etiquetar archivos incorrectamente y, por lo tanto, causar problemas al volver al modo enforcing.
  </para>
      <para>
    Para devolver el sistema a su estado seguro, realice los siguientes pasos:
  </para>
      <procedure>
        <step>
          <para>
        Restablezca el contexto de seguridad:
      </para>
          <screen>
            <prompt>&gt; </prompt>
            <command>sudo</command>
            <command>restorecon -R /</command>
          </screen>
        </step>
        <step>
          <para>
        Cambie al modo enforcing definiendo <option>SELINUX=enforcing</option> en <filename>/etc/selinux/config</filename>.
      </para>
        </step>
        <step>
          <para>
        Rearranque el sistema y vuelva a iniciar sesión.
      </para>
        </step>
        <step>
          <para>
        Ejecute el comando <command>sestatus -v</command>. Debería proporcionar un resultado similar al siguiente:
      </para>
          <screen><prompt>&gt; </prompt><command>sudo</command><command>sestatus -v</command>
SELinux status:                 enabled
SELinuxfs mount:                /sys/fs/selinux
SELinux root directory:         /etc/selinux
Loaded policy name:             targeted
Current mode:                   enforcing
Mode from config file:          enforcing
Policy MLS status:              enabled
Policy deny_unknown status:     allowed
Memory protection checking:     requested(insecure)
Max kernel policy version:      33

Process contexts:
Current context:                unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023
Init context:                   system_u:system_r:init_t:s0
/usr/sbin/sshd                  system_u:system_r:sshd_t:s0-s0:c0.c1023

File contexts:
Controlling terminal:           unconfined_u:object_r:user_tty_device_t:s0
/etc/passwd                     system_u:object_r:passwd_file_t:s0
/etc/shadow                     system_u:object_r:shadow_t:s0
/bin/bash                       system_u:object_r:shell_exec_t:s0 \
                                -&gt; system_u:object_r:shell_exec_t:s0
/bin/login                      system_u:object_r:login_exec_t:s0
/bin/sh                         system_u:object_r:bin_t:s0 \
                                -&gt; system_u:object_r:shell_exec_t:s0
/sbin/agetty                    system_u:object_r:bin_t:s0 \
                                -&gt; system_u:object_r:getty_exec_t:s0
/sbin/init                      system_u:object_r:bin_t:s0 -&gt; \
                                system_u:object_r:init_exec_t:s0
/usr/sbin/sshd                  system_u:object_r:sshd_exec_t:s0</screen>
        </step>
        <step>
          <para>
        Si el sistema no funciona correctamente, compruebe los archivos de registro de <filename>/var/log/audit/audit.log</filename>. Para obtener más información, consulte <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://documentation.suse.com/smart-supported.html">SELinux troubleshooting</link>.
      </para>
        </step>
      </procedure>
    </section>
  </section>
  <section role="concept" xml:lang="es" version="5.2" xml:id="selinux-context">
    <info>
      <abstract xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
        <para/>
      </abstract>
      <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">Contexto de seguridad de SELinux</title>
      <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="jsindelarova@suse.com" its:translate="no"/>
    </info>
    <para>
    El contexto de seguridad es un conjunto de datos asignados a un archivo o proceso. Se compone de un usuario, función, tipo, nivel y categoría de SELinux. Esta información se utiliza para tomar decisiones de control de acceso.
  </para>
    <variablelist>
      <title>Campos de contexto de SELinux</title>
      <varlistentry>
        <term>usuario de SELinux</term>
        <listitem>
          <para>
          Una identidad definida en la directiva que está autorizada para un conjunto específico de funciones y para un rango de <emphasis>niveles</emphasis> específicos. Cada usuario de Linux se asigna a un solo usuario de SELinux. Sin embargo, un usuario de SELinux puede tener varias funciones.
        </para>
          <para>
          SELinux no utiliza la lista de cuentas de usuario mantenida por Linux en <filename>/etc/passwd</filename>, sino que utiliza su propia base de datos y asignación. Por convención, el nombre de identidad tiene el sufijo <literal>_u</literal>, por ejemplo: <literal>user_u</literal>.
        </para>
          <para>
          Cuando se crea una nueva cuenta de Linux y el usuario de SELinux no está asignado a la cuenta, se utiliza el usuario de SELinux por defecto. Normalmente, el valor por defecto es <literal>unconfined_u</literal>. Para obtener información sobre cómo cambiar el valor por defecto, consulte la <xref linkend="semanage-login-command" role="internalbook"/>.
        </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>función</term>
        <listitem>
          <para>
          Define un conjunto de permisos que se pueden otorgar a un usuario. Una función define a qué <emphasis>tipos</emphasis> puede acceder un usuario asignado a esta función. Por convención, el nombre de la función tiene como sufijo <literal>_r</literal>, por ejemplo: <literal>system_r</literal>.
        </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>tipo</term>
        <listitem>
          <para>
          El tipo transmite información sobre cómo pueden interactuar archivos y procesos concretos. Un proceso consta de archivos con un tipo concreto de SELinux y no puede acceder a archivos que no sean de ese tipo. Por convención, el nombre del tipo tiene como sufijo <literal>_t</literal>, por ejemplo: <literal>var_t</literal>.
        </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>nivel</term>
        <listitem>
          <para>
          Un atributo opcional que especifica el rango de niveles de autorización en la seguridad multinivel.
        </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>categoría</term>
        <listitem>
          <para>
          Un atributo opcional que permite añadir categorías a procesos, archivos y usuarios. Un usuario puede acceder a los archivos de la misma categoría.
        </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <para>
    A continuación se muestra un ejemplo de un contexto SELinux:
  </para>
    <screen>allow user_t bin_t:file {read execute gettattr};</screen>
    <para>
    Esta regla de ejemplo indica que el usuario que tiene el tipo de contexto <systemitem class="username">user_t</systemitem> (este usuario se denomina objeto de origen) puede acceder a los objetos de clase <emphasis>archivo</emphasis> con el tipo de contexto <filename>bin_t</filename> (el destino), utilizando los permisos <literal>read</literal>, <literal>execute</literal> y <literal>getattr</literal>.
  </para>
  </section>
  <section role="concept" xml:lang="es" version="5.2" xml:id="selinux-policy">
    <info>
      <abstract xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
        <para/>
      </abstract>
      <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">Descripción general de la directiva de SELinux</title>
      <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="jsindelarova@suse.com" its:translate="no"/>
    </info>
    <para>
    La directiva es el componente clave de SELinux. La directiva de SELinux define reglas que especifican qué objetos pueden acceder a qué archivos, directorios, puertos y procesos de un sistema. Para ello, se define un contexto de seguridad para todos esos elementos.
  </para>
    <para>
    Una directiva de SELinux contiene un gran número de reglas. Para que sean más fáciles de gestionar, las directivas suelen dividirse en módulos. Esto permite al administrador activar o desactivar la protección para distintas partes del sistema.
  </para>
    <para>
    Al compilar la directiva para su sistema, tendrá la opción de trabajar con una directiva modular o con una directiva monolítica, donde se utiliza una directiva enorme para proteger todo el sistema. Se recomienda encarecidamente utilizar una directiva modular y no una directiva monolítica. Las directivas modulares son mucho más fáciles de gestionar.
  </para>
    <para><phrase><phrase os="slmicro">SLE Micro</phrase></phrase> se suministra con la directiva de SELinux <literal>targeted</literal>.
  </para>
    <section role="task" xml:lang="es" version="5.2" xml:id="selinux-switching-modules">
      <info>
        <abstract xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
          <para/>
        </abstract>
        <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">Trabajo con módulos de SELinux</title>
        <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="jsindelarova@suse.com" its:translate="no"/>
      </info>
      <para>
    Como administrador, puede activar o desactivar módulos. Esto puede ser útil si desea inhabilitar solo una parte de la directiva de SELinux y no desea ejecutar un servicio específico sin la protección de SELinux.
  </para>
      <para>
    Para ver todos los módulos de directivas de SELinux en uso, ejecute el comando:
  </para>
      <screen>
        <command>semodule -l</command>
      </screen>
      <para>
    Después de obtener el nombre del módulo que desea desactivar, ejecute el comando:
  </para>
      <screen>
        <prompt>&gt; </prompt>
        <command>sudo</command>
        <command>semodule -d <replaceable>MODULENAME</replaceable></command>
      </screen>
      <para>
    Para activar el módulo de directivas, ejecute el comando:
  </para>
      <screen>
        <prompt>&gt; </prompt>
        <command>sudo</command>
        <command>semodule -e <replaceable>MODULENAME</replaceable></command>
      </screen>
    </section>
    <section role="task" xml:lang="es" version="5.2" xml:id="creating-policy-containers">
      <info>
        <abstract xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
          <para/>
        </abstract>
        <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">Creación de directivas para contenedores</title>
        <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="jsindelarova@suse.com" its:translate="no"/>
      </info>
      <para><phrase><phrase os="slmicro">SLE Micro</phrase></phrase> se proporciona con una directiva que, por defecto, no permite que los contenedores accedan a los archivos fuera de los datos del contenedor. Por otro lado, se permite todo el acceso a la red. Normalmente, los contenedores se crean con montajes de vinculación y deben poder acceder a otros directorios, como <filename>/home</filename> o <filename>/var</filename>. Es posible que desee permitir el acceso a estos directorios o, por el contrario, restringir algunos puertos al contenedor incluso si se utiliza SELinux en el sistema. En tal caso, debe crear nuevas reglas de directiva que habiliten o inhabiliten el acceso. <phrase><phrase os="slmicro">SLE Micro</phrase></phrase> proporciona la herramienta Udica para este fin.
  </para>
      <para>
    El siguiente procedimiento describe cómo crear una directiva personalizada para los contenedores:
  </para>
      <procedure>
        <step>
          <para>
        Asegúrese de que SELinux esté en modo enforcing. Para obtener información detallada, consulte la <xref linkend="selinux-switching-modes" role="internalbook"/>.
      </para>
        </step>
        <step>
          <para>
        Inicie un contenedor con los siguientes parámetros:
      </para>
          <screen><prompt role="root"># </prompt>podman run -v /home:/home:rw -v /var/:/var/:rw -p 21:21 -it sle15 bash</screen>
          <para>
        El contenedor se ejecuta con la directiva por defecto que no permite el acceso a los puntos de montaje, pero no restringe otros puertos.
      </para>
        </step>
        <step>
          <para>
        Puede salir del contenedor.
      </para>
        </step>
        <step>
          <para>
        Obtenga el ID del contenedor:
      </para>
          <screen><prompt role="root"># </prompt>podman ps -a

CONTAINER ID  IMAGE                                                                              COMMAND     CREATED        STATUS            PORTS               NAMES
e59f9d0f86f2  registry.opensuse.org/devel/bci/tumbleweed/containerfile/opensuse/bci/ruby:latest  /bin/bash   8 minutes ago  Up 8 seconds ago  0.0.0.0:21-&gt;21/tcp  zen_ramanujan
        </screen>
        </step>
        <step>
          <para>
        Cree un archivo JSON que Udica utilizará para crear una directiva personalizada para el contenedor:
      </para>
          <screen><prompt role="root"># </prompt>podman inspect e59f9d0f86f2 &gt; <replaceable>OUTPUT_JSON_FILE</replaceable></screen>
          <para>
        Por ejemplo, sustituya <replaceable>OUTPUT_JSON_FILE</replaceable> por <filename>container.json</filename>.
      </para>
        </step>
        <step>
          <para>
        Ejecute Udica para generar una directiva según los parámetros del contenedor:
      </para>
          <screen><prompt role="root"># </prompt>udica -j <replaceable>OUTPUT_JSON_FILE</replaceable><replaceable>CUSTOM_CONTAINER_POLICY</replaceable></screen>
          <para>
        Por ejemplo:
      </para>
          <screen><prompt role="root"># </prompt>udica -j container.json custom_policy</screen>
        </step>
        <step>
          <para>
        De acuerdo con las instrucciones proporcionadas, cargue los módulos de directivas ejecutando:
      </para>
          <screen><prompt role="root"># </prompt>semodule -i custom_policy.cil /usr/share/udica/templates/{base_container.cil,net_container.cil,home_container.cil}</screen>
        </step>
        <step>
          <para>
        Ejecute un contenedor con el nuevo módulo de directivas con la opción <option>--security-opt</option> siguiente:
      </para>
          <screen><prompt role="root"># </prompt>podman run --security-opt label=type:custom_policy.process -v /home:/home:rw -v /var/:/var/:rw -p 21:21 -it sle15 bash</screen>
        </step>
      </procedure>
    </section>
  </section>
  <section role="concept" xml:lang="es" version="5.2" xml:id="selinux-booleans">
    <info>
      <abstract xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
        <para/>
      </abstract>
      <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">Booleanos de SELinux</title>
      <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="jsindelarova@suse.com" its:translate="no"/>
    </info>
    <para>
    Los booleanos de SELinux admiten un enfoque de gestión de directivas flexible. Por ejemplo, permiten inhabilitar una directiva concreta en un servidor y mantener la misma directiva activa en otro. En otras palabras, un booleano puede entenderse como un cambio para una regla de directiva. En lugar de cambiar una directiva concreta, puede desactivarla. En el código de la directiva, los booleanos se denominan <emphasis>tunable</emphasis>. Dado que los booleanos se incluyen en la directiva, están disponibles en cuanto se carga una directiva.
  </para>
    <para>
    Los cambios en los booleanos pueden ser permanentes o temporales y durar hasta el final de la sesión.
  </para>
    <para>
    SELinux ofrece herramientas que permiten mostrar y ver detalles o cambiar el estado de los booleanos. Para obtener más información, consulte las secciones siguientes.
  </para>
    <section role="task" xml:lang="es" version="5.2" xml:id="selinux-working-with-booleans">
      <info>
        <abstract xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
          <para/>
        </abstract>
        <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">Uso de booleanos</title>
        <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="jsindelarova@suse.com" its:translate="no"/>
      </info>
      <section xml:id="listing-booleans">
        <title>Listado de booleanos</title>
        <para>
      Puede utilizar el comando <command>getsebool</command> o <command>semanage</command> para mostrar los booleanos definidos actualmente. Para mostrar todos los booleanos definidos actualmente, junto con su estado, ejecute el siguiente comando:
    </para>
        <screen><prompt role="root"># </prompt>getsebool -a

abrt_anon_write --&gt; off
abrt_handle_event --&gt; off
abrt_upload_watch_anon_write --&gt; on
...
  </screen>
        <para>
      Para obtener más detalles sobre booleanos concretos, puede utilizar el comando <command>semanage</command> de la siguiente manera:
    </para>
        <screen><prompt role="root"># </prompt>semanage boolean -l

SELinux boolean               State   Default     Description

abrt_anon_write               (off  ,  off)       Allow abrt to anon write
abrt_handle_event             (off  ,  off)       Allow abrt to handle event
abrt_upload_watch_anon_write  (on   ,   on)       Allow abrt to upload watch anon write
  </screen>
        <para>
      Para obtener el estado de un booleano individual, puede utilizar el siguiente comando:
    </para>
        <screen><prompt role="root"># </prompt>getsebool <replaceable>BOOLEAN_NAME</replaceable></screen>
        <para>
      Como alternativa, puede utilizar el comando <command>grep</command> en la resultado de <command>semanage boolean</command>:
    </para>
        <screen><prompt role="root"># </prompt>semanage boolean -l | grep <replaceable>BOOLEAN_NAME</replaceable></screen>
      </section>
      <section xml:id="switching-booleans">
        <title>Alternar booleanos</title>
        <para>
      Los comandos <command>setsebool</command> y <command>semanage</command> se pueden utilizar para alternar el valor de los booleanos. Puede cambiar el estado del booleano de forma permanente o temporal hasta que finalice la sesión. Para cambiar un valor de booleano temporalmente, ejecute el siguiente comando:
    </para>
        <screen><prompt role="root"># </prompt>setsebool <replaceable>BOOLEAN_NAME</replaceable><replaceable>BOOLEAN_VALUE</replaceable></screen>
        <para>
      Donde <replaceable>BOOLEAN_VALUE</replaceable> es <literal>on</literal> o <literal>off</literal>.
    </para>
        <para>
      Para cambiar un valor de booleano de forma permanente, ejecute uno de los dos comandos siguientes:
    </para>
        <screen><prompt role="root"># </prompt>setsebool -P <replaceable>BOOLEAN_NAME</replaceable><replaceable>BOOLEAN_VALUE</replaceable></screen>
        <para>
      También puede utilizar el comando <command>semanage</command>:
    </para>
        <screen><prompt role="root"># </prompt>semanage boolean -m --<replaceable>BOOLEAN_VALUE</replaceable><replaceable>BOOLEAN_NAME</replaceable></screen>
        <para>
      Donde <replaceable>BOOLEAN_VALUE</replaceable> es <literal>on</literal> o <literal>off</literal>.
    </para>
        <para>
      Un solo booleano puede habilitar o inhabilitar varias reglas de directiva. Para ver qué reglas de directiva están habilitadas o inhabilitadas por qué booleanos, utilice la herramienta <command>sedispol</command>, que puede analizar el archivo de directiva:
    </para>
        <screen><prompt role="root"># </prompt>sedispol /etc/selinux/targeted/policy/policy.32</screen>
        <para>
      Dado que las reglas de directiva suelen ser enormes, se recomienda configurar un archivo de salida seleccionando <option>f</option> y especificando un nombre de archivo. Después de especificar el nombre del archivo, pulse <option>6</option>. A continuación, puede inspeccionar el archivo.
    </para>
      </section>
    </section>
  </section>
  <section role="reference" xml:lang="es" version="5.2" xml:id="selinux-tools">
    <info>
      <abstract xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
        <para/>
      </abstract>
      <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">Herramientas para gestionar SELinux</title>
      <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="jsindelarova@suse.com" its:translate="no"/>
    </info>
    <para><phrase><phrase os="slmicro">SLE Micro</phrase></phrase> proporciona herramientas para gestionar SELinux en el sistema. Si las herramientas descritas a continuación no están instaladas en su sistema, instálelas ejecutando:
  </para>
    <screen><prompt role="root"># </prompt>transactional-update pkg install policycoreutils-python-utils</screen>
    <para>
    Después de una instalación correcta, rearranque el sistema.
  </para>
    <section xml:id="selinux-z-option">
      <title>Uso de la opción <option>Z</option></title>
      <para>
      Si SELinux está instalado y configurado, puede utilizar <option>-Z</option> para los comandos normales como <command>ls</command>, <command>id</command> o <command>ps</command>. Con esta opción, puede mostrar el contexto de seguridad de los archivos o procesos. Por ejemplo, con el comando <command>ls</command>:
    </para>
      <screen><prompt>&gt; </prompt>ls -Z /etc/shadow

        system_u:object_r:shadow_t:s0 /etc/shadow
      </screen>
    </section>
    <section xml:id="sec-chcon-command">
      <title>El comando <command>chcon</command></title>
      <para>
      El nombre del comando <command>chcon</command> significa "cambiar contexto". El comando puede cambiar el contexto de seguridad completo de un archivo al valor proporcionado en la interfaz de línea de comandos, o puede cambiar partes del contexto. Como alternativa, puede proporcionar un archivo que sirva de referencia.
    </para>
      <para>
      Para cambiar el contexto de seguridad completo de un archivo, la sintaxis del comando es la siguiente:
    </para>
      <screen><prompt role="root"># </prompt>chcon <replaceable>SECURITY_CONTEXT</replaceable><replaceable>FILENAME</replaceable></screen>
      <para>
      Donde:
    </para>
      <itemizedlist>
        <listitem>
          <para><replaceable>SECURITY_CONTEXT</replaceable> tiene el formato: <replaceable>SELinux_USER</replaceable>:<replaceable>ROLE</replaceable>:<replaceable>TYPE</replaceable>:<replaceable>LEVEL</replaceable>:<replaceable>CATEGORY</replaceable>. Por ejemplo, el contexto podría ser: <emphasis>system_u:object_r:httpd_config_t:s0</emphasis>.
        </para>
        </listitem>
        <listitem>
          <para><replaceable>FILENAME</replaceable> es una vía al archivo cuyo contexto se debe cambiar.
        </para>
        </listitem>
      </itemizedlist>
      <para>
      Para definir un contexto de seguridad según un archivo proporcionado que sirva de referencia, ejecute <command>chcon</command> de la siguiente forma:
    </para>
      <screen><prompt role="root"># </prompt>chcon --reference=<replaceable>REFERENCE_FILE</replaceable><replaceable>FILENAME</replaceable></screen>
      <para>
      Donde:
    </para>
      <itemizedlist>
        <listitem>
          <para><replaceable>REFERENCE_FILE</replaceable> es una vía a un archivo que debe utilizarse como referencia.
        </para>
        </listitem>
        <listitem>
          <para><replaceable>FILENAME</replaceable> es una vía al archivo cuyo contexto se debe cambiar.
        </para>
        </listitem>
      </itemizedlist>
      <para>
      Como alternativa, puede cambiar solo una parte del contexto de seguridad. La sintaxis general del comando <command>chcon</command> es la siguiente:
    </para>
      <screen><prompt role="root"># </prompt>chcon <replaceable>CONTEXT_OPTION</replaceable><replaceable>CONTEXT_PART</replaceable><replaceable>FILENAME</replaceable></screen>
      <para>
      Las opciones y los argumentos tienen el siguiente significado:
    </para>
      <itemizedlist>
        <listitem>
          <para>
          Dependiendo de la parte de contexto, <replaceable>CONTEXT_OPTION</replaceable> puede ser cualquiera de los siguientes:
        </para>
          <variablelist>
            <varlistentry>
              <term><option>-u</option> resp <option>--user</option></term>
              <listitem>
                <para>
                Indica que se cambiará un contexto de usuario de SELinux en el archivo proporcionado:
              </para>
                <screen><prompt role="root"># </prompt>chcon -u system_u logind.conf</screen>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term><option>-r</option> resp <option>--role</option></term>
              <listitem>
                <para>
                Solo se cambiará la parte de la función en el contexto del archivo proporcionado:
              </para>
                <screen><prompt role="root"># </prompt>chcon -r object_r logind.conf</screen>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term><option>-t</option> resp <option>--type</option></term>
              <listitem>
                <para>
                Solo se cambiará la parte del tipo en el contexto del archivo proporcionado:
              </para>
                <screen><prompt role="root"># </prompt>chcon -t etc_t logind.conf</screen>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term><option>-l</option> resp <option>--range</option></term>
              <listitem>
                <para>
                Solo se cambiará la parte del rango en el contexto de seguridad:
              </para>
                <screen><prompt role="root"># </prompt>chcon -l s0 logind.conf</screen>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
        <listitem>
          <para><replaceable>CONTEXT_PART</replaceable> es el valor concreto del contexto de seguridad que se va a definir.
        </para>
        </listitem>
        <listitem>
          <para><replaceable>FILENAME</replaceable> es una vía al archivo cuyo contexto se va a cambiar.
        </para>
        </listitem>
      </itemizedlist>
      <note>
        <title>uso de <command>chcon</command> en enlaces simbólicos</title>
        <para>
        Por defecto, cuando se cambia el contexto de seguridad en un enlace simbólico, se cambia el contexto del destino del enlace, pero <emphasis role="bold">no</emphasis> se cambia el contexto del enlace simbólico. Para forzar a que <command>chcon</command> cambie el contexto del enlace simbólico y no del destino del enlace, utilice la opción <option>--no-dereference</option> como se muestra a continuación:
      </para>
        <screen><prompt role="root"># </prompt>chcon --no-dereference -u system_u -t etc_t network.conf</screen>
      </note>
      <para>
      Puede cambiar el contexto de todos los archivos de un directorio mediante la opción recursiva:
    </para>
      <screen><prompt role="root"># </prompt>chcon --recursive  system_u:object_r:httpd_config_t:s0 conf.d</screen>
    </section>
    <section xml:id="sec-getenforce-setenforce">
      <title>comandos <command>getenforce</command> y <command>setenforce</command></title>
      <para>
      El comando <command>getenforce</command> devuelve el modo de SELinux actual: <literal>Enforcing</literal>, <literal>Permissive</literal> o <literal>Disabled</literal>.
    </para>
      <screen><prompt role="root"># </prompt>getenforce

Permissive
    </screen>
      <para>
      El comando <command>setenforce</command> cambia temporalmente el modo de SELinux a enforcing o permissive. No puede utilizar este comando para inhabilitar SELinux. Tenga en cuenta que el cambio solo se mantiene hasta el siguiente rearranque. Para cambiar el estado de forma permanente, siga la descripción de la <xref linkend="selinux-switching-modes" role="internalbook"/>.
    </para>
      <screen><prompt role="root"># </prompt>setenforce <replaceable>MODE_ID</replaceable></screen>
      <para>
      donde <replaceable>MODE_ID</replaceable> es <replaceable>0</replaceable> para el modo <literal>permissive</literal> o <replaceable>1</replaceable> para el modo <literal>enforced</literal>.
    </para>
    </section>
    <section xml:id="sec-fixfiles-command">
      <title>El guion <command>fixfiles</command></title>
      <para>
      El guion permite realizar las siguientes tareas con el contexto de seguridad:
    </para>
      <itemizedlist>
        <listitem>
          <para>
          Comprobar si el contexto es correcto
        </para>
        </listitem>
        <listitem>
          <para>
          Cambiar las etiquetas de contexto de archivo incorrectas
        </para>
        </listitem>
        <listitem>
          <para>
          Volver a etiquetar el sistema si ha añadido una directiva nueva
        </para>
        </listitem>
      </itemizedlist>
      <para>
      La sintaxis del guion es la siguiente:
    </para>
      <screen><prompt role="root"># </prompt>fixfiles [<replaceable>OPTIONS</replaceable>] <replaceable>ARGUMENT</replaceable></screen>
      <para>
      Donde:
    </para>
      <itemizedlist>
        <listitem>
          <para><replaceable>OPTIONS</replaceable> puede ser lo siguiente:
        </para>
          <variablelist>
            <varlistentry>
              <term>
                <option>-l</option>
                <replaceable>LOGFILE</replaceable>
              </term>
              <listitem>
                <para>
                Guarda el resultado en el archivo proporcionado.
              </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>
                <option>-o</option>
                <replaceable>OUTPUT_FILE</replaceable>
              </term>
              <listitem>
                <para>
                Guarda en el archivo de resultado proporcionado los nombres de todos los archivos cuyo contexto de archivo difiere del valor por defecto.
              </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>
                <option>-F</option>
              </term>
              <listitem>
                <para>
                Fuerza un restablecimiento del contexto.
              </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
        <listitem>
          <para><replaceable>ARGUMENT</replaceable> puede ser algo de lo siguiente:
        </para>
          <variablelist>
            <varlistentry>
              <term>
                <command>check</command>
              </term>
              <listitem>
                <para>
                Muestra el contexto de archivo anterior y actual para una etiqueta incorrecta sin realizar ningún cambio
              </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>
                <command>relabel</command>
              </term>
              <listitem>
                <para>
                Vuelve a etiquetar los contextos de archivo incorrectos de acuerdo con la directiva cargada actualmente
              </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>
                <command>restore</command>
              </term>
              <listitem>
                <para>
                Restaura los contextos de archivo incorrectos a los valores por defecto
              </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>
                <command>verify</command>
              </term>
              <listitem>
                <para>
                Muestra todos los archivos con etiquetas de contexto de archivo incorrectas sin realizar ningún cambio
              </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </itemizedlist>
    </section>
    <section xml:id="sec-semanage-command">
      <title>El comando <command>semanage</command></title>
      <para>
      El comando <command>semanage</command> se puede utilizar para configurar partes de la directiva sin necesidad de volver a compilar la directiva desde los orígenes. El comando permite realizar las siguientes tareas:
    </para>
      <itemizedlist>
        <listitem>
          <para>
          Gestionar booleanos mediante el argumento <option>boolean</option>. Para obtener detalles sobre los booleanos, consulte la <xref linkend="selinux-working-with-booleans" role="internalbook"/>.
        </para>
        </listitem>
        <listitem>
          <para>
          Ajustar el contexto de los archivos mediante el argumento <option>fcontext</option>.
        </para>
        </listitem>
        <listitem>
          <para>
          Gestionar asignaciones de usuarios mediante el argumento <option>login</option>.
        </para>
        </listitem>
        <listitem>
          <para>
          Gestionar usuarios de SELinux mediante el argumento <option>user</option>.
        </para>
        </listitem>
        <listitem>
          <para>
          Gestionar módulos de directivas de SELinux mediante el argumento <option>module</option>.
        </para>
        </listitem>
      </itemizedlist>
      <para>
      La sintaxis general del comando es la siguiente:
    </para>
      <screen><prompt role="root"># </prompt>semanage <replaceable>ARGUMENT</replaceable><replaceable>OPTIONS</replaceable> [<replaceable>OBJECT_NAME</replaceable>]</screen>
      <para>
      Donde:
    </para>
      <itemizedlist>
        <listitem>
          <para><replaceable>ARGUMENT</replaceable> es uno de estos valores: <command>login</command>, <command>user</command>, <command>fcontext</command>, <command>boolean</command>, <command>module</command>.
        </para>
        </listitem>
        <listitem>
          <para><replaceable>OPTIONS</replaceable> depende del valor de <replaceable>ARGUMENT</replaceable> proporcionado. Las opciones comunes se explican en <xref linkend="list-common-options" role="internalbook"/>.
        </para>
        </listitem>
        <listitem>
          <para><replaceable>OBJECT_NAME</replaceable>, dependiendo del valor proporcionado en <replaceable>ARGUMENT</replaceable>, puede ser un nombre de inicio de sesión, un nombre de módulo, un nombre de archivo o un usuario de SELinux.
        </para>
        </listitem>
      </itemizedlist>
      <variablelist xml:id="list-common-options">
        <title>Opciones comunes</title>
        <varlistentry>
          <term><option>-a</option>, <option>--add</option></term>
          <listitem>
            <para>
            Añade un objeto proporcionado.
          </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term><option>-h</option>, <option>--help</option></term>
          <listitem>
            <para>
            Imprime el comando help.
          </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>--extract</term>
          <listitem>
            <para>
            Muestra los comandos que se han utilizado para cambiar el sistema (booleanos, contexto de archivo, etc.).
          </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term><option>-l</option>, <option>--list</option></term>
          <listitem>
            <para>
            Muestra todos los objetos.
          </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term><option>-m</option>, <option>--modify</option></term>
          <listitem>
            <para>
            Modifica el objeto proporcionado.
          </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term><option>-n</option>, <option>--noheading</option></term>
          <listitem>
            <para>
            Modifica el resultado de la operación de listado omitiendo los encabezados.
          </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term><option>-s</option>, <option>--seuser</option></term>
          <listitem>
            <para>
            Especifica el usuario de SELinux.
          </para>
          </listitem>
        </varlistentry>
      </variablelist>
      <para>
      Otras opciones son específicas de comandos <command>semanage</command> concretos y se describen en las secciones correspondientes.
    </para>
      <section xml:id="sec-semanage-fcontext">
        <title>El comando <command>semanage fcontext</command></title>
        <para>
        Con el comando <command>semanage fcontext</command>, puede realizar las siguientes tareas:
      </para>
        <itemizedlist>
          <listitem>
            <para>
            Consultar definiciones de contexto de archivo
          </para>
          </listitem>
          <listitem>
            <para>
            Añadir contextos en archivos
          </para>
          </listitem>
          <listitem>
            <para>
            Añadir sus propias reglas
          </para>
          </listitem>
        </itemizedlist>
        <para>
        Los cambios realizados en el contexto de archivo mediante el comando <command>semanage
        fcontext</command> no requieren modificaciones ni que se recompile la directiva.
      </para>
        <para>
        Además de las opciones comunes descritas en <xref linkend="list-common-options" role="internalbook"/>, el comando <command>semanage
        fcontext</command> admite las siguientes opciones:
      </para>
        <variablelist>
          <varlistentry>
            <term><option>-e</option>, <option>--equal</option></term>
            <listitem>
              <para>
              Permite utilizar el contexto de la vía proporcionada para etiquetar archivos en un directorio diferente (la vía de destino proporcionada). Por ejemplo, desea asignar el mismo contexto que tiene <filename>/home</filename> a un directorio personal <filename>/export/home</filename> alternativo. Si utiliza esta opción, debe proporcionar la vía de origen y la vía de destino:
            </para>
              <screen><prompt role="root"># </prompt>semanage fcontext -a -e /home /export/home</screen>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term><option>-f</option>, <option>--ftype</option></term>
            <listitem>
              <para>
              Especifique un tipo de archivo. Use uno de los valores siguientes:
            </para>
              <itemizedlist>
                <listitem>
                  <para><option>a</option>: todos los archivos, que también es el valor por defecto
                </para>
                </listitem>
                <listitem>
                  <para><option>b</option>: un dispositivo de bloques
                </para>
                </listitem>
                <listitem>
                  <para><option>c</option>: un dispositivo de caracteres
                </para>
                </listitem>
                <listitem>
                  <para><option>d</option>: un directorio
                </para>
                </listitem>
                <listitem>
                  <para><option>f</option>: archivos normales
                </para>
                </listitem>
                <listitem>
                  <para><option>l</option>: un enlace simbólico
                </para>
                </listitem>
                <listitem>
                  <para><option>p</option>: una canalización con nombre
                </para>
                </listitem>
                <listitem>
                  <para><option>s</option>: un socket
                </para>
                </listitem>
              </itemizedlist>
            </listitem>
          </varlistentry>
        </variablelist>
      </section>
      <section xml:id="semanage-login-command">
        <title>El comando <command>semanage login</command></title>
        <para>
        <command>semanage login</command> permite realizar las siguientes tareas:
      </para>
        <itemizedlist>
          <listitem>
            <para>
            Asignar usuarios de Linux a un usuario de SELinux concreto. Por ejemplo, para asignar el usuario de Linux <emphasis>tux</emphasis> en <literal>sysadm_u</literal>, ejecute el comando:
          </para>
            <screen>
              <prompt role="root"># </prompt>
              <command>semanage login -a -s sysadm_u tux</command>
            </screen>
          </listitem>
          <listitem>
            <para>
            Asignar un grupo de usuarios de Linux a un usuario de SELinux concreto. Por ejemplo, para asignar usuarios del grupo <emphasis>writers</emphasis> en <literal>user_u</literal>, ejecute el comando:
          </para>
            <screen>
              <prompt role="root"># </prompt>
              <command>semanage login -a -s user_u %writers</command>
            </screen>
            <para>
            El grupo aparece en el resultado de <command>semanage login
            -l</command> con el prefijo %.
          </para>
            <para>
            Tenga en cuenta que el grupo de usuarios debe ser el principal, ya que la asignación de usuarios de SELinux a grupos complementarios puede provocar asignaciones incompatibles.
          </para>
            <screen>
              <prompt role="root"># </prompt>
              <command>semanage login -m -s staff_u %writers</command>
            </screen>
          </listitem>
          <listitem>
            <para>
            Asignar usuarios de Linux en un rango de seguridad SELinux MLS/MCS concreto.
          </para>
          </listitem>
          <listitem>
            <para>
            Modificar la asignación ya creada. Para ello, basta con sustituir la opción <option>-a</option> por <option>-m</option> en los comandos anteriores.
          </para>
          </listitem>
          <listitem>
            <para>
            Definir el usuario de SELinux por defecto para los nuevos usuarios de Linux. El usuario habitual de SELinux por defecto es <literal>unconfined_u</literal>. Para cambiar el valor a <literal>staff_u</literal>, ejecute el comando:
          </para>
            <screen>
              <prompt role="root"># </prompt>
              <command>semanage login -m -s staff_u __default__</command>
            </screen>
          </listitem>
        </itemizedlist>
      </section>
      <section xml:id="semanage-boolean-command">
        <title>El comando <command>semanage boolean</command></title>
        <para>
        El comando <command>semanage boolean</command> se utiliza para controlar booleanos en la directiva de SELinux.
      </para>
        <para>
        La sinopsis del comando tiene el siguiente aspecto:
      </para>
        <screen>semanage boolean [-h] [-n]  [ --extract |
       --deleteall | --list [-C] | --modify ( --on | --off | -1 | -0 ) boolean ]</screen>
        <para>
        Además de las opciones comunes, puede utilizar las siguientes opciones específicas para el comando <command>semanage boolean</command>:
      </para>
        <variablelist>
          <varlistentry>
            <term>--list -C</term>
            <listitem>
              <para>
              Para mostrar una lista de modificaciones locales de booleanos.
            </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>-m --on | -1</term>
            <listitem>
              <para>
              Para activar el booleano proporcionado.
            </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>-m --off | -0</term>
            <listitem>
              <para>
              Para desactivar el booleano proporcionado.
            </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>-D, --deleteall</term>
            <listitem>
              <para>
              Para eliminar todas las modificaciones locales de booleanos.
            </para>
            </listitem>
          </varlistentry>
        </variablelist>
        <para>
        El uso más común del comando es activar o desactivar un booleano concreto. Por ejemplo, para activar el booleano <literal>authlogin_yubikey</literal>, ejecute:
      </para>
        <screen>
          <prompt role="root"># </prompt>
          <command>semanage boolean -m on authlogin_yubikey</command>
        </screen>
      </section>
      <section xml:id="semanage-user-command">
        <title>El comando <command>semanage user</command></title>
        <para>
        El comando <command>semanage user</command> controla la asignación entre el usuario de SELinux y las funciones y los niveles de MLS/MCS.
      </para>
        <para>
        Además de las opciones comunes descritas en <xref linkend="list-common-options" role="internalbook"/>, el comando <command>semanage
        use</command> admite las siguientes opciones:
      </para>
        <variablelist>
          <varlistentry>
            <term>-R [FUNCIONES], --roles [FUNCIONES]</term>
            <listitem>
              <para>
              Una lista de funciones de SELinux. Puede encerrar varias funciones entre comillas dobles y separarlas con espacios, o puede utilizar <option>-R</option> varias veces.
            </para>
            </listitem>
          </varlistentry>
        </variablelist>
        <para>
        Con este comando, puede realizar las siguientes tareas:
      </para>
        <itemizedlist>
          <listitem>
            <para>
            Mostrar la asignación de usuarios de SELinux en funciones ejecutando:
          </para>
            <screen>
              <prompt role="root"># </prompt>
              <command>semanage user -l</command>
            </screen>
          </listitem>
          <listitem>
            <para>
            Cambiar las funciones asignadas al usuario de SELinux <literal>user_u</literal>.
          </para>
            <screen>
              <prompt role="root"># </prompt>
              <command>semanage user -m -R "system_r unconfined_r user_r"</command>
            </screen>
          </listitem>
          <listitem>
            <para>
            Asignar a <literal>admin_u</literal> la función <literal>staff_r</literal> y una categoría <literal>s0</literal>:
          </para>
            <screen>
              <prompt role="root"># </prompt>
              <command>semanage user -a -R "staff_r -r s0 admin_u</command>
            </screen>
          </listitem>
          <listitem>
            <para>
            Crear un nuevo usuario de SELinux, por ejemplo, <literal>admin_u</literal> con la función <literal>staff_r</literal>. También es necesario definir el prefijo de etiquetado para este usuario mediante <option>-P</option>:
          </para>
            <screen>
              <prompt role="root"># </prompt>
              <command>semanage user -a -R "staff_r" -P admin admin_u</command>
            </screen>
          </listitem>
        </itemizedlist>
      </section>
      <section xml:id="semanage-module-command">
        <title>El comando <command>semanage module</command></title>
        <para>
        El comando <command>semanage module</command> puede instalar, eliminar, inhabilitar o habilitar módulos de directivas de SELinux.
      </para>
        <para>
        Además de las opciones comunes descritas en <xref linkend="list-common-options" role="internalbook"/>, el comando <command>semanage
        fcontext</command> admite las siguientes opciones:
      </para>
        <variablelist>
          <varlistentry>
            <term><option>-d</option>, <option>--disable</option></term>
            <listitem>
              <para>
              Para inhabilitar el módulo de directivas de SELinux proporcionado:
            </para>
              <screen>
                <prompt role="root"># </prompt>
                <command>semanage module --disable <replaceable>MODULE_NAME</replaceable></command>
              </screen>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term><option>-e</option>, <option>--enable</option></term>
            <listitem>
              <para>
              Para habilitar el módulo de directivas de SELinux proporcionado:
            </para>
              <screen>
                <prompt role="root"># </prompt>
                <command>semanage module --enable <replaceable>MODULE_NAME</replaceable></command>
              </screen>
            </listitem>
          </varlistentry>
        </variablelist>
      </section>
    </section>
    <section xml:id="sestatus-command">
      <title>El comando <command>sestatus</command></title>
      <para>
      <command>sestatus</command> obtiene el estado de un sistema en el que se ejecuta SELinux.
    </para>
      <para>
      La sintaxis genérica del comando tiene este aspecto:
    </para>
      <screen>sestatus <replaceable>[OPTION]</replaceable> </screen>
      <para>
      Cuando se ejecuta sin opciones ni argumentos, el comando genera la siguiente información:
    </para>
      <screen><prompt role="root"># </prompt><command>sestatus</command>

SELinux status:                 enabled
SELinuxfs mount:                /sys/fs/selinux
SELinux root directory:         /etc/selinux
Loaded policy name:             targeted
Current mode:                   enforcing
Mode from config file:          enforcing
Policy MLS status:              enabled
Policy deny_unknown status:     allowed
Memory protection checking:     requested (insecure)
Max kernel policy version:      33
      </screen>
      <para>
      El comando puede tener las siguientes opciones:
    </para>
      <variablelist>
        <varlistentry>
          <term>-b</term>
          <listitem>
            <para>
            Muestra el estado de los booleanos en el sistema.
          </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>-v</term>
          <listitem>
            <para>
            Muestra el contexto de seguridad de los archivos y procesos mostrados en el archivo <filename>/etc/sestatus.conf</filename>.
          </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </section>
  </section>
  <section version="5.2" xml:id="legal-disclaimer">
    <info>
      <title xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink">Información legal</title>
    </info>
    <para> Copyright © 2006 –<?dbtimestamp format="Y"?>

 SUSE LLC y colaboradores. Reservados todos los derechos. </para>
    <para>
    Está permitido copiar, distribuir y modificar este documento según los términos de la licencia de documentación gratuita GNU, versión 1.2 o (según su criterio) versión 1.3. Este aviso de copyright y licencia deberán permanecer inalterados. En la sección titulada <quote>GNU Free Documentation License</quote> (Licencia de documentación gratuita GNU) se incluye una copia de la versión 1.2 de la licencia.
  </para>
    <para>
    Para obtener información sobre las marcas comerciales de SUSE, consulte <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://www.suse.com/company/legal/"/>. Todas las marcas comerciales de otros fabricantes son propiedad de sus respectivas empresas. Los símbolos de marcas comerciales (®, ™, etc.) indican marcas comerciales de SUSE y sus filiales. Los asteriscos (*) indican marcas comerciales de otros fabricantes.
  </para>
    <para>
    Toda la información recogida en esta publicación se ha compilado prestando toda la atención posible al más mínimo detalle. Sin embargo, esto no garantiza una precisión total. Ni SUSE LLC, ni sus filiales, ni los autores o traductores serán responsables de los posibles errores o las consecuencias que de ellos pudieran derivarse.
  </para>
  </section>
  <appendix xmlns:its="http://www.w3.org/2005/11/its" version="5.2" role="legal" its:translate="no" xml:id="doc-gfdl-license">
    <info>
      <title xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink">Licencia de documentación gratuita de GNU</title>
    </info>
    <para>
  Copyright (C) 2000, 2001, 2002 Free Software Foundation, Inc. 51 Franklin St, Fifth Floor, Boston, MA 02110-1301, EE. UU. Se permite la copia literal y la distribución de este documento de licencia, pero sin realizar cambios en él.
 </para>
    <bridgehead renderas="sect4">
    0. PREÁMBULO
  </bridgehead>
    <para>
  El propósito de esta Licencia es crear un manual, libro de instrucciones u otro documento funcional y útil "libre", en el sentido de libertad, para garantizar que todo el mundo disfrute de la libertad real de copiarlo y distribuirlo, tras modificarlo o no hacerlo, ya sea con objetivos comerciales o no comerciales. En segundo término, esta Licencia proporciona al autor y al editor una manera de obtener reconocimiento por su trabajo, sin que se le considere responsable de las modificaciones realizadas por otros.
 </para>
    <para>
  Esta Licencia es de tipo "copyleft", lo que significa que los trabajos derivados del documento deben, a su vez, ser libres en el mismo sentido. Esta Licencia complementa a la Licencia pública general de GNU, que es una licencia tipo copyleft diseñada para el software libre.
 </para>
    <para>
  Hemos diseñado esta Licencia para utilizarla en manuales de software libre, ya que el software libre necesita documentación libre: un programa libre debe incluir manuales que proporcionen las mismas libertades que el software. Pero esta licencia no se limita a manuales de software; puede usarse para cualquier texto, sin tener en cuenta su temática o si se publica como libro impreso o no. Recomendamos esta licencia principalmente para trabajos cuyo fin sea instructivo o de referencia.
 </para>
    <bridgehead renderas="sect4">
    1. APLICACIÓN Y DEFINICIONES
  </bridgehead>
    <para>
  Esta Licencia se aplica a todos los manuales u otros trabajos (en cualquier medio) que contengan un aviso del titular del copyright indicando que el producto puede distribuirse según las condiciones de esta Licencia. Tal aviso garantiza en cualquier lugar del mundo, sin pago de derechos de autor y sin límite de tiempo, el uso de dicho trabajo según las condiciones aquí estipuladas. En adelante, la palabra "Documento" se referirá a cualquiera de dichos manuales o trabajos. Cualquier persona es un licenciatario y se hará referencia a él como "Usted". Usted acepta la licencia si copia, modifica o distribuye el trabajo de cualquier modo que requiera permiso según las leyes de copyright.
 </para>
    <para>
  Una "Versión modificada" del Documento hace referencia a cualquier trabajo que contenga el Documento o una porción del mismo, ya sea una copia literal o con modificaciones o traducciones a otro idioma.
 </para>
    <para>
  Una "Sección secundaria" es un apéndice determinado o una sección preliminar del Documento que trata exclusivamente de la relación entre los autores o editores y el tema general del Documento (o temas relacionados) pero que no contiene nada que entre directamente en dicho tema general. Por ejemplo, si el Documento es en parte un texto de matemáticas, una Sección Secundaria puede no explicar nada de matemáticas. La relación puede ser una conexión histórica con el tema o temas relacionados, o una opinión legal, comercial, filosófica, ética o política acerca de ellos.
 </para>
    <para>
  Las "Secciones fijas" son ciertas Secciones Secundarias cuyos títulos son designados como Secciones fijas en el aviso que indica que el documento está sujeto a esta Licencia. Si una sección no entra en la definición de Secundaria, no puede designarse como Fija. El documento puede no tener Secciones fijas. Si el Documento no identifica las Secciones fijas, es que no las tiene.
 </para>
    <para>
  Los "Textos de cubierta" son ciertos pasajes cortos de texto que se incluyen como Textos de cubierta delantera o Textos de cubierta trasera en el aviso que indica que el documento está sujeto a esta Licencia. Un Texto de cubierta delantera puede tener como máximo 5 palabras, y uno de Cubierta trasera puede tener hasta 25 palabras.
 </para>
    <para>
  Una copia "Transparente" del Documento es una copia para lectura en máquina, representada en un formato cuya especificación está disponible para el público en general, apto para que los contenidos puedan ser vistos y editados directamente con editores de texto genéricos; o, en el caso de las imágenes compuestas por píxeles, con programas genéricos de manipulación de imágenes; o en el caso de los dibujos, con algún editor de dibujos ampliamente disponible; y que sea adecuado como entrada para formateadores de texto o para su traducción automática a formatos adecuados para formateadores de texto. Una copia hecha en un formato definido como Transparente, pero cuyo marcado, o ausencia de él, haya sido diseñado para impedir o dificultar modificaciones posteriores por parte de los lectores no se puede considerar como Transparente. Un formato de imagen no es Transparente si se usa para una cantidad de texto sustancial. Una copia que no sea Transparente se denomina "Opaca".
 </para>
    <para>
  Ejemplos de formatos adecuados para copias Transparentes son: ASCII puro sin marcas, formato de entrada de Texinfo, formato de entrada de LaTeX, SGML o XML usando DTD disponibles públicamente, y HTML, PostScript o PDF simples, que sigan los estándares y diseñados para ser modificados por personas. Ejemplos de formatos de imagen transparentes son PNG, XCF y JPG. Los formatos Opacos incluyen formatos de propiedad que pueden ser leídos y editados únicamente en procesadores de textos propietarios, SGML o XML para los cuáles las DTD o herramientas de procesamiento no estén ampliamente disponibles, y HTML, PostScript o PDF generados por algunos procesadores de textos sólo como salida.
 </para>
    <para>
  La "Portada" es, en un libro impreso, la página de título, más las páginas siguientes que sean necesarias para mantener legiblemente el material que esta Licencia requiere en la portada. Para trabajos en formatos que no tengan página de portada como tal, la "Portada" hace referencia al texto cercano a la aparición más destacada del título del trabajo que precede el comienzo del cuerpo del texto.
 </para>
    <para>
  Una sección "Titulada XYZ" hace referencia a una parte del Documento cuyo título es precisamente XYZ o contiene XYZ entre paréntesis, y a continuación, el texto que traduce XYZ a otro idioma (aquí XYZ se refiere a nombres de sección específicos mencionados más abajo como, por ejemplo, "Agradecimientos", "Dedicatorias", "Aprobaciones" o "Historia"). "Conservar el título" de tal sección cuando se modifica el Documento significa que permanece una sección "Titulada XYZ" según esta definición.
 </para>
    <para>
  El Documento puede incluir limitaciones de garantía junto al aviso donde se declara que al Documento se le aplica esta Licencia. Se considera que estas Limitaciones de garantía se incluyen como referencia en esta Licencia, pero solo en concepto de renuncia de garantía: cualquier otra implicación que estas Limitaciones de garantía pudiera tener se considera nula y no tiene efecto alguno en el significado de esta Licencia.
 </para>
    <bridgehead renderas="sect4">
    2. COPIA LITERAL
  </bridgehead>
    <para>
  Usted puede copiar y distribuir el Documento en cualquier medio, sea en forma comercial o no, siempre y cuando esta Licencia, los avisos de copyright y la nota que indica que esta Licencia se aplica al Documento se reproduzcan en todas las copias y que usted no añada ninguna otra condición a las expuestas en esta Licencia. Usted no puede usar medidas técnicas para obstruir o controlar la lectura o copia posterior de las copias que usted haga o distribuya. Sin embargo, usted puede aceptar compensación a cambio de las copias. Si distribuye un número suficientemente grande de copias, también deberá seguir las condiciones de la sección 3.
 </para>
    <para>
  También puede prestar copias, bajo las mismas condiciones establecidas anteriormente, y puede exhibir copias públicamente.
 </para>
    <bridgehead renderas="sect4">
    3. GRANDES CANTIDADES DE COPIAS
  </bridgehead>
    <para>
  Si publica copias impresas del Documento (o copias en medios que tengan normalmente cubiertas impresas) que sobrepasen las 100 unidades, y el aviso de licencia del Documento exige Textos de cubierta, las copias deben llevar cubiertas que especifiquen de forma clara y legible todos esos Textos de cubierta: Textos de cubierta delantera o Textos de cubierta trasera. Ambas cubiertas deben identificarlo a usted clara y legiblemente como editor de tales copias. La cubierta debe mostrar el título completo con todas las palabras igualmente destacadas y visibles. Además puede añadir otro material en las cubiertas. Las copias con cambios limitados a las cubiertas, siempre que conserven el título del Documento y satisfagan estas condiciones, pueden considerarse como copias literales en otros aspectos.
 </para>
    <para>
  Si los textos requeridos para la cubierta son muy numerosos para que encajen legiblemente, debe colocar los primeros (tantos como sea razonable colocar) en la verdadera cubierta y situar el resto en páginas posteriores.
 </para>
    <para>
  Si publica o distribuye copias Opacas del Documento cuya cantidad exceda las 100 unidades, debe incluir una copia Transparente, que pueda ser leída por una máquina, con cada copia Opaca, o bien mostrar, en cada copia Opaca, una dirección de red donde cualquier usuario de la misma tenga acceso por medio de protocolos públicos y estandarizados a una copia Transparente del Documento completa, sin material adicional. Si hace uso de la última opción, deberá tomar las medidas necesarias, cuando comience la distribución de las copias Opacas en cantidad, para garantizar que esta copia Transparente permanezca accesible en el sitio establecido por lo menos un año después de la última vez que distribuyó una copia Opaca de esa edición al público (ya sea directamente o a través de sus agentes o distribuidores).
 </para>
    <para>
  Se solicita, aunque no es obligatorio, que se ponga en contacto con los autores del Documento antes de redistribuir un número grande de copias, para darles la oportunidad de que le proporcionen una versión actualizada del Documento.
 </para>
    <bridgehead renderas="sect4">
    4. MODIFICACIONES
  </bridgehead>
    <para>
  Puede copiar y distribuir una Versión modificada del documento bajo las condiciones de las secciones 2 y 3 anteriores (siempre que la Versión modificada esté sujeta a esta misma Licencia), con la Versión modificada actuando como Documento, lo que otorga licencia de distribución y modificación de la Versión modificada a todos los que posean una copia de ella. Además, debe hacer lo siguiente en la Versión modificada:
 </para>
    <orderedlist numeration="upperalpha" spacing="normal">
      <listitem>
        <para>
    Usar en la Portada (y en las cubiertas, si hay alguna) un título distinto al del Documento y al de las versiones anteriores (que deberían, si hay alguna, estar listadas en la sección de Historia del Documento). Puede usar el mismo título de versiones anteriores siempre y cuando quien las publicó originalmente le otorgue permiso.
   </para>
      </listitem>
      <listitem>
        <para>
    Debe enumerar en la Portada, como autores, a la persona o personas o entidades responsables de la autoría de las modificaciones de la Versión modificada, junto con, al menos, cinco de los autores principales del Documento (todos sus autores principales, si hay menos de cinco), a menos que le eximan de tal requisito.
   </para>
      </listitem>
      <listitem>
        <para>
    Mostrar en la Portada como editor el nombre del editor de la Versión modificada.
   </para>
      </listitem>
      <listitem>
        <para>
    Conservar todos la información de copyright del Documento.
   </para>
      </listitem>
      <listitem>
        <para>
    Añadir información de copyright apropiada a sus modificaciones junto a otra información de copyright.
   </para>
      </listitem>
      <listitem>
        <para>
    Incluir, inmediatamente después de la información de copyright, aviso de licencia dando el permiso público para usar la Versión modificada bajo los términos de esta Licencia, como se muestra en el anexo al final de este documento.
   </para>
      </listitem>
      <listitem>
        <para>
    Conservar en ese aviso de licencia el listado completo de las Secciones fijas y de los Textos de cubierta que sean requeridos en el aviso de Licencia del Documento.
   </para>
      </listitem>
      <listitem>
        <para>
    Incluir una copia sin modificación de esta Licencia.
   </para>
      </listitem>
      <listitem>
        <para>
    Conservar la sección titulada "Historia", conservar su Título y añadirle un elemento que declare al menos el título, el año, los nuevos autores y el editor de la Versión modificada, tal como figuran en la Portada. Si no hay una sección titulada "Historia" en el Documento, deberá crear una estableciendo el título, el año, los autores y el editor del Documento, tal como figuran en su Portada, añadiendo además un elemento que describa la Versión modificada, como se estableció anteriormente.
   </para>
      </listitem>
      <listitem>
        <para>
    Conservar la dirección en red, si la hay, indicada en el Documento para el acceso público a una copia Transparente del mismo, así como las otras direcciones de red incluidas en el Documento para versiones anteriores en las que estuviese basado. Pueden ubicarse en la sección "Historia". Se puede omitir la ubicación en red de un trabajo que haya sido publicado por lo menos cuatro años antes que el Documento mismo, o si el editor original de dicha versión da permiso.
   </para>
      </listitem>
      <listitem>
        <para>
    En cualquier sección titulada "Agradecimientos" o "Dedicatorias", deberá conservar el título de la sección y conservar en ella toda la esencia y el tono de los agradecimientos o dedicatorias incluidos por cada contribuyente.
   </para>
      </listitem>
      <listitem>
        <para>
    Conservar todas las Secciones fijas del Documento, sin alterar su texto ni sus títulos. Los números de sección o el equivalente no se consideran parte de los títulos de la sección.
   </para>
      </listitem>
      <listitem>
        <para>
    Borre cualquier sección titulada "Aprobaciones". Tales secciones no pueden estar incluidas en las Versiones modificadas.
   </para>
      </listitem>
      <listitem>
        <para>
    No cambie el título de ninguna sección existente a "Aprobaciones" ni a otro título que entre en conflicto con el de alguna Sección fija.
   </para>
      </listitem>
      <listitem>
        <para>
    Conserve todas las Limitaciones de garantía.
   </para>
      </listitem>
    </orderedlist>
    <para>
  Si la Versión modificada incluye secciones o apéndices nuevos que se puedan considerar como Secciones secundarias y no contiene material copiado del Documento, puede, opcionalmente, designar algunas o todas esas secciones como fijas. Para hacerlo, añada sus títulos a la lista de Secciones fijas en el aviso de licencia de la Versión modificada. Tales títulos deben ser distintos de cualquier otro título de sección.
 </para>
    <para>
  Puede añadir una sección titulada "Aprobaciones", siempre que contenga únicamente aprobaciones de su Versión modificada otorgadas por otras fuentes (por ejemplo, observaciones de peritos o que el texto haya sido aprobado por una organización como la definición oficial de un estándar).
 </para>
    <para>
  Puede añadir un pasaje de hasta cinco palabras como Texto de cubierta delantera y un pasaje de hasta 25 palabras como Texto de cubierta trasera al final de la lista de textos de cubierta en la Versión modificada. Una entidad solo puede añadir (o hacer que se añada) un pasaje al Texto de cubierta delantera y uno al de Cubierta trasera Si el Documento ya incluye textos de cubiertas añadidos previamente por usted o por la misma entidad a la que usted representa, usted no puede añadir otro; pero puede reemplazar el anterior, con permiso explícito del editor que añadió el anterior.
 </para>
    <para>
  Con esta Licencia, ni los autores ni los editores del Documento dan permiso para usar sus nombres para publicidad ni para asegurar o implicar aprobación de cualquier Versión modificada.
 </para>
    <bridgehead renderas="sect4">
    5. COMBINACIÓN DE DOCUMENTOS
  </bridgehead>
    <para>
  Usted puede combinar el Documento con otros documentos sujetos a esta Licencia, bajo los términos definidos en la sección 4 anterior para versiones modificadas, siempre que incluya en la combinación todas las Secciones fijas de todos los documentos originales, sin modificar, especificadas todas como Secciones fijas del trabajo combinado en su aviso de licencia. Así mismo debe incluir la Limitación de garantía.
 </para>
    <para>
  El trabajo combinado necesita contener solamente una copia de esta Licencia, y puede reemplazar varias Secciones fijas idénticas por una sola copia. Si hay varias Secciones fijas con el mismo nombre pero con contenidos diferentes, haga que el título de cada una de estas secciones sea único añadiéndole al final del mismo, entre paréntesis, el nombre del autor o editor original de esa sección, si es conocido, o de lo contrario, un número único. Haga el mismo ajuste a los títulos de sección en la lista de Secciones fijas del aviso de licencia del trabajo combinado.
 </para>
    <para>
  En la combinación, debe incluir cualquier sección titulada "Historia" de los documentos originales, formando una única sección con el mismo título; de la misma forma combine cualquier sección titulada "Agradecimientos" o "Dedicatorias". Debe borrar todas las secciones tituladas "Aprobaciones".
 </para>
    <bridgehead renderas="sect4">
    6. COLECCIONES DE DOCUMENTOS
  </bridgehead>
    <para>
  Puede hacer una colección que conste del Documento y de otros documentos sujetos a esta Licencia, y reemplazar las copias individuales de esta Licencia de cada uno de los documentos por una sola copia que esté incluida en la colección, siempre que siga las indicaciones de esta Licencia para la copia literal de los documentos en cualquiera de los demás aspectos.
 </para>
    <para>
  Puede extraer un solo documento de una colección de este tipo y distribuirlo individualmente con esta Licencia, siempre que inserte una copia de esta Licencia en el documento extraído, y siga las estipulaciones de esta Licencia en todos los demás aspectos relativos a la copia literal del documento.
 </para>
    <bridgehead renderas="sect4">
    7. AGREGACIÓN CON TRABAJOS INDEPENDIENTES
  </bridgehead>
    <para>
  Una recopilación que conste del Documento o sus derivados y de otros documentos o trabajos separados e independientes, en cualquier medio de almacenamiento o distribución, se denomina un "agregado" si el copyright resultante de la compilación no se usa para limitar los derechos legales de los usuarios de la compilación más allá de lo que permiten los trabajos individuales. Cuando el Documento se incluye en un agregado, esta Licencia no se aplica a otros trabajos del agregado que no sean en sí mismos derivados del Documento.
 </para>
    <para>
  Si el requisito de la sección 3 sobre el Texto de cubierta es aplicable a estas copias del Documento y el Documento es menor que la mitad del agregado entero, los Textos de cubierta del Documento pueden colocarse en cubiertas que enmarquen solamente el Documento dentro del agregado, o el equivalente electrónico de las cubiertas, si el documento está en formato electrónico. En caso contrario deben aparecer en cubiertas impresas enmarcando todo el agregado.
 </para>
    <bridgehead renderas="sect4">
    8. TRADUCCIÓN
  </bridgehead>
    <para>
  La traducción se considera un tipo de modificación, por lo que puede distribuir las traducciones del Documento según los términos de la sección 4. La sustitución de las secciones invariables por traducciones requiere un permiso especial de los titulares de los derechos de autor, pero puede incluir traducciones de algunas o todas las secciones invariables además de las versiones originales de estas secciones. Puede incluir una traducción de esta Licencia, de todas las notas de licencia del documento, así como de las Limitaciones de garantía, siempre que incluya también su versión en inglés y las versiones originales de los avisos de licencia y Limitaciones de garantía. En caso de que haya discrepancias entre la traducción y la versión original en inglés de esta Licencia, el aviso de licencia o la limitación de garantía, prevalecerá la versión original en inglés.
 </para>
    <para>
  Si una sección del Documento está titulada "Agradecimientos", "Dedicatorias" o "Historia", el requisito (sección 4) de conservar su título (sección 1) requerirá, normalmente, que se cambie su título.
 </para>
    <bridgehead renderas="sect4">
    9. CONCLUSIÓN
  </bridgehead>
    <para>
  El Documento no se debe copiar, modificar, sublicenciar ni distribuir bajo otras circunstancias que no sean las previstas en esta Licencia. Cualquier intento de copiar, modificar, sublicenciar y distribuir el Documento por otros medios se considerará nulo y pondrá fin automáticamente a los derechos concedidos mediante esta Licencia. Sin embargo, las partes a las que haya proporcionado copias o derechos según los términos de esta Licencia seguirán conservando sus licencias siempre que se sigan ajustando totalmente a las condiciones aquí expuestas.
 </para>
    <bridgehead renderas="sect4">
    10. REVISIONES FUTURAS DE ESTA LICENCIA
  </bridgehead>
    <para>
  La Free Software Foundation puede publicar versiones nuevas o revisadas de la Licencia de documentación gratuita de GNU de forma periódica. Estas nuevas versiones serán similares en espíritu a esta versión, pero pueden incluir detalles distintos para tratar problemas o preocupaciones nuevos. Consulte <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://www.gnu.org/copyleft/"/>.
 </para>
    <para>
  A cada versión de la Licencia se le asigna un número de versión distintivo. Si el Documento especifica que está sujeto a un número de versión concreto de Licencia y añade "o cualquier versión posterior", tendrá la opción de seguir las cláusulas de dicha versión o de cualquier versión posterior que haya publicado la Free Software Foundation (que no sea un borrador). Si el Documento no indica ningún número de versión de licencia, puede elegir cualquier versión que haya publicado la Free Software Foundation (que no sea un borrador).
 </para>
    <bridgehead renderas="sect4">
    ANEXO: Cómo usar esta Licencia en sus documentos
  </bridgehead>
    <screen>Copyright (c) YEAR YOUR NAME.
Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.2
or any later version published by the Free Software Foundation;
with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.
A copy of the license is included in the section entitled “GNU
Free Documentation License”.</screen>
    <para>
  Si tiene Secciones fijas, Textos de cubierta delantera y Textos de cubierta trasera, reemplace la frase "sin textos de [...]" por esto:
 </para>
    <screen>with the Invariant Sections being LIST THEIR TITLES, with the
Front-Cover Texts being LIST, and with the Back-Cover Texts being LIST.</screen>
    <para>
  Si tiene Secciones fijas sin textos de cubierta, o alguna otra combinación de los tres, combine las alternativas para adaptarse a la situación.
 </para>
    <para>
  Si su documento contiene ejemplos de código de programa no triviales, se recomienda que estos ejemplos estén sujetos a la licencia de software libre que usted elija, como la Licencia pública general de GNU para permitir su uso en software libre.
</para>
  </appendix>
</article>
