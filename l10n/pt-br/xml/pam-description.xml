<?xml version="1.0"?>
<article xmlns="http://docbook.org/ns/docbook" version="5.2" xml:id="pam-description" xml:lang="pt-br">
  <info>
    <title xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">Autenticação com o PAM</title>
    <revhistory xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" xml:id="rh-pam-description">
      <revision>
        <date>2024-11-15</date>
        <revdescription>
          <para>
              Initial version
            </para>
        </revdescription>
      </revision>
    </revhistory>
    <meta xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" name="maintainer" content="amrita.sakthivel@suse.com" its:translate="no"/>
    <meta xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" name="architecture" its:translate="no">
      <phrase>AMD64/Intel&#xA0;64</phrase>
      <phrase>POWER</phrase>
      <phrase>IBM</phrase>
      <phrase>AArch64</phrase>
    </meta>
    <meta xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" name="productname" its:translate="no">
      <productname version="15 SP6">SUSE Linux Enterprise Server</productname>
      <productname version="6.1">SUSE Linux Micro</productname>
    </meta>
    <meta xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" name="title" its:translate="yes">Uma descrição do PAM, seu uso e sua configuração.</meta>
    <meta xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" name="description" its:translate="yes">O PAM é usado no processo de autenticação como uma camada mediadora do acesso entre o usuário e o aplicativo.</meta>
    <meta xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" name="social-descr" its:translate="yes">Saiba como funciona o mecanismo de autenticação PAM.</meta>
    <meta xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" name="task" its:translate="no">
      <phrase>Authentication</phrase>
      <phrase>Configuration</phrase>
    </meta>
    <meta xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" name="series" its:translate="no">Products &amp; Solutions</meta>
    <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
      <dm:bugtracker>
        <dm:url>https://bugzilla.suse.com/enter_bug.cgi</dm:url>
        <dm:component>Documentation</dm:component>
        <dm:product os="slmicro">SUSE Linux Micro 6.1</dm:product>
        <dm:assignee>amrita.sakthivel@suse.com</dm:assignee>
      </dm:bugtracker>
      <dm:translation>yes</dm:translation>
    </dm:docmanager>
    <abstract xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
      <variablelist>
        <varlistentry>
          <term>O QUE É?</term>
          <listitem>
            <para>
              O Linux usa o PAM (Pluggable Authentication Modules) no processo de autenticação como uma camada mediadora entre o usuário e o aplicativo. Este artigo descreve o conceito, a estrutura de configuração e o uso de ferramentas para configurar o PAM.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>POR QUÊ?</term>
          <listitem>
            <para>
              Para saber como configurar um módulo PAM e o seu sistema para usar as chaves U2F.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>DEDICAÇÃO</term>
          <listitem>
            <para>
                A leitura do artigo leva aproximadamente 20 minutos.
              </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>REQUISITOS</term>
          <listitem>
            <itemizedlist>
              <listitem>
                <para>
                    Para configurar a autenticação usando as chaves U2F, você precisa ter o YubiKeys ou Security Keys.
                  </para>
              </listitem>
            </itemizedlist>
          </listitem>
        </varlistentry>
      </variablelist>
    </abstract>
  </info>
  <section role="concept" xml:lang="pt-br" version="5.2" xml:id="pam-about">
    <info>
      <abstract xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
        <para/>
      </abstract>
      <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">Introdução ao PAM</title>
      <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="amrita.sakthivel@suse.com" its:translate="no"/>
    </info>
    <para>
    Os programadores e administradores do sistema muitas vezes desejam restringir o acesso a certas partes do sistema ou limitar o uso de certas funções de um aplicativo. Sem o PAM, os aplicativos devem ser adaptados toda vez que é introduzido um novo mecanismo de autenticação, como LDAP, Samba ou Kerberos. No entanto, esse processo é demorado e sujeito a erros. Uma forma de evitar essas desvantagens é separar os aplicativos do mecanismo de autenticação e delegar a autenticação a módulos gerenciados centralmente. Sempre que um esquema de autenticação passa a ser necessário, basta adaptar ou gravar um <emphasis>módulo PAM</emphasis> adequado para ser usado pelo programa em questão.
  </para>
    <para>
    O conceito do PAM consiste em:
  </para>
    <itemizedlist mark="bullet" spacing="normal">
      <listitem>
        <para><emphasis>Módulos PAM</emphasis>, que são um conjunto de bibliotecas compartilhadas para um mecanismo de autenticação específico.
      </para>
      </listitem>
      <listitem>
        <para>
        Uma <emphasis>pilha de módulos</emphasis> com um ou mais módulos PAM.
      </para>
      </listitem>
      <listitem>
        <para>
        Um <emphasis>serviço</emphasis> compatível com PAM, que precisa de autenticação usando uma pilha de módulos ou módulos PAM. Normalmente, um serviço é um nome familiar do aplicativo correspondente, como <command>login</command> ou <command>su</command>. O nome do serviço <literal>other</literal> é uma palavra reservada para regras padrão.
      </para>
      </listitem>
      <listitem>
        <para><emphasis>Argumentos de módulo</emphasis>, com os quais a execução de um único módulo PAM pode ser influenciada.
      </para>
      </listitem>
      <listitem>
        <para>
        Um mecanismo que avalia cada <emphasis>resultado</emphasis> de uma única execução de módulo PAM. Um valor positivo executa o próximo módulo PAM. A forma como um valor negativo é tratado depende da configuração: <quote>sem influência, prosseguir</quote> até <quote>terminar imediatamente</quote>, e qualquer opção intermediária é válida.
      </para>
      </listitem>
    </itemizedlist>
  </section>
  <section role="reference" xml:lang="pt-br" version="5.2" xml:id="pam-configuration-files">
    <info>
      <abstract xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
        <para/>
      </abstract>
      <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">Estrutura de configuração do PAM</title>
      <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="amrita.sakthivel@suse.com" its:translate="no"/>
    </info>
    <para>
    O PAM no <phrase><phrase os="slmicro">SUSE Linux Micro</phrase></phrase> é fornecido com a chamada configuração baseada em diretório. O conjunto de arquivos de configuração é armazenado em <filename>/etc/pam.d</filename>. Cada serviço (ou programa) que depende do mecanismo PAM tem seu próprio arquivo de configuração nesse diretório. Por exemplo, o serviço para <systemitem class="daemon">sshd</systemitem> pode estar em <filename>/etc/pam.d/sshd</filename>.
  </para>
    <note>
      <title>Configuração baseada em arquivo (<filename>/etc/pam.conf</filename>) não usada no <phrase><phrase os="slmicro">SUSE Linux Micro</phrase></phrase></title>
      <para>
      A configuração de cada serviço também pode ser armazenada em <filename>/etc/pam.conf</filename>. No entanto, por motivos de manutenção e usabilidade, esse esquema de configuração não é usado no <phrase><phrase os="slmicro">SUSE Linux Micro</phrase></phrase>.
    </para>
    </note>
    <para>
    Os arquivos em <filename>/etc/pam.d/</filename> definem os módulos PAM usados para autenticação. Cada arquivo consiste em linhas, que definem um serviço, e cada linha consiste em, no máximo, quatro componentes:
  </para>
    <screen>
      <replaceable>TYPE</replaceable>
      <replaceable>CONTROL</replaceable>
      <replaceable>MODULE_PATH</replaceable>
      <replaceable>MODULE_ARGS</replaceable>
    </screen>
    <para>
    Os componentes têm o seguinte significado:
  </para>
    <variablelist>
      <varlistentry>
        <term>
          <replaceable>TYPE</replaceable>
        </term>
        <listitem>
          <para>
          Declara o tipo de serviço. Os módulos PAM são processados como pilhas. Tipos diferentes de módulos têm finalidades distintas. Por exemplo, um módulo verifica a senha, outro verifica o local de onde o sistema é acessado e outro ainda lê as configurações específicas do usuário. O PAM tem conhecimento sobre quatro tipos diferentes de módulos:
        </para>
          <variablelist>
            <varlistentry>
              <term>
                <literal>auth</literal>
              </term>
              <listitem>
                <para>
                Verificar a autenticidade do usuário, normalmente ao consultar uma senha. No entanto, isso também pode ser feito com um cartão com chip ou por meio de biometria (por exemplo, impressões digitais ou escaneamento da íris).
              </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>
                <literal>account</literal>
              </term>
              <listitem>
                <para>
                Os módulos desse tipo verificam se o usuário tem uma permissão geral para usar o serviço solicitado. A título de exemplo, essa verificação deve ser realizada para assegurar que ninguém possa efetuar login com o nome de usuário de uma conta que já expirou.
              </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>
                <literal>password</literal>
              </term>
              <listitem>
                <para>
                O objetivo desse tipo de módulo é permitir a mudança de um token de autenticação. Normalmente, trata-se de uma senha.
              </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>
                <literal>session</literal>
              </term>
              <listitem>
                <para>
                Os módulos desse tipo são responsáveis pelo gerenciamento e configuração de sessões de usuários. Eles são iniciados antes e depois da autenticação para registrar as tentativas de login e configurar o ambiente específico do usuário.
              </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <replaceable>CONTROL</replaceable>
        </term>
        <listitem>
          <para>
          Indica o comportamento de um módulo PAM. Cada módulo pode ter os seguintes flags de controle:
        </para>
          <variablelist>
            <varlistentry>
              <term>
                <literal>required</literal>
              </term>
              <listitem>
                <para>
                Um módulo com esse flag precisa ser processado com êxito para que a autenticação possa prosseguir. Após a falha de um módulo com o flag <literal>required</literal>, todos os outros módulos com o mesmo flag serão processados antes que o usuário receba uma mensagem sobre a falha da tentativa de autenticação.
              </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>
                <literal>requisite</literal>
              </term>
              <listitem>
                <para>
                Os módulos com esse flag também devem ser processados com êxito, de forma muito semelhante a um módulo com o flag <literal>required</literal>. Contudo, em caso de falha, um módulo com esse flag dá um retorno imediato ao usuário e os módulos restantes deixam de ser processados. Em caso de êxito, os outros módulos serão processados na sequência, assim como qualquer módulo com o flag <literal>required</literal>. O flag <literal>requisite</literal> pode ser usado como um filtro básico para verificar a existência de determinadas condições essenciais para a autenticação correta.
              </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>
                <literal>sufficient</literal>
              </term>
              <listitem>
                <para>
                Após o processamento bem-sucedido de um módulo com esse flag, o aplicativo que fez a solicitação receberá imediatamente uma mensagem sobre o êxito, e o processamento de outros módulos será interrompido, exceto quando houver falhas anteriores em um módulo com o flag <literal>required</literal>. A falha de um módulo com o flag <literal>sufficient</literal> não causa consequências diretas, com os módulos subsequentes sendo processados na sua respectiva ordem.
              </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>
                <literal>optional</literal>
              </term>
              <listitem>
                <para>
                A falha ou êxito de um módulo com esse flag não traz consequências diretas. Isso pode ser útil no caso de módulos cujo único propósito é exibir uma mensagem (por exemplo, informar ao usuário sobre a chegada de e-mails) sem executar nenhuma ação adicional.
              </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>
                <literal>include</literal>
              </term>
              <listitem>
                <para>
                Quando esse flag é dado, o arquivo especificado como argumento é inserido nesse lugar.
              </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <replaceable>MODULE_PATH</replaceable>
        </term>
        <listitem>
          <para>
          Contém o nome de arquivo completo de um módulo PAM. Ele não precisará ser especificado explicitamente se o módulo estiver localizado no diretório padrão <filename>/lib/security</filename> (para todas as plataformas de 64 bits suportadas pelo <phrase><phrase os="slmicro">SUSE Linux Micro</phrase></phrase>, o diretório é <filename>/lib64/security</filename>).
        </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <replaceable>MODULE_ARGS</replaceable>
        </term>
        <listitem>
          <para>
          Contém uma lista de opções separadas por espaço para influenciar o comportamento de um módulo PAM, como <option>debug</option> (habilita a depuração) ou <option>nullok</option> (permite o uso de senhas vazias).
        </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <para>
    Além disso, há arquivos de configuração global para módulos PAM em <filename>/etc/security</filename>, que definem o comportamento exato desses módulos (alguns exemplos são <filename>pam_env.conf</filename> e <filename>time.conf</filename>). Cada aplicativo que usa um módulo PAM chama um conjunto de funções do PAM que, em seguida, processa as informações nos arquivos de configuração e retorna o resultado para o aplicativo que fez a solicitação.
  </para>
    <para>
    Para simplificar a criação e a manutenção dos módulos PAM, foram introduzidos arquivos de configuração padrão comuns para os módulos dos tipos <literal>auth</literal>, <literal>account</literal>, <literal>password</literal> e <literal>session</literal>. Eles são recuperados da configuração do PAM de cada aplicativo. As atualizações nos módulos de configuração global do PAM em <filename>common-*</filename> são propagadas para todos os arquivos de configuração do PAM, sem exigir que o administrador atualize cada um desses arquivos.
  </para>
    <para>
    Os arquivos de configuração global do PAM são mantidos usando a ferramenta <command>pam-config</command>. Essa ferramenta adiciona automaticamente novos módulos à configuração, muda a configuração daqueles existentes ou apaga módulos (ou opções) das configurações. A intervenção manual na manutenção das configurações do PAM é minimizada ou não é mais necessária.
  </para>
    <section role="task" xml:lang="pt-br" version="5.2" xml:id="pam-sshd-configuration">
      <info>
        <abstract xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
          <para/>
        </abstract>
        <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">Um exemplo de configuração do PAM</title>
        <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="amrita.sakthivel@suse.com" its:translate="no"/>
      </info>
      <para>
    Para demonstrar um exemplo de caso de uso real da configuração do PAM, a configuração do sshd foi usada nesta seção:
  </para>
      <example xml:id="dat-pam-sshd">
        <title>Configuração do PAM para sshd (<filename>/etc/pam.d/sshd</filename>)</title>
        <screen>#%PAM-1.0 <co xml:id="co-security-pam-sshd-pam-line"/>
auth     requisite      pam_nologin.so                              <co xml:id="co-security-pam-sshd-pam-nologin"/>
auth     include        common-auth                                 <co xml:id="co-security-pam-sshd-common-auth"/>
account  requisite      pam_nologin.so                              <xref xrefstyle="select:nopage" linkend="co-security-pam-sshd-pam-nologin" role="internalbook"/>
account  include        common-account                              <xref xrefstyle="select:nopage" linkend="co-security-pam-sshd-common-auth" role="internalbook"/>
password include        common-password                             <xref linkend="co-security-pam-sshd-common-auth" xrefstyle="select:nopage" role="internalbook"/>
session  required       pam_loginuid.so                             <co xml:id="co-security-pam-sshd-pam-loginuid"/>
session  include        common-session                              <xref linkend="co-security-pam-sshd-common-auth" xrefstyle="select:nopage" role="internalbook"/>
session  optional       pam_lastlog.so   silent noupdate showfailed <co xml:id="co-security-pam-sshd-lastlog"/></screen>
        <calloutlist>
          <callout arearefs="co-security-pam-sshd-pam-line">
            <para>
          Declara a versão desse arquivo de configuração para o PAM 1.0. Isso é apenas uma convenção, mas pode ser usado no futuro para verificar a versão.
        </para>
          </callout>
          <callout arearefs="co-security-pam-sshd-pam-nologin">
            <para>
          Verifica se <filename>/etc/nologin</filename> existe. Em caso afirmativo, nenhum outro usuário <systemitem class="username">root</systemitem> poderá efetuar login.
        </para>
          </callout>
          <callout arearefs="co-security-pam-sshd-common-auth">
            <para>
          Refere-se aos arquivos de configuração de quatro tipos de módulo: <filename>common-auth</filename>, <filename>common-account</filename>, <filename>common-password</filename> e <filename>common-session</filename>. Esses quatro arquivos abrigam a configuração padrão de cada tipo de módulo.
        </para>
          </callout>
          <callout arearefs="co-security-pam-sshd-pam-loginuid">
            <para>
          Define o atributo de processo do UID de login para o processo que foi autenticado.
        </para>
          </callout>
          <callout arearefs="co-security-pam-sshd-lastlog">
            <para>
          Exibe informações sobre o último login de um usuário.
        </para>
          </callout>
        </calloutlist>
      </example>
      <para>
    Ao incluir os arquivos de configuração em vez de adicionar cada módulo separadamente à respectiva configuração do PAM, você obtém automaticamente uma configuração do PAM atualizada quando um administrador muda os padrões.
  </para>
      <para>
    O primeiro arquivo de inclusões (<filename>common-auth</filename>) chama os módulos do tipo <literal>auth</literal>: <systemitem class="library">pam_env.so</systemitem>, <systemitem class="library">pam_gnome_keyring.so</systemitem> e <systemitem class="library">pam_unix.so</systemitem>. Consulte o <xref linkend="dat-pam-common-auth" role="internalbook"/>. Lembre-se de que os módulos podem ser diferentes de acordo com a sua instalação.
  </para>
      <example xml:id="dat-pam-common-auth">
        <title>Configuração padrão da seção <literal>auth</literal> (<filename>common-auth</filename>)</title>
        <screen>auth  required  pam_env.so                   <co xml:id="co-security-pam-sshd-pam-env"/>
auth  optional  pam_gnome_keyring.so         <co xml:id="co-security-pam-sshd-gnome"/>
auth  required  pam_unix.so  try_first_pass <co xml:id="co-security-pam-sshd-pam-unix"/></screen>
      </example>
      <calloutlist>
        <callout arearefs="co-security-pam-sshd-pam-env">
          <para>O <systemitem class="library">pam_env.so</systemitem> carrega o <filename>/etc/security/pam_env.conf</filename> para definir as variáveis de ambiente conforme especificado nesse arquivo. Ele pode ser usado para definir o valor correto da variável <envar>DISPLAY</envar>, pois o módulo <systemitem class="library">pam_env</systemitem> reconhece o local de onde o login está sendo efetuado.
      </para>
        </callout>
        <callout arearefs="co-security-pam-sshd-gnome">
          <para>O <systemitem class="library">pam_gnome_keyring.so</systemitem> compara o login e a senha do usuário com o chaveiro do GNOME.
      </para>
        </callout>
        <callout arearefs="co-security-pam-sshd-pam-unix">
          <para>O <systemitem class="library">pam_unix</systemitem> verifica compara o login e a senha do usuário com <filename>/etc/passwd</filename> e <filename>/etc/shadow</filename>.
      </para>
        </callout>
      </calloutlist>
      <para>
    A pilha inteira de módulos <literal>auth</literal> é processada antes que o <systemitem class="daemon">sshd</systemitem> receba qualquer retorno se o login foi bem-sucedido. Todos os módulos da pilha que têm o flag de controle <literal>required</literal> devem ser processados com êxito antes que o <systemitem class="daemon">sshd</systemitem> receba uma mensagem sobre o resultado positivo. Se um dos módulos não for bem-sucedido, a pilha de módulos inteira ainda será processada, e somente depois disso é que o <systemitem class="daemon">sshd</systemitem> será notificado sobre o resultado negativo.
  </para>
      <para>
    Quando todos os módulos do tipo <literal>auth</literal> tiverem sido processados com êxito, outra declaração de inclusão será processada, neste caso, aquela no <xref linkend="dat-pam-common-account" role="internalbook"/>. O <filename>common-account</filename> contém apenas um módulo: <literal>pam_unix</literal>. Se <literal>pam_unix</literal> retornar o resultado de que o usuário existe, o sshd receberá uma mensagem de êxito, e a próxima pilha de módulos (<literal>password</literal>) será processada, conforme mostrado em .
  </para>
      <example xml:id="dat-pam-common-account">
        <title>Configuração padrão da seção <literal>account</literal> (<filename>common-account</filename>)</title>
        <screen>account  required  pam_unix.so  try_first_pass</screen>
      </example>
      <para>
    Mais uma vez, a configuração do PAM de <systemitem class="daemon">sshd</systemitem> envolve apenas uma declaração de inclusão referente à configuração padrão para os módulos <literal>password</literal> localizados em <filename>common-password</filename>. Esses módulos devem ser concluídos com êxito (flags de controle <literal>requisite</literal>e <literal>required</literal>) sempre que o aplicativo solicita a mudança de um token de autenticação.
  </para>
      <para>
    A mudança de uma senha ou de outro token de autenticação requer uma verificação de segurança. Isso é feito com o módulo <filename>pam_cracklib</filename>. O módulo <filename>pam_unix</filename> usado posteriormente transfere as senhas antigas e novas do <filename>pam_cracklib</filename>, portanto, o usuário não precisa se autenticar novamente após mudar a senha. Esse procedimento também torna impossível contornar as verificações realizadas pelo <filename>pam_cracklib</filename>. Sempre que o tipo <literal>account</literal> ou <literal>auth</literal> for configurado para reclamar sobre senhas expiradas, os módulos <literal>password</literal> também deverão ser usados.
  </para>
      <para>
    Na etapa final, os módulos do tipo <literal>session</literal> (incluídos no arquivo <filename>common-session</filename>) são chamados para definir a sessão de acordo com as configurações do usuário em questão. O módulo <filename>pam_limits</filename> carrega o arquivo <filename>/etc/security/limits.conf</filename>, que pode definir limites para o uso de determinados recursos do sistema. O módulo <filename>pam_unix</filename> é processado novamente. O módulo <filename>pam_umask</filename> pode ser usado para definir a máscara de criação do modo de arquivo. Como esse módulo tem o flag <literal>optional</literal>, uma falha dele não afeta a conclusão bem-sucedida de toda a pilha de módulos da sessão. Os módulos <literal>session</literal> são chamados uma segunda vez quando o usuário efetua logout.
  </para>
    </section>
  </section>
  <section role="reference" xml:lang="pt-br" version="5.2" xml:id="pam-configuring-modules">
    <info>
      <abstract xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
        <para/>
      </abstract>
      <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">Configuração de módulos PAM</title>
      <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="amrita.sakthivel@suse.com" its:translate="no"/>
    </info>
    <para>
    Alguns módulos PAM são configuráveis. Os arquivos de configuração estão localizados em <filename>/etc/security</filename>. Esta seção descreve resumidamente os arquivos de configuração relevantes ao exemplo do sshd: <filename>pam_env.conf</filename> e <filename>limits.conf</filename>.
  </para>
    <section xml:id="pam-struc-conf-pamenv">
      <title>pam_env.conf</title>
      <para>O <filename>pam_env.conf</filename> pode ser usado para definir um ambiente padronizado para os usuários, que será definido sempre que o módulo <systemitem>pam_env</systemitem> for chamado. Com ele, predefina variáveis de ambiente usando a seguinte sintaxe:
    </para>
      <screen><replaceable>VARIABLE</replaceable>  [DEFAULT=<replaceable>VALUE</replaceable>]  [OVERRIDE=<replaceable>VALUE</replaceable>]</screen>
      <variablelist>
        <varlistentry>
          <term>
            <replaceable>VARIABLE</replaceable>
          </term>
          <listitem>
            <para>
            Nome da variável de ambiente a ser definida.
          </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <systemitem>[DEFAULT=&lt;value&gt;]</systemitem>
          </term>
          <listitem>
            <para>
            <replaceable>VALUE</replaceable> padrão que o administrador deseja definir.
          </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <systemitem>[OVERRIDE=&lt;value&gt;]</systemitem>
          </term>
          <listitem>
            <para>
            Os valores que podem ser consultados e definidos por <systemitem>pam_env</systemitem>, anulando o valor padrão.
          </para>
          </listitem>
        </varlistentry>
      </variablelist>
      <para>
      Um exemplo típico de como o módulo <systemitem>pam_env</systemitem> pode ser usado é na adaptação da variável <envar>DISPLAY</envar>, que é mudada sempre que um login remoto é efetuado. Você pode ver isso no <xref linkend="dat-pam-pamenv" role="internalbook"/>.
    </para>
      <example xml:id="dat-pam-pamenv">
        <title>pam_env.conf</title>
        <screen>
REMOTEHOST  DEFAULT=localhost          OVERRIDE=@{PAM_RHOST}
DISPLAY     DEFAULT=${REMOTEHOST}:0.0  OVERRIDE=${DISPLAY}
</screen>
      </example>
      <para>
      A primeira linha define o valor da variável <envar>REMOTEHOST</envar> como <literal>localhost</literal>, que é usado sempre que <filename>pam_env</filename> não consegue determinar nenhum outro valor. A variável <envar>DISPLAY</envar>, por sua vez, contém o valor de <envar>REMOTEHOST</envar>. Encontre mais informações nos comentários em <filename>/etc/security/pam_env.conf</filename>.
    </para>
    </section>
    <section xml:id="sec-pam-struc-pamlimits">
      <title>limits.conf</title>
      <para>
      Os limites do sistema podem ser definidos por usuário ou grupo em <filename>limits.conf</filename>, que é lido pelo módulo <systemitem>pam_limits</systemitem>. O arquivo permite definir limites fixos, que não podem ser excedidos, e limites flexíveis, que podem ser excedidos temporariamente. Para obter mais informações sobre a sintaxe e as opções, consulte os comentários em <filename>/etc/security/limits.conf</filename>.
    </para>
    </section>
  </section>
  <section role="task" xml:lang="pt-br" version="5.2" xml:id="pam-config-tool">
    <info>
      <abstract xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
        <para/>
      </abstract>
      <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">Configurando o PAM com <command>pam-config</command></title>
      <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="amrita.sakthivel@suse.com" its:translate="no"/>
    </info>
    <para>
    A ferramenta <command>pam-config</command> ajuda você a configurar os arquivos de configuração global do PAM (<filename>/etc/pam.d/common-*</filename>) e várias configurações de aplicativo selecionadas. Para obter uma lista dos módulos suportados, use o comando <command>pam-config --list-modules</command>. Use o comando <command>pam-config</command> para manter os arquivos de configuração do PAM. Adicione novos módulos às configurações do PAM, apague outros módulos ou modifique as opções desses módulos. Ao mudar os arquivos de configuração global do PAM, nenhum ajuste manual da configuração do PAM para aplicativos individuais é necessário.
  </para>
    <para>
    Um caso de uso simples para <command>pam-config</command> envolve o seguinte:
  </para>
    <procedure>
      <step>
        <formalpara>
          <title>Gerar automaticamente uma nova configuração do PAM no estilo unix.</title>
          <para>
          Deixe o <command>pam-config</command> criar a configuração mais simples possível, que você poderá estender posteriormente. O comando <command>pam-config
          --create</command> cria uma configuração de autenticação Unix simples. Os arquivos de configuração preexistentes não mantidos pelo <command>pam-config</command> são sobregravados, mas as cópias de backup são mantidas como <literal>*.pam-config-backup</literal>.
        </para>
        </formalpara>
      </step>
      <step>
        <formalpara>
          <title>Adicionar um novo método de autenticação.</title>
          <para>
          A adição de um novo método de autenticação (por exemplo, LDAP) à pilha de módulos PAM se resume a um comando <command>pam-config --add
          --ldap</command> simples. O LDAP é adicionado sempre que apropriado a todos os arquivos de configuração <filename>common-*-pc</filename> do PAM.
        </para>
        </formalpara>
      </step>
      <step>
        <formalpara>
          <title>Adicionar depuração para fins de teste.</title>
          <para>
          Para garantir que o novo procedimento de autenticação funcione conforme planejado, ative a depuração para todas as operações relacionadas ao PAM. O <command>pam-config
          --add --ldap-debug</command> ativa a depuração para operações do PAM relacionadas ao LDAP.
        </para>
        </formalpara>
      </step>
      <step>
        <formalpara>
          <title>Consultar sua configuração.</title>
          <para>
          Antes de finalmente aplicar a nova configuração do PAM, verifique se ela contém todas as opções que você deseja adicionar. O comando <command>pam-config --query
          --</command><replaceable>MODULE</replaceable> lista o tipo e as opções para o módulo PAM consultado.
        </para>
        </formalpara>
      </step>
      <step>
        <formalpara>
          <title>Remover as opções de depuração.</title>
          <para>
          Por fim, remova a opção de depuração de sua configuração quando você estiver totalmente satisfeito com o desempenho dela. O comando <command>pam-config --delete --ldap-debug</command> desativa a depuração para autenticação LDAP. Caso você tenha opções de depuração adicionadas para outros módulos, use comandos semelhantes para desativá-las.
        </para>
        </formalpara>
      </step>
    </procedure>
    <para>
    Para obter mais informações sobre o comando <command>pam-config</command> e as opções disponíveis, consulte a página de manual <command>pam-config(8)</command>.
  </para>
  </section>
  <section role="task" xml:lang="pt-br" version="5.2" xml:id="pam-manual-config">
    <info>
      <abstract xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
        <para/>
      </abstract>
      <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">Configurando manualmente o PAM</title>
      <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="amrita.sakthivel@suse.com" its:translate="no"/>
    </info>
    <para>
    Se você preferir criar ou manter manualmente os arquivos de configuração do PAM, desabilite <command>pam-config</command> para esses arquivos.
  </para>
    <para>
    Quando você cria os arquivos de configuração do PAM do zero usando o comando <command>pam-config --create</command>, ele cria links simbólicos dos arquivos <filename>common-<replaceable>*</replaceable></filename> para os arquivos <filename>common-<replaceable>*</replaceable>-pc</filename>. <command>pam-config</command> modifica apenas os arquivos de configuração <filename>common-<replaceable>*</replaceable>-pc</filename>. A remoção desses links simbólicos desabilita efetivamente o <command>pam-config</command>, porque o <command>pam-config</command> opera apenas com base em arquivos <filename>common-<replaceable>*</replaceable>-pc</filename>, e esses arquivos não entram em vigor sem os links simbólicos.
  </para>
    <warning>
      <title>Incluir <filename>pam_systemd.so</filename> na configuração</title>
      <para>
      Se você estiver criando sua própria configuração do PAM, inclua o <literal>pam_systemd.so</literal> configurado como <literal>session
      optional</literal>. Se o <literal>pam_systemd.so</literal> não for incluído, poderá haver problemas com os limites de tarefas do <systemitem class="daemon">systemd</systemitem>. Para obter detalhes, consulte a página de manual de <literal>pam_systemd.so</literal>.
    </para>
    </warning>
  </section>
  <section role="task" xml:lang="pt-br" version="5.2" xml:id="pam-cofigure-using-u2f-keys">
    <info>
      <abstract xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
        <para/>
      </abstract>
      <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">Configurando o <phrase><phrase os="slmicro">SUSE Linux Micro</phrase></phrase> para exigir chaves U2F para login local</title>
      <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="amrita.sakthivel@suse.com" its:translate="no"/>
    </info>
    <para>
    Para reforçar a segurança durante o login local no <phrase><phrase os="slmicro">SUSE Linux Micro</phrase></phrase>, você pode configurar a autenticação de dois fatores usando a estrutura <literal>pam-u2f</literal> e o recurso U2F no YubiKeys e Security Keys.
  </para>
    <para>
    Para configurar o U2F no sistema <phrase><phrase os="slmicro">SUSE Linux Micro</phrase></phrase>, você precisa associar sua chave à sua conta no <phrase><phrase os="slmicro">SUSE Linux Micro</phrase></phrase>. Depois disso, configure seu sistema para usar a chave. O procedimento está descrito nas seções a seguir.
  </para>
    <section role="task" xml:lang="pt-br" version="5.2" xml:id="pam-account-association">
      <info>
        <abstract xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
          <para/>
        </abstract>
        <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">Associando a chave U2F à sua conta</title>
        <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="amrita.sakthivel@suse.com" its:translate="no"/>
      </info>
      <para>
    Para associar a chave U2F à sua conta, faça o seguinte:
  </para>
      <procedure>
        <step>
          <para>
        Efetue login na sua máquina.
      </para>
        </step>
        <step>
          <para>
        Insira a chave U2F.
      </para>
        </step>
        <step>
          <para>
        Crie um diretório para a configuração da chave U2F:
      </para>
          <screen><prompt>&gt; </prompt><command>sudo</command> mkdir -p ~/.config/Yubico</screen>
        </step>
        <step>
          <para>
        Execute o comando <command>pamu2fcfg</command> que gera as linhas de configuração:
      </para>
          <screen><prompt>&gt; </prompt><command>sudo</command> pamu2fcfg &gt; ~/.config/Yubico/u2f_keys</screen>
        </step>
        <step>
          <para>
        Quando o dispositivo começar a piscar, toque no contato de metal para confirmar a associação.
      </para>
        </step>
      </procedure>
      <para>
    Recomendamos o uso de um dispositivo U2F de backup, que você pode configurar executando os seguintes comandos:
  </para>
      <procedure>
        <step>
          <para>
        Execute:
      </para>
          <screen><prompt>&gt; </prompt><command>sudo</command> pamu2fcfg -n &gt;&gt; ~/.config/Yubico/u2f_keys</screen>
        </step>
        <step>
          <para>
        Quando o dispositivo começar a piscar, toque no contato de metal para confirmar a associação.
      </para>
        </step>
      </procedure>
      <para>
    Você pode mover o arquivo de saída do local padrão para um diretório que exija a permissão de <literal>sudo</literal> para modificar o arquivo para reforçar a segurança. Por exemplo, mova-o para o diretório <filename>/etc</filename>. Para isso, siga as etapas:
  </para>
      <procedure>
        <step>
          <para>
        Crie um diretório em <filename>/etc</filename>:
      </para>
          <screen><prompt>&gt; </prompt><command>sudo</command> mkdir /etc/Yubico</screen>
        </step>
        <step>
          <para>
        Mova o arquivo criado:
      </para>
          <screen><prompt>&gt; </prompt><command>sudo</command> mv ~/.config/Yubico/u2f_keys /etc/Yubico/u2f_keys</screen>
        </step>
      </procedure>
      <note>
        <title>Colocando <filename>u2f_keys</filename> em um local não padrão</title>
        <para>
      Se você mover o arquivo de saída para um diretório diferente do padrão (<filename>$HOME/.config/Yubico/u2f_keys</filename>), será necessário adicionar o caminho ao arquivo <filename>/etc/pam.d/login</filename> conforme descrito na <xref linkend="pam-update-configs" role="internalbook"/>.
    </para>
      </note>
    </section>
    <section role="task" xml:lang="pt-br" version="5.2" xml:id="pam-update-configs">
      <info>
        <abstract xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
          <para/>
        </abstract>
        <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">Atualizando a configuração do PAM</title>
        <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="amrita.sakthivel@suse.com" its:translate="no"/>
      </info>
      <para>
    Após criar a configuração de chaves U2F, você precisará ajustar a configuração do PAM no sistema.
  </para>
      <procedure>
        <step>
          <para>
        Abra o arquivo <filename>/etc/pam.d/login</filename>. 
      </para>
        </step>
        <step>
          <para>
        Adicione a linha <literal>auth required pam_u2f.so</literal> ao arquivo da seguinte maneira:
      </para>
          <screen>
#%PAM-1.0
auth      include    common-auth
<emphasis role="bold">auth      required   pam_u2f.so</emphasis>
account   include    common-account
password  include    common-password
session   optional   pam_keyinit.so revoke
session   include    common-session
#session  optional   pam_xauth.so
        </screen>
        </step>
        <step>
          <para>
        Se você colocou o arquivo <filename>u2f_keys</filename> em um local diferente de <filename>$HOME/.config/Yubico/u2f_keys</filename>, precisa usar a opção <literal>authfile</literal> no arquivo <filename>/etc/pam.d/login</filename> do PAM da seguinte maneira:
      </para>
          <screen>
#%PAM-1.0 
auth     requisite pam_nologin.so 
auth     include   common-auth
<emphasis role="bold">auth  required pam_u2f.so authfile=<replaceable>&lt;PATH_TO_u2f_keys&gt;</replaceable></emphasis>
...
        </screen>
          <para>
        em que <replaceable>&lt;PATH_TO_u2f_keys&gt;</replaceable> é o caminho absoluto para o arquivo <filename>u2f_keys</filename>.
      </para>
        </step>
      </procedure>
    </section>
  </section>
  <section version="5.2" xml:id="legal-disclaimer">
    <info>
      <title xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink">Informações legais</title>
    </info>
    <para> Copyright © 2006-<?dbtimestamp format="Y"?>
 SUSE LLC e colaboradores. Todos os direitos reservados. </para>
    <para>
    Permissão concedida para copiar, distribuir e/ou modificar este documento sob os termos da Licença GNU de Documentação Livre, Versão 1.2 ou (por sua opção) versão 1.3; com a Seção Invariante sendo estas informações de copyright e a licença. Uma cópia da versão 1.2 da licença está incluída na seção intitulada <quote>GNU Free Documentation License</quote> (Licença GNU de Documentação Livre).
  </para>
    <para>
    Para ver as marcas registradas da SUSE, visite <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://www.suse.com/company/legal/"/>. Todas as marcas comerciais de terceiros pertencem a seus respectivos proprietários. Os símbolos de marca registrada (®, ™ etc.) indicam marcas registradas da SUSE e de suas afiliadas. Os asteriscos (*) indicam marcas registradas de terceiros.
  </para>
    <para>
    Todas as informações deste manual foram compiladas com a maior atenção possível aos detalhes. Entretanto, isso não garante uma precisão absoluta. A SUSE LLC, suas afiliadas, os autores ou tradutores não serão responsáveis por possíveis erros nem pelas consequências resultantes de tais erros.
  </para>
  </section>
  <appendix xmlns:its="http://www.w3.org/2005/11/its" version="5.2" role="legal" its:translate="no" xml:id="doc-gfdl-license">
    <info>
      <title xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink">Licença GFDL (GNU Free Documentation License)</title>
    </info>
    <para>
  Copyright (C) 2000, 2001, 2002 Free Software Foundation, Inc. 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 EUA. Qualquer pessoa está autorizada a reproduzir e distribuir cópias literais deste documento de licença, mas não a mudar seu conteúdo.
 </para>
    <bridgehead renderas="sect4">
    0. PREÂMBULO
  </bridgehead>
    <para>
  A finalidade desta Licença é tornar um manual, um livro ou outro documento funcional e útil &quot;livre&quot;, no sentido de garantir a todos a liberdade efetiva para copiá-lo e redistribuí-lo, com ou sem modificações, para fins comerciais ou não. Em segundo lugar, esta Licença preserva ao autor e ao editor o direito de obter créditos pelo seu trabalho, não sendo considerados responsáveis pelas modificações feitas por outras pessoas.
 </para>
    <para>
  Esta Licença é um tipo de “copyleft”, significando que trabalhos derivados do documento também devem ser livres no mesmo sentido. Ela complementa a Licença Pública Geral GNU, que é uma licença de copyleft criada para software livre.
 </para>
    <para>
  Criamos esta Licença para usá-la em manuais de software livre, pois o software livre precisa de documentação livre: um programa livre deve incluir manuais que ofereçam a mesma liberdade que o software. Contudo, essa Licença não está limitada a manuais de software, pois pode ser usada para qualquer trabalho de texto, independentemente do assunto ou do fato de ser publicado como manual impresso. Esta licença é recomendável principalmente para trabalhos cuja finalidade seja instrução ou referência.
 </para>
    <bridgehead renderas="sect4">
    1. APLICABILIDADE E DEFINIÇÕES
  </bridgehead>
    <para>
  Esta Licença se aplica a qualquer manual ou outro trabalho, em qualquer meio, que contenha um aviso incluído pelo detentor dos direitos autorais indicando que ele pode ser distribuído segundo os termos desta Licença. Esse aviso concede uma licença em nível mundial, isenta do pagamento de royalties e de duração ilimitada, para usar o trabalho sob as condições aqui previstas. O “Documento” a seguir refere-se a tal manual ou trabalho. Qualquer membro do público pode ser um licenciado e é tratado como &quot;você&quot;. Você aceitará a licença se copiar, modificar ou distribuir o trabalho de um modo que necessite de permissão de acordo com a lei de direitos autorais.
 </para>
    <para>
  Uma &quot;Versão Modificada&quot; do Documento significa qualquer trabalho que contenha o Documento ou parte dele, que pode ser sua cópia fiel ou com modificações e/ou traduzido para outro idioma.
 </para>
    <para>
  Uma &quot;Seção Secundária&quot; é um apêndice nomeado ou uma seção de introdução do Documento, que trata exclusivamente da relação dos editores ou autores do Documento com seu assunto geral (ou questões relacionadas), e não contém nada que possa estar diretamente ligado ao assunto geral. (Portanto, se o documento for parcialmente um livro de matemática, uma seção secundária não poderá explicar nada de matemática.) Tal relação pode ser uma conexão histórica com o assunto ou com temas relacionados, ou tratar de questões legais, comerciais, filosóficas, éticas ou políticas com relação a eles.
 </para>
    <para>
  As “Seções Invariáveis” são determinadas Seções Secundárias cujos títulos são designados como sendo referentes a essas Seções Invariáveis, no aviso que indica que o Documento foi lançado sob esta Licença. Se uma seção não se encaixar na definição acima de secundária, não poderá ser designada como invariável. O documento pode não conter Seções Invariáveis. Se o documento não identificar seções invariáveis, isso significa que não há nenhuma.
 </para>
    <para>
  Os “Textos de Capa” são pequenos trechos de texto, como Textos de Folha de Rosto ou de Contracapa, incluídos no aviso que indica que o Documento foi lançado sob esta licença. O Texto de Folha de Rosto pode ter no máximo 5 palavras, e o Texto de Contracapa pode ter no máximo 25.
 </para>
    <para>
  Uma cópia &quot;Transparente&quot; do Documento significa uma cópia que pode ser lida por computador, representada em um formato cuja especificação esteja disponível ao público em geral, que seja adequada para a imediata revisão do documento usando editores de texto genéricos ou (para imagens compostas de pixels) programas gráficos genéricos ou (para desenhos) algum editor de desenho amplamente disponível, e que seja adequado para inclusão em formatadores de texto ou para a conversão automática em diversos formatos adequados para entrada em formatadores de texto. Uma cópia feita em outro formato de arquivo Transparente cuja marcação, ou ausência desta, foi manipulada para impedir ou desencorajar modificação subsequente pelos leitores não é Transparente. Um formato de imagem não é Transparente se usado em lugar de qualquer quantidade substancial de texto. Uma cópia que não é “Transparente” é chamada “Opaca”.
 </para>
    <para>
  Exemplos de formatos apropriados para cópias Transparentes incluem ASCII simples sem marcação, formato de entrada Texinfo, LaTeX, SGML ou XML usando um DTD publicamente disponível, e HTML padrão simples, PostScript ou PDF projetados para modificação manual. Exemplos de formatos de imagem transparentes são PNG, XCF e JPG. Formatos Opacos incluem formatos proprietários que podem ser lidos e editados somente por processadores de texto proprietários, SGML ou XML para os quais o DTD e/ou ferramentas de processamento não são amplamente disponibilizadas, e HTML, PostScript ou PDF gerados automaticamente com finalidade apenas de saída por alguns processadores de texto.
 </para>
    <para>
  A “Página de Título” significa, para um livro impresso, a própria página do título, além das páginas subsequentes necessárias para conter, de forma legível, o material que esta Licença requer que apareça na página de título. Para trabalhos em formatos que não tenham uma página de título assim, a “Página de Título” significa o texto próximo à ocorrência mais proeminente do título do trabalho, precedendo o início do corpo do texto.
 </para>
    <para>
  Uma seção “Intitulada XYZ” significa uma subunidade nomeada do Documento cujo título seja precisamente XYZ ou contenha XYZ entre parênteses após o texto que traduz XYZ para outro idioma. (Aqui, XYZ representa o nome de uma seção específica mencionada abaixo, como “Agradecimentos”, “Dedicatória”, “Apoio” ou “Histórico”.) “Preservar o Título” de tal seção quando você modifica o Documento significa que ela continua sendo uma seção “Intitulada XYZ” de acordo com essa definição.
 </para>
    <para>
  O Documento pode incluir Isenções de Responsabilidade quanto a Garantia próximas ao aviso que indica que esta Licença se aplica a este Documento. As Isenções de Responsabilidade de Garantia são consideradas incluídas por referência nesta Licença, mas apenas no que diz respeito à isenção de garantias: qualquer outra implicação que essas Isenções de Responsabilidade de Garantia possam ter será anulada e não terá efeito no significado desta Licença.
 </para>
    <bridgehead renderas="sect4">
    2. CÓPIAS LITERAIS
  </bridgehead>
    <para>
  Você pode copiar e distribuir o Documento em qualquer meio, comercialmente ou não, desde que esta licença, as informações de copyright e o aviso de licença afirmando que esta Licença é aplicável ao Documento sejam reproduzidos em todas as cópias, e que você não inclua outras condições, quaisquer que sejam, às condições desta Licença. Você não pode usar de medidas técnicas para obstruir ou controlar a leitura ou cópia futura das cópias que você fizer ou distribuir. Contudo, você pode aceitar remuneração em troca das cópias. Se você distribuir um número suficientemente grande de cópias, deverá também respeitar as condições na seção 3.
 </para>
    <para>
  Você também pode emprestar cópias, sob as mesmas condições mencionadas acima, além de exibi-las publicamente.
 </para>
    <bridgehead renderas="sect4">
    3. COPIANDO EM QUANTIDADE
  </bridgehead>
    <para>
  Se você publicar cópias impressas (ou cópias em uma mídia que normalmente tem capas impressas) do Documento, em número superior a 100, e o aviso de licença do Documento exigir Textos de Capa, deverá encadernar as cópias em capas que contenham, de forma clara e legível, todos estes Textos de Capa: Textos de Folha de Rosto na folha de rosto e Textos de Contracapa na contracapa. As duas capas também devem identificar, de forma clara e legível, você como o editor das cópias. A capa frontal deve apresentar o título completo com todas as palavras deste igualmente proeminentes e visíveis. Você pode adicionar outros materiais nas capas. Cópias com mudanças limitadas às capas, desde que preservando o título do Documento e satisfazendo a essas condições, podem ser tratadas como cópias literais em outros aspectos.
 </para>
    <para>
  Se os textos necessários a qualquer uma das capas forem muito volumosos para serem incluídos de forma legível, você deverá colocar os primeiros listados (quantos couberem razoavelmente) na própria capa, e continuar o restante nas páginas adjacentes.
 </para>
    <para>
  Se você publicar ou distribuir cópias Opacas do Documento em número superior a 100, deverá incluir uma cópia Transparente legível por computador juntamente com cada cópia Opaca, ou informar em, ou juntamente com, cada cópia Opaca um endereço de rede do qual o público geral possa acessar e obter, usando protocolos de rede públicos padrão, uma cópia Transparente completa do Documento, livre de material adicionado. Se você decidir pela segunda opção, deverá seguir etapas razoavelmente prudentes, quando começar a distribuir as cópias Opacas em quantidade, para garantir que essa cópia transparente permaneça acessível no local indicado por pelo menos um ano após a última vez que você distribuir uma cópia Opaca (diretamente ou através de seus agentes ou distribuidores) dessa edição ao público.
 </para>
    <para>
  É solicitado, mas não exigido, que você contate os autores do Documento muito antes de redistribuir qualquer número grande de cópias, para dar-lhes a oportunidade de lhe fornecer uma versão atualizada do Documento.
 </para>
    <bridgehead renderas="sect4">
    4. MODIFICAÇÕES
  </bridgehead>
    <para>
  Você pode copiar e distribuir uma Versão Modificada do Documento sob as condições das seções 2 e 3 acima, desde que forneça a Versão Modificada estritamente sob esta Licença, com a Versão Modificada no lugar do Documento, permitindo assim a distribuição e modificação da Versão Modificada a quem quer que possua uma cópia desta. Além disso, você deve executar os seguintes procedimentos na Versão Modificada:
 </para>
    <orderedlist numeration="upperalpha" spacing="normal">
      <listitem>
        <para>
    Use na Página de Título (e nas capas, se houver) um título distinto do título do Documento, e dos de versões anteriores (os quais devem, se houver algum, ser listados na seção &quot;Histórico&quot; do Documento). Você pode usar o mesmo título de uma versão anterior se o editor original dessa versão assim o permitir.
   </para>
      </listitem>
      <listitem>
        <para>
    Liste na Página de Título, como autores, uma ou mais pessoas ou entidades responsáveis pela autoria das modificações na Versão Modificada, juntamente com pelo menos cinco dos autores principais do Documento (todos seus autores principais, se houver menos que cinco), a menos que eles lhe desobriguem dessa exigência.
   </para>
      </listitem>
      <listitem>
        <para>
    Mencione na Página de Título o nome do editor da Versão Modificada, como seu editor.
   </para>
      </listitem>
      <listitem>
        <para>
    Preserve todas as informações de copyright do Documento.
   </para>
      </listitem>
      <listitem>
        <para>
    Adicione as informações de copyright adequadas para suas modificações ao lado das outras informações de copyright.
   </para>
      </listitem>
      <listitem>
        <para>
    Inclua, imediatamente após as informações de copyright, informações de licença concedendo ao público permissão para usar a Versão Modificada sob os termos desta Licença, na forma mostrada no Adendo abaixo.
   </para>
      </listitem>
      <listitem>
        <para>
    Preserve, nesse aviso de licença, as listas completas de Seções Invariáveis e os Textos de Capa necessários fornecidos no aviso de licença do Documento.
   </para>
      </listitem>
      <listitem>
        <para>
    Inclua uma cópia inalterada desta Licença.
   </para>
      </listitem>
      <listitem>
        <para>
    Preserve a seção intitulada &quot;Histórico&quot;, Preserve seu Título e adicione à seção um item mencionando pelo menos o título, o ano, os novos autores e o editor da Versão Modificada, como mostrado na Página de Título. Se não houver uma seção intitulada &quot;Histórico&quot; no Documento, crie uma mencionando o título, o ano, os autores e o editor do Documento, como mostrado na Página de Título; em seguida, adicione um item que descreva a Versão Modificada, como mencionado na frase anterior.
   </para>
      </listitem>
      <listitem>
        <para>
    Preserve a localização de rede, se houver, indicada no Documento para acesso público a uma cópia Transparente deste e, da mesma maneira, as localizações de rede indicadas no Documento para versões anteriores nas quais ele se baseia. Essas informações podem ser incluídas na seção “Histórico”. Você pode omitir uma localização de rede para um trabalho que foi publicado pelo menos quatro anos antes do Documento em si, ou se o editor original da versão à qual a localização se refere der permissão.
   </para>
      </listitem>
      <listitem>
        <para>
    Para qualquer seção intitulada &quot;Agradecimentos&quot; ou &quot;Dedicatória&quot;, Preserve o Título da seção, e preserve dentro da seção toda a essência e o tom de cada um dos agradecimentos e/ou dedicatórias aos colaboradores nela mencionados.
   </para>
      </listitem>
      <listitem>
        <para>
    Preserve todas as Seções Invariantes do Documento, inalteradas em seu texto e títulos. Números de seção ou o equivalente não são considerados parte dos títulos das seções.
   </para>
      </listitem>
      <listitem>
        <para>
    Apague qualquer seção intitulada “Apoio”. Tal seção não pode ser incluída na Versão Modificada.
   </para>
      </listitem>
      <listitem>
        <para>
    Não modifique o título de qualquer seção existente para “Apoio” nem de forma a gerar conflito com o título de qualquer Seção Invariável.
   </para>
      </listitem>
      <listitem>
        <para>
    Preserve as Isenções de Responsabilidade quanto a Garantia.
   </para>
      </listitem>
    </orderedlist>
    <para>
  Se a Versão Modificada incluir novas seções iniciais ou apêndices que sejam qualificados como Seções Secundárias, e não contiver material copiado do Documento, você poderá, a seu critério, tornar invariantes algumas dessas seções ou todas elas. Para fazer isso, adicione seus títulos à lista de Seções Invariáveis no aviso de licença da Versão Modificada. Esses títulos devem ser diferentes de outros títulos de seção.
 </para>
    <para>
  Você pode adicionar uma seção intitulada “Apoio”, desde que ela não contenha nada além do apoio recebido para sua Versão Modificada por várias partes; por exemplo, notas do revisor ou de que o texto foi aprovado por uma organização como a definição oficial de um padrão.
 </para>
    <para>
  Você pode adicionar uma passagem de até cinco palavras como Texto de Folha de Rosto, e uma passagem de até 25 palavras como Texto de Contracapa, ao fim da lista de Textos de Capa na Versão Modificada. Somente uma passagem de Texto de Folha de Rosto e uma de Texto de Contracapa pode ser adicionada por (ou através de arranjos feitos por) uma entidade qualquer. Se o Documento já incluir um texto de capa para a mesma capa, anteriormente incluído por você ou por arranjo feito pela mesma entidade em cujo nome você está agindo, não será possível adicionar outro, mas sim substituir o antigo, com permissão explícita do editor anterior que o incluiu.
 </para>
    <para>
  O(s) autor(es) e editor(es) do Documento, por esta Licença, não dá(ão) permissão para seu(s) nome(s) ser(em) usado(s) para publicidade ou defesa ou apoio implícito para qualquer Versão Modificada.
 </para>
    <bridgehead renderas="sect4">
    5. COMBINANDO DOCUMENTOS
  </bridgehead>
    <para>
  Você pode combinar o documento com outros documentos publicados sob esta Licença, sob os termos definidos na seção 4 acima para versões modificadas, desde que você inclua na combinação todas as Seções Invariantes de todos os documentos originais, sem modificações, e as liste como Seções Invariantes de seu trabalho combinado, na sua nota de licença, e que você preserve todas as Notas de Garantia.
 </para>
    <para>
  O trabalho combinado somente precisa conter uma cópia desta Licença, e várias Seções Invariantes idênticas podem ser substituídas por uma única cópia. Se houver várias Seções Invariantes com o mesmo nome, mas com conteúdos diferentes, torne o título de cada uma dessas seções único, adicionando ao fim dele, entre parênteses, o nome do autor ou editor original da seção, se conhecido, ou então um número exclusivo. Faça o mesmo ajuste nos títulos de seção na lista de Seções Invariantes nas informações de licença do trabalho combinado.
 </para>
    <para>
  Na combinação, você deve combinar quaisquer seções intituladas &quot;Histórico&quot; nos vários documentos originais, formando uma seção intitulada &quot;Histórico&quot;; do mesmo modo, combine quaisquer seções intituladas &quot;Agradecimentos&quot; e quaisquer seções intituladas &quot;Dedicatória&quot;. Você deve eliminar todas as seções intituladas “Apoio”.
 </para>
    <bridgehead renderas="sect4">
    6. COLEÇÕES DE DOCUMENTOS
  </bridgehead>
    <para>
  Você pode fazer uma coleção consistindo do Documento e outros documentos publicados sob esta Licença, e substituir as cópias individuais desta Licença, nos vários documentos, por uma única cópia a ser incluída na coleção, desde que você siga as regras desta Licença para cópias literais de cada documento em todos os outros aspectos.
 </para>
    <para>
  Você pode extrair um único documento dessa coleção e distribuí-lo individualmente sob esta Licença, desde que insira uma cópia desta Licença no documento extraído e siga esta Licença em todos os outros aspectos com relação à cópia literal do documento.
 </para>
    <bridgehead renderas="sect4">
    7. AGREGAÇÃO A TRABALHOS INDEPENDENTES
  </bridgehead>
    <para>
  Uma compilação do Documento, ou seus derivados com outros documentos ou trabalhos separados e independentes, dentro de ou junto a um volume de uma mídia de armazenamento ou distribuição, constituirá um &quot;agregado&quot; se os direitos autorais resultantes da compilação não forem usados para limitar os direitos legais dos usuários dessa compilação além do que os trabalhos individuais permitem. Quando o Documento é incluído em um agregado, a Licença não se aplica a outros trabalhos no agregado que não sejam, por sua vez, derivados do Documento.
 </para>
    <para>
  Se o requisito do Texto de Capa da seção 3 for aplicável a estas cópias do Documento e, ainda, se o Documento for menor do que a metade do agregado inteiro, os Textos de Capa do Documento poderão ser colocados em capas que encerrem o Documento dentro do agregado, ou no equivalente eletrônico das capas, se o Documento estiver em formato eletrônico. Caso contrário, eles deverão aparecer como capas impressas que envolvam o agregado inteiro.
 </para>
    <bridgehead renderas="sect4">
    8. TRADUÇÃO
  </bridgehead>
    <para>
  A tradução é considerada um tipo de modificação, portanto, você pode distribuir traduções do Documento em conformidade com os termos da seção 4. A substituição de Seções Invariantes por traduções requer permissão especial de seus detentores de direitos autorais, mas você pode incluir traduções de algumas ou de todas as Seções Invariantes, além das versões originais dessas Seções Invariantes. Você pode incluir uma tradução desta Licença e todos os avisos de licença no Documento, bem como qualquer Isenção de Responsabilidade quanto a Garantia, desde que também inclua a versão original em Inglês desta Licença e as versões originais dos avisos e das isenções de responsabilidade. Em caso de discordância entre a tradução e a versão original desta Licença ou informações de licença ou isenção de responsabilidade, a versão original prevalecerá.
 </para>
    <para>
  Se uma seção do Documento for intitulada “Agradecimentos”, “Dedicatória” ou “Histórico”, o requisito (seção 4) para Preservar seu Título (seção 1) normalmente exigirá a mudança do título em si.
 </para>
    <bridgehead renderas="sect4">
    9. REVOGAÇÃO
  </bridgehead>
    <para>
  Você não pode copiar, modificar, sublicenciar ou distribuir o Documento, exceto como expressamente previsto por esta Licença. Qualquer outra tentativa de copiar, modificar, sublicenciar ou distribuir o Documento é anulada, e implicará a revogação automática de seus direitos sob esta Licença. Porém, terceiros a quem você forneceu cópias ou direitos sob os termos desta Licença não terão suas licenças revogadas, desde que permaneçam em total concordância com ela.
 </para>
    <bridgehead renderas="sect4">
    10. REVISÕES FUTURAS DESTA LICENÇA
  </bridgehead>
    <para>
  A Free Software Foundation pode publicar ocasionalmente novas versões revisadas da Licença de Documentação Livre GNU. As novas versões serão semelhantes à versão atual, mas poderão diferir em detalhes para atender a novos problemas ou situaçőes. Consulte <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://www.gnu.org/copyleft/"/>.
 </para>
    <para>
  A cada versão da Licença é atribuído um número de versão exclusivo. Se o Documento especificar que um número de versão específico desta Licença, &quot;ou de qualquer versão posterior&quot;, aplica-se a ele, você terá a opção de seguir os termos e condições da versão especificada ou de qualquer versão posterior que tenha sido publicada (não como rascunho) pela Free Software Foundation. Se o documento não especificar um número de versão desta Licença, você poderá escolher qualquer versão já publicada (não como rascunho) pela Free Software Foundation.
 </para>
    <bridgehead renderas="sect4">
    ADENDO: Como usar esta Licença em seus documentos
  </bridgehead>
    <screen>Copyright (c) YEAR YOUR NAME.
Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.2
or any later version published by the Free Software Foundation;
with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.
A copy of the license is included in the section entitled &#x201C;GNU
Free Documentation License&#x201D;.</screen>
    <para>
  Se você tiver Seções Invariantes, Textos de Folha de Rosto e de Contracapa, substitua a linha &quot;with...Texts&quot; por isto:
 </para>
    <screen>with the Invariant Sections being LIST THEIR TITLES, with the
Front-Cover Texts being LIST, and with the Back-Cover Texts being LIST.</screen>
    <para>
  Se você tiver Seções Invariantes sem Textos de Capa ou alguma outra combinação das três, utilize essas duas alternativas para se adequar à situação.
 </para>
    <para>
  Se seu documento contiver exemplos incomuns de código de programação, recomendamos publicar esses exemplos paralelamente, sob a licença de software livre de sua preferência como, por exemplo, a Licença Pública Geral GNU, para permitir seu uso em software livre.
</para>
  </appendix>
</article>
