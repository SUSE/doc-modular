<?xml version="1.0"?>
<article xmlns="http://docbook.org/ns/docbook" version="5.0" xml:id="selinux-article" xml:lang="pt-br">
  <info>
    <title xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">SELinux</title>
    <revhistory xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" xml:id="rh-selinux-article">
      <revision>
        <date>2023-10-10</date>
        <revdescription>
          <para>
              Initial version.
            </para>
        </revdescription>
      </revision>
    </revhistory>
    <meta xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" name="maintainer" content="jsindelarova@suse.common" its:translate="no"/>
    <meta xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" name="updated" content="2023-10-26" its:translate="no"/>
    <meta xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" name="architecture" its:translate="no">
      <phrase>AMD64/Intel&#xA0;64</phrase>
      <phrase>POWER</phrase>
    </meta>
    <meta xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" name="productname" its:translate="no">
      <productname version="6.0" os="slmicro">
        <phrase>
          <phrase os="slmicro">SUSE Linux Micro</phrase>
        </phrase>
      </productname>
    </meta>
    <meta xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" name="title" its:translate="yes">Política, contexto e solução de problemas do SELinux</meta>
    <meta xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" name="description" its:translate="yes">Este artigo apresenta uma visão geral dos componentes básicos do SELinux.</meta>
    <meta xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" name="social-descr" its:translate="yes">Este artigo apresenta uma visão geral dos componentes básicos do SELinux.</meta>
    <meta xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" name="category" its:translate="no">
      <phrase>Security</phrase>
    </meta>
    <meta xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" name="task" its:translate="no">
      <phrase>Security</phrase>
    </meta>
    <meta xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" name="series" its:translate="no">Product &amp; Solutions</meta>
    <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
      <dm:bugtracker>
        <dm:url>https://bugzilla.suse.com/enter_bug.cgi</dm:url>
        <dm:component>Smart Docs</dm:component>
        <dm:product>Documentation</dm:product>
        <dm:assignee>maintainer@suse.com</dm:assignee>
      </dm:bugtracker>
      <dm:editurl>https://github.com/SUSE/doc-modular/tree/main/articles/</dm:editurl>
      <dm:translation>no</dm:translation>
    </dm:docmanager>
    <abstract xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
      <variablelist>
        <varlistentry>
          <term>O QUE É?</term>
          <listitem>
            <para>
              O tópico apresenta informações básicas sobre o Security-Enhanced Linux.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>POR QUÊ?</term>
          <listitem>
            <para>
              Para compreender o SELinux e saber como configurá-lo no <phrase><phrase os="slmicro">SLE Micro</phrase></phrase>.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>DEDICAÇÃO</term>
          <listitem>
            <para>
                A leitura leva aproximadamente 40 minutos.
              </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </abstract>
  </info>
  <section role="concept" xml:lang="pt-br" version="5.2" xml:id="selinux-about">
    <info>
      <abstract xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
        <para/>
      </abstract>
      <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">Sobre o SELinux</title>
      <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="jsindelarova@suse.com" its:translate="no"/>
    </info>
    <para>
    O SELinux foi desenvolvido como uma solução de segurança adicional do Linux que usa a estrutura de segurança do kernel Linux. O objetivo era permitir uma política de segurança mais granular que fosse além dos Controles de Acesso Discricionários (DAC, Discretionary Access Controls) padrão: as permissões de arquivo tradicionais de proprietário/grupo/globais e leitura/gravação/execução.
  </para>
    <para>
    O SELinux usa rótulos anexados a objetos (por exemplo, arquivos e soquetes de rede) e toma decisões de acesso com base neles.
  </para>
    <para>
    A ação padrão do SELinux é negar qualquer acesso. O SELinux apenas permite ações que foram especificamente autorizadas em sua política. Outro recurso do SELinux que reforça a segurança é que ele permite o confinamento rigoroso de processos até o ponto em que os processos não conseguem acessar arquivos de outros processos no mesmo sistema.
  </para>
    <para>
    O SELinux foi projetado para aprimorar as soluções de segurança existentes, não para substituí-las. Por exemplo, o controle de acesso discricionário (DAC) ainda é aplicado, mesmo que o sistema use o SELinux. Se o DAC negar o acesso primeiro, o SELinux não será usado, pois o acesso já foi bloqueado por outro mecanismo.
  </para>
  </section>
  <section role="task" xml:lang="pt-br" version="5.2" xml:id="getting-selinux">
    <info>
      <abstract xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
        <para/>
      </abstract>
      <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">Obtendo o SELinux</title>
      <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="jsindelarova@suse.com" its:translate="no"/>
    </info>
    <para>
    O SELinux é instalado por padrão durante a instalação do <phrase><phrase os="slmicro">SLE Micro</phrase></phrase> pelo YaST ou faz parte das imagens predefinidas.
  </para>
    <para>
    Se o SELinux não está configurado no sistema, execute o seguinte comando:
  </para>
    <screen><prompt role="root"># </prompt>transactional-update setup-selinux</screen>
    <para>
    Reinicialize o sistema após a conclusão do comando. O comando instala a política do SELinux, se ela não estiver instalada, define o modo <literal>enforcing</literal> do SELinux e reconstrói o <literal>initrd</literal>.
  </para>
  </section>
  <section role="concept" xml:lang="pt-br" version="5.2" xml:id="selinux-modes">
    <info>
      <abstract xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
        <para/>
      </abstract>
      <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">Modos do SELinux</title>
      <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="jsindelarova@suse.com" its:translate="no"/>
    </info>
    <para>
    O SELinux pode ser executado em um destes três modos: <literal>disabled</literal>, <literal>permissive</literal> ou <literal>enforcing</literal>.
  </para>
    <para>
    O uso do modo <literal>disabled</literal> significa que nenhuma regra da política do SELinux é aplicada e o sistema não está protegido. Portanto, não recomendamos o uso do modo <literal>disabled</literal>.
  </para>
    <para>
    No modo <literal>permissive</literal>, o SELinux está ativo, a política de segurança é carregada, o sistema de arquivos é rotulado e as entradas de negação de acesso são registradas. No entanto, a política não é imposta e, portanto, nenhum acesso é, de fato, negado.
  </para>
    <para>
    No modo <literal>enforced</literal>, a política de segurança é aplicada. Cada acesso que não é explicitamente permitido pela política é negado.
    
  </para>
    <para>
    Para obter informações sobre como alternar entre os modos do SELinux, consulte a <xref linkend="selinux-switching-modes" role="internalbook"/>.
  </para>
    <section role="task" xml:lang="pt-br" version="5.2" xml:id="selinux-switching-modes">
      <info>
        <abstract xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
          <para/>
        </abstract>
        <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">Mudando o modo do SELinux</title>
        <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="jsindelarova@suse.com" its:translate="no"/>
      </info>
      <para>
    Você pode alternar o modo do SELinux temporariamente ou permanentemente.
  </para>
      <section xml:id="sellinux-temporary-mode-changes">
        <title>Mudando o modo do SELinux temporariamente</title>
        <para>
      Para definir o SELinux como <literal>permissive</literal> ou <literal>enforcing</literal> temporariamente, use o comando <command>setenforce</command>.
    </para>
        <para>
      O comando <command>setenforce</command> tem a seguinte sintaxe:
    </para>
        <screen><prompt role="root"># </prompt>setenforce <replaceable>MODE_ID</replaceable></screen>
        <para>
      em que <replaceable>MODE_ID</replaceable> é <replaceable>0</replaceable> para o modo <literal>permissive</literal> ou <replaceable>1</replaceable> para o modo <literal>enforced</literal>.
    </para>
        <para>
      Lembre-se de que você não pode desabilitar o SELinux usando o comando <command>setenforce</command>.
    </para>
      </section>
      <section xml:id="selinux-permanent-mode-changes">
        <title>Mudando o modo do SELinux permanentemente</title>
        <para>
      Para fazer mudanças no modo do SELinux que persistam após a reinicialização do sistema, edite o arquivo de configuração <filename>/etc/selinux/config</filename>. Nesse arquivo, você também pode desabilitar o SELinux no sistema. No entanto, essa ação não é recomendada. Se o SELinux estiver possivelmente causando problemas no sistema, alterne para o modo <literal>permissive</literal> e depure o sistema.
    </para>
        <para>
      No arquivo <filename>/etc/selinux/config</filename>, mude o valor de <literal>SELINUX</literal> para <literal>disabled</literal>, <literal>permissive</literal> ou <literal>enforced</literal> da seguinte maneira:
    </para>
        <screen>SELINUX=disabled</screen>
        <para>
      As mudanças no arquivo serão aplicadas após a próxima reinicialização.
    </para>
        <note>
          <title>Rotulando novamente o sistema após alternar do modo <literal>disabled</literal></title>
          <para>
        Se você desabilitar e, mais tarde, habilitar o SELinux no sistema, certifique-se de rotular novamente o sistema. Quando o SELinux está desabilitado, e você faz mudanças no sistema de arquivos, as mudanças não são mais refletidas no contexto (por exemplo, novos arquivos não têm nenhum contexto). Portanto, você precisa rotular novamente o sistema usando o comando <command>restorecon</command>, o parâmetro de boot <literal>autorelabel</literal> ou criando um arquivo que acionará o novo rótulo na próxima inicialização. Para criar o arquivo, execute o seguinte comando:
      </para>
          <screen><prompt role="root"># </prompt>touch /etc/selinux/.autorelabel</screen>
          <para>
        Após a reinicialização, o arquivo <filename>/etc/selinux/.autorelabel</filename> é substituído por outro arquivo de flag <filename>/etc/selinux/.relabelled</filename>, para evitar que o novo rótulo seja aplicado às reinicializações subsequentes.
      </para>
        </note>
      </section>
      <section xml:id="selinux-verify-mode">
        <title>Verificando o modo do SELinux ativo</title>
        <para>
      Para verificar o modo, execute o seguinte comando:
    </para>
        <screen><prompt role="root"># </prompt>getenforce</screen>
        <para>
      O comando deve retornar <literal>permissive</literal> ou <literal>enforced</literal>, dependendo do <replaceable>MODE_ID</replaceable> inserido.
    </para>
      </section>
    </section>
    <section role="task" xml:lang="pt-br" version="5.2" xml:id="task-verification">
      <info>
        <abstract xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
          <para/>
        </abstract>
        <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">Verificando se o SELinux está funcionando</title>
        <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="jsindelarova@suse.com" its:translate="no"/>
      </info>
      <para>
    Se você está fazendo mudanças na configuração, pode ser útil alternar para o modo permissivo. Durante esse período, os usuários podem rotular os arquivos incorretamente e, portanto, causar problemas ao reverter para o modo de imposição.
  </para>
      <para>
    Para retornar o sistema ao estado seguro, execute as seguintes etapas:
  </para>
      <procedure>
        <step>
          <para>
        Redefina o contexto de segurança:
      </para>
          <screen>
            <prompt>&gt; </prompt>
            <command>sudo</command>
            <command>restorecon -R /</command>
          </screen>
        </step>
        <step>
          <para>
        Alterne para o modo de imposição definindo o <option>SELINUX=enforcing</option> em <filename>/etc/selinux/config</filename>.
      </para>
        </step>
        <step>
          <para>
        Reinicialize o sistema e efetue login novamente.
      </para>
        </step>
        <step>
          <para>
        Execute o comando <command>sestatus -v</command>. Ele deve retornar uma saída semelhante a esta:
      </para>
          <screen><prompt>&gt; </prompt><command>sudo</command><command>sestatus -v</command>
SELinux status:                 enabled
SELinuxfs mount:                /sys/fs/selinux
SELinux root directory:         /etc/selinux
Loaded policy name:             targeted
Current mode:                   enforcing
Mode from config file:          enforcing
Policy MLS status:              enabled
Policy deny_unknown status:     allowed
Memory protection checking:     requested(insecure)
Max kernel policy version:      33

Process contexts:
Current context:                unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023
Init context:                   system_u:system_r:init_t:s0
/usr/sbin/sshd                  system_u:system_r:sshd_t:s0-s0:c0.c1023

File contexts:
Controlling terminal:           unconfined_u:object_r:user_tty_device_t:s0
/etc/passwd                     system_u:object_r:passwd_file_t:s0
/etc/shadow                     system_u:object_r:shadow_t:s0
/bin/bash                       system_u:object_r:shell_exec_t:s0 \
                                -&gt; system_u:object_r:shell_exec_t:s0
/bin/login                      system_u:object_r:login_exec_t:s0
/bin/sh                         system_u:object_r:bin_t:s0 \
                                -&gt; system_u:object_r:shell_exec_t:s0
/sbin/agetty                    system_u:object_r:bin_t:s0 \
                                -&gt; system_u:object_r:getty_exec_t:s0
/sbin/init                      system_u:object_r:bin_t:s0 -&gt; \
                                system_u:object_r:init_exec_t:s0
/usr/sbin/sshd                  system_u:object_r:sshd_exec_t:s0</screen>
        </step>
        <step>
          <para>
        Se o sistema não estiver funcionando apropriadamente, consulte os arquivos de registro em <filename>/var/log/audit/audit.log</filename>. Para obter mais detalhes, consulte <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://documentation.suse.com/smart-supported.html">SELinux troubleshooting</link>.
      </para>
        </step>
      </procedure>
    </section>
  </section>
  <section role="concept" xml:lang="pt-br" version="5.2" xml:id="selinux-context">
    <info>
      <abstract xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
        <para/>
      </abstract>
      <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">Contexto de segurança do SELinux</title>
      <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="jsindelarova@suse.com" its:translate="no"/>
    </info>
    <para>
    O contexto de segurança é um conjunto de informações atribuídas a um arquivo ou processo. Ele consiste em usuário, função, tipo, nível e categoria do SELinux. Essas informações são usadas para tomar decisões de controle de acesso.
  </para>
    <variablelist>
      <title>Campos de contexto do SELinux</title>
      <varlistentry>
        <term>Usuário do SELinux</term>
        <listitem>
          <para>
          Uma identidade definida na política que é autorizada para um conjunto específico de funções e para uma faixa de <emphasis>níveis</emphasis> específica. Cada usuário do Linux é mapeado para apenas um usuário do SELinux. No entanto, um usuário do SELinux pode ter várias funções.
        </para>
          <para>
          O SELinux não usa a lista de contas de usuário mantida pelo Linux no <filename>/etc/passwd</filename>, mas usa o próprio banco de dados e mapeamento. Por convenção, o nome da identidade recebe o sufixo <literal>_u</literal>, por exemplo: <literal>user_u</literal>.
        </para>
          <para>
          Quando uma nova conta do Linux é criada e o usuário do SELinux não é atribuído à conta, o usuário do SELinux padrão é usado. Normalmente, o valor padrão é <literal>unconfined_u</literal>. Para ver um procedimento sobre como mudar o valor padrão, consulte a <xref linkend="semanage-login-command" role="internalbook"/>.
        </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>role</term>
        <listitem>
          <para>
          Define um conjunto de permissões que um usuário pode receber. A função atribuída a um usuário define os <emphasis>tipos</emphasis> que ele pode acessar. Por convenção, o nome da função recebe o sufixo <literal>_r</literal>, por exemplo: <literal>system_r</literal>.
        </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>type</term>
        <listitem>
          <para>
          O tipo transmite informações sobre como arquivos e processos específicos podem interagir. Um processo consiste em arquivos com um tipo concreto do SELinux e não pode acessar arquivos de outro tipo. Por convenção, o nome do tipo recebe o sufixo <literal>_t</literal>, por exemplo: <literal>var_t</literal>.
        </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>level</term>
        <listitem>
          <para>
          Um atributo opcional que especifica a faixa de níveis de permissão na segurança multinível.
        </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>category</term>
        <listitem>
          <para>
          Um atributo opcional que permite adicionar categorias a processos, arquivos e usuários. Um usuário pode acessar arquivos que tenham a mesma categoria.
        </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <para>
    Veja abaixo um exemplo de contexto do SELinux:
  </para>
    <screen>allow user_t bin_t:file {read execute gettattr};</screen>
    <para>
    Esta regra de exemplo especifica que o usuário com o tipo de contexto <systemitem class="username">user_t</systemitem> (esse usuário é chamado de objeto de origem) tem permissão para acessar objetos do <emphasis>arquivo</emphasis> de classe com o tipo de contexto <filename>bin_t</filename> (o destino), usando as permissões <literal>read</literal>, <literal>execute</literal> e <literal>getattr</literal>.
  </para>
  </section>
  <section role="concept" xml:lang="pt-br" version="5.2" xml:id="selinux-policy">
    <info>
      <abstract xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
        <para/>
      </abstract>
      <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">Visão geral da política do SELinux</title>
      <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="jsindelarova@suse.com" its:translate="no"/>
    </info>
    <para>
    A política é o principal componente do SELinux. A política do SELinux define regras que especificam quais objetos podem acessar quais arquivos, diretórios, portas e processos em um sistema. Para fazer isso, um contexto de segurança é definido para todos eles.
  </para>
    <para>
    Uma política do SELinux contém um grande número de regras. Para torná-las mais gerenciáveis, as políticas costumam ser divididas em módulos. Isso permite que o administrador ative ou desative a proteção para diferentes partes do sistema.
  </para>
    <para>
    Ao compilar a política para seu sistema, você pode trabalhar com uma política modular ou monolítica, em que uma política extensa é usada para proteger tudo no sistema. É altamente recomendável usar uma política modular em vez de uma monolítica. As políticas modulares são muito mais fáceis de gerenciar.
  </para>
    <para>O <phrase><phrase os="slmicro">SLE Micro</phrase></phrase> já vem com a política <literal>targeted</literal> do SELinux.
  </para>
    <section role="task" xml:lang="pt-br" version="5.2" xml:id="selinux-switching-modules">
      <info>
        <abstract xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
          <para/>
        </abstract>
        <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">Trabalhando com módulos do SELinux</title>
        <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="jsindelarova@suse.com" its:translate="no"/>
      </info>
      <para>
    Como administrador, você pode ativar ou desativar módulos. Isso poderá ser útil se você quiser desabilitar apenas uma parte da política do SELinux e não quiser executar um serviço específico sem a proteção do SELinux.
  </para>
      <para>
    Para ver todos os módulos de política do SELinux em uso, execute o comando:
  </para>
      <screen>
        <command>semodule -l</command>
      </screen>
      <para>
    Após obter o nome do módulo que deseja desativar, execute o comando:
  </para>
      <screen>
        <prompt>&gt; </prompt>
        <command>sudo</command>
        <command>semodule -d <replaceable>MODULENAME</replaceable></command>
      </screen>
      <para>
    Para ativar o módulo de política, execute o comando:
  </para>
      <screen>
        <prompt>&gt; </prompt>
        <command>sudo</command>
        <command>semodule -e <replaceable>MODULENAME</replaceable></command>
      </screen>
    </section>
    <section role="task" xml:lang="pt-br" version="5.2" xml:id="creating-policy-containers">
      <info>
        <abstract xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
          <para/>
        </abstract>
        <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">Criando políticas para contêineres</title>
        <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="jsindelarova@suse.com" its:translate="no"/>
      </info>
      <para>O <phrase><phrase os="slmicro">SLE Micro</phrase></phrase> é fornecido com uma política que, por padrão, não permite que os contêineres acessem arquivos que não façam parte dos dados dos contêineres. Por outro lado, todo o acesso à rede é permitido. Normalmente, os contêineres são criados com montagens de vinculação e devem ser capazes de acessar outros diretórios, como <filename>/home</filename> ou <filename>/var</filename>. Talvez você queira ter a opção de permitir o acesso a esses diretórios ou, ao contrário, restringir o acesso de determinadas portas ao contêiner, mesmo que o SELinux seja usado no sistema. Nesse caso, você precisa criar novas regras de política que habilitem ou desabilitem o acesso. Para essa finalidade, o <phrase><phrase os="slmicro">SLE Micro</phrase></phrase> oferece a ferramenta Udica.
  </para>
      <para>
    O procedimento a seguir descreve como criar uma política personalizada para seus contêineres:
  </para>
      <procedure>
        <step>
          <para>
        Verifique se o SELinux está no modo de imposição. Para obter informações detalhadas, consulte a <xref linkend="selinux-switching-modes" role="internalbook"/>.
      </para>
        </step>
        <step>
          <para>
        Inicie um contêiner usando os seguintes parâmetros:
      </para>
          <screen><prompt role="root"># </prompt>podman run -v /home:/home:rw -v /var/:/var/:rw -p 21:21 -it sle15 bash</screen>
          <para>
        O contêiner é executado com a política padrão que não permite acesso aos pontos de montagem, mas não restringe outras portas.
      </para>
        </step>
        <step>
          <para>
        Você pode sair do contêiner.
      </para>
        </step>
        <step>
          <para>
        Obtenha o ID do contêiner:
      </para>
          <screen><prompt role="root"># </prompt>podman ps -a

CONTAINER ID  IMAGE                                                                              COMMAND     CREATED        STATUS            PORTS               NAMES
e59f9d0f86f2  registry.opensuse.org/devel/bci/tumbleweed/containerfile/opensuse/bci/ruby:latest  /bin/bash   8 minutes ago  Up 8 seconds ago  0.0.0.0:21-&gt;21/tcp  zen_ramanujan
        </screen>
        </step>
        <step>
          <para>
        Crie um arquivo JSON que o Udica usará para criar uma política personalizada para o contêiner:
      </para>
          <screen><prompt role="root"># </prompt>podman inspect e59f9d0f86f2 &gt; <replaceable>OUTPUT_JSON_FILE</replaceable></screen>
          <para>
        Por exemplo, substitua <replaceable>OUTPUT_JSON_FILE</replaceable> por <filename>container.json</filename>.
      </para>
        </step>
        <step>
          <para>
        Execute o Udica para gerar uma política de acordo com os parâmetros do contêiner:
      </para>
          <screen><prompt role="root"># </prompt>udica -j <replaceable>OUTPUT_JSON_FILE</replaceable><replaceable>CUSTOM_CONTAINER_POLICY</replaceable></screen>
          <para>
        Por exemplo:
      </para>
          <screen><prompt role="root"># </prompt>udica -j container.json custom_policy</screen>
        </step>
        <step>
          <para>
        De acordo com as instruções fornecidas, carregue os módulos de política executando:
      </para>
          <screen><prompt role="root"># </prompt>semodule -i custom_policy.cil /usr/share/udica/templates/{base_container.cil,net_container.cil,home_container.cil}</screen>
        </step>
        <step>
          <para>
        Execute um contêiner com o novo módulo de política usando a opção <option>--security-opt</option> da seguinte maneira:
      </para>
          <screen><prompt role="root"># </prompt>podman run --security-opt label=type:custom_policy.process -v /home:/home:rw -v /var/:/var/:rw -p 21:21 -it sle15 bash</screen>
        </step>
      </procedure>
    </section>
  </section>
  <section role="concept" xml:lang="pt-br" version="5.2" xml:id="selinux-booleans">
    <info>
      <abstract xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
        <para/>
      </abstract>
      <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">Boolianos do SELinux</title>
      <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="jsindelarova@suse.com" its:translate="no"/>
    </info>
    <para>
    Os boolianos do SELinux suportam uma abordagem flexível de gerenciamento de políticas. Por exemplo, eles permitem desabilitar uma política específica em um servidor e manter a mesma política ativa em outro. Em outras palavras, um booliano pode ser considerado como um switch de uma regra de política. Em vez de mudar uma política específica, você pode desativá-la. No código da política, os boolianos são chamados de <emphasis>ajustáveis</emphasis>. Como estão incluídos na política, eles ficam disponíveis assim que a política é carregada.
  </para>
    <para>
    As mudanças no valor dos boolianos podem ser persistentes ou temporárias, durando até o término da sessão.
  </para>
    <para>
    O SELinux oferece ferramentas que permitem listar e ver detalhes ou mudar o estado dos boolianos. Consulte as seções a seguir para obter detalhes.
  </para>
    <section role="task" xml:lang="pt-br" version="5.2" xml:id="selinux-working-with-booleans">
      <info>
        <abstract xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
          <para/>
        </abstract>
        <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">Trabalhando com boolianos</title>
        <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="jsindelarova@suse.com" its:translate="no"/>
      </info>
      <section xml:id="listing-booleans">
        <title>Listando boolianos</title>
        <para>
      Você pode usar o comando <command>getsebool</command> ou <command>semanage</command> para listar os boolianos definidos no momento. Para listar todos os boolianos definidos no momento, junto com os respectivos estados, execute o seguinte comando:
    </para>
        <screen><prompt role="root"># </prompt>getsebool -a

abrt_anon_write --&gt; off
abrt_handle_event --&gt; off
abrt_upload_watch_anon_write --&gt; on
...
  </screen>
        <para>
      Para obter mais detalhes sobre boolianos específicos, você pode usar o comando <command>semanage</command> da seguinte maneira:
    </para>
        <screen><prompt role="root"># </prompt>semanage boolean -l

SELinux boolean               State   Default     Description

abrt_anon_write               (off  ,  off)       Allow abrt to anon write
abrt_handle_event             (off  ,  off)       Allow abrt to handle event
abrt_upload_watch_anon_write  (on   ,   on)       Allow abrt to upload watch anon write
  </screen>
        <para>
      Para saber o status de cada booliano, você pode usar o seguinte comando:
    </para>
        <screen><prompt role="root"># </prompt>getsebool <replaceable>BOOLEAN_NAME</replaceable></screen>
        <para>
      Se preferir, use o comando <command>grep</command> na saída de <command>semanage boolean</command>:
    </para>
        <screen><prompt role="root"># </prompt>semanage boolean -l | grep <replaceable>BOOLEAN_NAME</replaceable></screen>
      </section>
      <section xml:id="switching-booleans">
        <title>Alternando boolianos</title>
        <para>
      É possível usar os comandos <command>setsebool</command> e <command>semanage</command> para alternar o valor dos boolianos. Você pode mudar o status do booliano de forma persistente ou apenas temporária até o término da sessão. Para mudar o valor de um booliano temporariamente, execute o seguinte comando:
    </para>
        <screen><prompt role="root"># </prompt>setsebool <replaceable>BOOLEAN_NAME</replaceable><replaceable>BOOLEAN_VALUE</replaceable></screen>
        <para>
      em que <replaceable>BOOLEAN_VALUE</replaceable> é <literal>on</literal> ou <literal>off</literal>.
    </para>
        <para>
      Para mudar o valor de um booliano persistentemente, execute o seguinte comando:
    </para>
        <screen><prompt role="root"># </prompt>setsebool -P <replaceable>BOOLEAN_NAME</replaceable><replaceable>BOOLEAN_VALUE</replaceable></screen>
        <para>
      Se preferir, use o comando <command>semanage</command>:
    </para>
        <screen><prompt role="root"># </prompt>semanage boolean -m --<replaceable>BOOLEAN_VALUE</replaceable><replaceable>BOOLEAN_NAME</replaceable></screen>
        <para>
      em que <replaceable>BOOLEAN_VALUE</replaceable> é <literal>on</literal> ou <literal>off</literal>.
    </para>
        <para>
      Um único booliano pode habilitar ou desabilitar várias regras de política. Para ver quais regras de política são habilitadas ou desabilitadas por quais boolianos, use a ferramenta <command>sedispol</command>, que pode analisar o arquivo de política:
    </para>
        <screen><prompt role="root"># </prompt>sedispol /etc/selinux/targeted/policy/policy.32</screen>
        <para>
      Como as regras de política geralmente são enormes, recomendamos configurar um arquivo de saída selecionando <option>f</option> e especificando um nome de arquivo. Após especificar o nome de arquivo, pressione <option>6</option>. Em seguida, você pode inspecionar o arquivo.
    </para>
      </section>
    </section>
  </section>
  <section role="reference" xml:lang="pt-br" version="5.2" xml:id="selinux-tools">
    <info>
      <abstract xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
        <para/>
      </abstract>
      <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">Ferramentas para gerenciar o SELinux</title>
      <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="jsindelarova@suse.com" its:translate="no"/>
    </info>
    <para>O <phrase><phrase os="slmicro">SLE Micro</phrase></phrase> oferece a você ferramentas para gerenciar o SELinux em seu sistema. Se as ferramentas descritas abaixo não estiverem instaladas em seu sistema, instale-as executando:
  </para>
    <screen><prompt role="root"># </prompt>transactional-update pkg install policycoreutils-python-utils</screen>
    <para>
    Após a instalação bem-sucedida, reinicialize o sistema.
  </para>
    <section xml:id="selinux-z-option">
      <title>Usando a opção <option>Z</option></title>
      <para>
      No sistema em que o SELinux está instalado e configurado, você pode usar <option>-Z</option> para comandos regulares, como <command>ls</command>, <command>id</command> ou <command>ps</command>. Usando essa opção, você pode exibir o contexto de segurança de arquivos ou processos. Por exemplo, com o comando <command>ls</command>:
    </para>
      <screen><prompt>&gt; </prompt>ls -Z /etc/shadow

        system_u:object_r:shadow_t:s0 /etc/shadow
      </screen>
    </section>
    <section xml:id="sec-chcon-command">
      <title>O comando <command>chcon</command></title>
      <para>
      O nome do comando <command>chcon</command> significa mudança de contexto. O comando pode mudar o contexto de segurança completo de um arquivo para o valor fornecido na CLI ou pode mudar partes do contexto. Se preferir, insira um arquivo que sirva como referência.
    </para>
      <para>
      Para mudar o contexto de segurança completo de um arquivo, a sintaxe do comando é a seguinte:
    </para>
      <screen><prompt role="root"># </prompt>chcon <replaceable>SECURITY_CONTEXT</replaceable><replaceable>FILENAME</replaceable></screen>
      <para>
      em que:
    </para>
      <itemizedlist>
        <listitem>
          <para><replaceable>SECURITY_CONTEXT</replaceable> está no formato: <replaceable>SELinux_USER</replaceable>:<replaceable>ROLE</replaceable>:<replaceable>TYPE</replaceable>:<replaceable>LEVEL</replaceable>:<replaceable>CATEGORY</replaceable>. Por exemplo, o contexto pode ser: <emphasis>system_u:object_r:httpd_config_t:s0</emphasis>.
        </para>
        </listitem>
        <listitem>
          <para><replaceable>FILENAME</replaceable> é um caminho para o arquivo cujo contexto deve ser mudado.
        </para>
        </listitem>
      </itemizedlist>
      <para>
      Para definir um contexto de segurança de acordo com um arquivo fornecido que serve como referência, execute o <command>chcon</command> da seguinte maneira:
    </para>
      <screen><prompt role="root"># </prompt>chcon --reference=<replaceable>REFERENCE_FILE</replaceable><replaceable>FILENAME</replaceable></screen>
      <para>
      em que:
    </para>
      <itemizedlist>
        <listitem>
          <para><replaceable>REFERENCE_FILE</replaceable> é um caminho para um arquivo que deve ser usado como referência.
        </para>
        </listitem>
        <listitem>
          <para><replaceable>FILENAME</replaceable> é um caminho para o arquivo cujo contexto deve ser mudado.
        </para>
        </listitem>
      </itemizedlist>
      <para>
      Se preferir, mude apenas uma parte do contexto de segurança. A sintaxe geral do comando <command>chcon</command> é a seguinte:
    </para>
      <screen><prompt role="root"># </prompt>chcon <replaceable>CONTEXT_OPTION</replaceable><replaceable>CONTEXT_PART</replaceable><replaceable>FILENAME</replaceable></screen>
      <para>
      As opções e os argumentos têm o seguinte significado:
    </para>
      <itemizedlist>
        <listitem>
          <para>
          dependendo da parte do contexto, <replaceable>CONTEXT_OPTION</replaceable> pode ser qualquer um dos seguintes:
        </para>
          <variablelist>
            <varlistentry>
              <term><option>-u</option> resp <option>--user</option></term>
              <listitem>
                <para>
                indica que um contexto de usuário do SELinux será mudado no arquivo fornecido:
              </para>
                <screen><prompt role="root"># </prompt>chcon -u system_u logind.conf</screen>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term><option>-r</option> resp <option>--role</option></term>
              <listitem>
                <para>
                apenas a parte da função será mudada no contexto do arquivo fornecido:
              </para>
                <screen><prompt role="root"># </prompt>chcon -r object_r logind.conf</screen>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term><option>-t</option> resp <option>--type</option></term>
              <listitem>
                <para>
                apenas a parte do tipo será mudada no contexto do arquivo fornecido:
              </para>
                <screen><prompt role="root"># </prompt>chcon -t etc_t logind.conf</screen>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term><option>-l</option> resp <option>--range</option></term>
              <listitem>
                <para>
                apenas a parte da faixa do contexto de segurança será mudada:
              </para>
                <screen><prompt role="root"># </prompt>chcon -l s0 logind.conf</screen>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
        <listitem>
          <para><replaceable>CONTEXT_PART</replaceable> é o valor específico do contexto de segurança que será definido.
        </para>
        </listitem>
        <listitem>
          <para><replaceable>FILENAME</replaceable> é um caminho para o arquivo cujo contexto será mudado.
        </para>
        </listitem>
      </itemizedlist>
      <note>
        <title>Usando <command>chcon</command> em links simbólicos</title>
        <para>
        Por padrão, quando você muda o contexto de segurança em um link simbólico, o contexto do destino do link é mudado e o contexto do link simbólico <emphasis role="bold">não</emphasis> é mudado. Para forçar o <command>chcon</command> a mudar o contexto do link simbólico, e não o destino do link, use a opção <option>--no-dereference</option> mostrada abaixo:
      </para>
        <screen><prompt role="root"># </prompt>chcon --no-dereference -u system_u -t etc_t network.conf</screen>
      </note>
      <para>
      Você pode mudar o contexto de todos os arquivos em um diretório usando a opção recursiva:
    </para>
      <screen><prompt role="root"># </prompt>chcon --recursive  system_u:object_r:httpd_config_t:s0 conf.d</screen>
    </section>
    <section xml:id="sec-getenforce-setenforce">
      <title>Comandos <command>getenforce</command> e <command>setenforce</command></title>
      <para>
      O comando <command>getenforce</command> retorna o modo do SELinux atual: <literal>Enforcing</literal>, <literal>Permissive</literal> ou <literal>Disabled</literal>.
    </para>
      <screen><prompt role="root"># </prompt>getenforce

Permissive
    </screen>
      <para>
      O comando <command>setenforce</command> muda temporariamente o modo do SELinux para imposição ou permissivo. Não é possível usar esse comando para desabilitar o SELinux. Lembre-se de que a mudança permanece apenas até a próxima reinicialização. Para mudar o estado permanentemente, siga a descrição na <xref linkend="selinux-switching-modes" role="internalbook"/>.
    </para>
      <screen><prompt role="root"># </prompt>setenforce <replaceable>MODE_ID</replaceable></screen>
      <para>
      em que <replaceable>MODE_ID</replaceable> é <replaceable>0</replaceable> para o modo <literal>permissive</literal> ou <replaceable>1</replaceable> para o modo <literal>enforced</literal>.
    </para>
    </section>
    <section xml:id="sec-fixfiles-command">
      <title>O script <command>fixfiles</command></title>
      <para>
      O script permite que você execute as seguintes tarefas com o contexto de segurança:
    </para>
      <itemizedlist>
        <listitem>
          <para>
          verificar se o contexto está correto
        </para>
        </listitem>
        <listitem>
          <para>
          mudar qualquer rótulo de contexto de arquivo incorreto
        </para>
        </listitem>
        <listitem>
          <para>
          renomear seu sistema se você adicionar uma nova política
        </para>
        </listitem>
      </itemizedlist>
      <para>
      Veja a seguir a sintaxe do script:
    </para>
      <screen><prompt role="root"># </prompt>fixfiles [<replaceable>OPTIONS</replaceable>] <replaceable>ARGUMENT</replaceable></screen>
      <para>
      em que:
    </para>
      <itemizedlist>
        <listitem>
          <para><replaceable>OPTIONS</replaceable> pode ser o seguinte:
        </para>
          <variablelist>
            <varlistentry>
              <term>
                <option>-l</option>
                <replaceable>LOGFILE</replaceable>
              </term>
              <listitem>
                <para>
                grava a saída no arquivo fornecido
              </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>
                <option>-o</option>
                <replaceable>OUTPUT_FILE</replaceable>
              </term>
              <listitem>
                <para>
                grava no arquivo de saída fornecido os nomes de todos os arquivos cujo contexto seja diferente do padrão
              </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>
                <option>-F</option>
              </term>
              <listitem>
                <para>
                força a redefinição do contexto
              </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
        <listitem>
          <para><replaceable>ARGUMENT</replaceable> pode ser um dos seguintes:
        </para>
          <variablelist>
            <varlistentry>
              <term>
                <command>check</command>
              </term>
              <listitem>
                <para>
                mostra o contexto do arquivo anterior e atual de um rótulo incorreto sem realizar nenhuma mudança
              </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>
                <command>relabel</command>
              </term>
              <listitem>
                <para>
                reclassifica contextos de arquivo incorretos de acordo com a política carregada no momento
              </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>
                <command>restore</command>
              </term>
              <listitem>
                <para>
                restaura contextos de arquivo incorretos aos valores padrão
              </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>
                <command>verify</command>
              </term>
              <listitem>
                <para>
                lista todos os arquivos com rótulos de contexto de arquivo incorretos sem realizar nenhuma mudança
              </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </itemizedlist>
    </section>
    <section xml:id="sec-semanage-command">
      <title>O comando <command>semanage</command></title>
      <para>
      O comando <command>semanage</command> pode ser usado para configurar partes da política sem a necessidade de recompilar a política de fontes. O comando permite executar as seguintes tarefas:
    </para>
      <itemizedlist>
        <listitem>
          <para>
          gerenciar boolianos usando o argumento <option>boolean</option>. Para obter detalhes sobre boolianos, consulte a <xref linkend="selinux-working-with-booleans" role="internalbook"/>.
        </para>
        </listitem>
        <listitem>
          <para>
          ajustar o contexto dos arquivos usando o argumento <option>fcontext</option>
        </para>
        </listitem>
        <listitem>
          <para>
          gerenciar mapeamentos de usuários usando o argumento <option>login</option>
        </para>
        </listitem>
        <listitem>
          <para>
          gerenciar usuários do SELinux usando o argumento <option>user</option>
        </para>
        </listitem>
        <listitem>
          <para>
          gerenciar módulos de política do SELinux usando o argumento <option>module</option>
        </para>
        </listitem>
      </itemizedlist>
      <para>
      A sintaxe geral do comando tem a seguinte aparência:
    </para>
      <screen><prompt role="root"># </prompt>semanage <replaceable>ARGUMENT</replaceable><replaceable>OPTIONS</replaceable> [<replaceable>OBJECT_NAME</replaceable>]</screen>
      <para>
      em que:
    </para>
      <itemizedlist>
        <listitem>
          <para><replaceable>ARGUMENT</replaceable> é um dos seguintes: <command>login</command>, <command>user</command>, <command>fcontext</command>, <command>boolean</command> e <command>module</command>.
        </para>
        </listitem>
        <listitem>
          <para><replaceable>OPTIONS</replaceable> depende do <replaceable>ARGUMENT</replaceable> especificado. As opções comuns estão descritas em <xref linkend="list-common-options" role="internalbook"/>.
        </para>
        </listitem>
        <listitem>
          <para><replaceable>OBJECT_NAME</replaceable>, dependendo do <replaceable>ARGUMENT</replaceable> especificado, pode ser um nome de login, de módulo ou de arquivo ou um usuário do SELinux.
        </para>
        </listitem>
      </itemizedlist>
      <variablelist xml:id="list-common-options">
        <title>Opções comuns</title>
        <varlistentry>
          <term><option>-a</option>, <option>--add</option></term>
          <listitem>
            <para>
            adiciona um objeto fornecido
          </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term><option>-h</option>, <option>--help</option></term>
          <listitem>
            <para>
            imprime o comando de ajuda
          </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>--extract</term>
          <listitem>
            <para>
            exibe os comandos que foram usados para mudar o sistema (boolianos, contexto de arquivo etc.).
          </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term><option>-l</option>, <option>--list</option></term>
          <listitem>
            <para>
            lista todos os objetos
          </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term><option>-m</option>, <option>--modify</option></term>
          <listitem>
            <para>
            modifica o objeto fornecido
          </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term><option>-n</option>, <option>--noheading</option></term>
          <listitem>
            <para>
            modifica a saída da operação de listagem omitindo os cabeçalhos.
          </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term><option>-s</option>, <option>--seuser</option></term>
          <listitem>
            <para>
            especifica o usuário do SELinux.
          </para>
          </listitem>
        </varlistentry>
      </variablelist>
      <para>
      Outras opções são específicas de determinados comandos <command>semanage</command> e estão descritas nas seções correspondentes.
    </para>
      <section xml:id="sec-semanage-fcontext">
        <title>O comando <command>semanage fcontext</command></title>
        <para>
        Usando o comando <command>semanage fcontext</command>, você pode executar as seguintes tarefas:
      </para>
        <itemizedlist>
          <listitem>
            <para>
            consultar definições de contexto de arquivo
          </para>
          </listitem>
          <listitem>
            <para>
            adicionar contextos a arquivos
          </para>
          </listitem>
          <listitem>
            <para>
            adicionar suas próprias regras
          </para>
          </listitem>
        </itemizedlist>
        <para>
        As mudanças feitas no contexto do arquivo usando o comando <command>semanage
        fcontext</command> não exigem modificações ou recompilação da política.
      </para>
        <para>
        Além das opções comuns descritas em <xref linkend="list-common-options" role="internalbook"/>, o comando <command>semanage
        fcontext</command> usa as seguintes opções:
      </para>
        <variablelist>
          <varlistentry>
            <term><option>-e</option>, <option>--equal</option></term>
            <listitem>
              <para>
              a opção permite usar o contexto do caminho fornecido para rotular arquivos em um diretório diferente (o caminho de destino especificado). Por exemplo, para atribuir o mesmo contexto que <filename>/home</filename> tem a um diretório pessoal alternativo <filename>/export/home</filename>. Se você usar essa opção, precisará inserir o caminho de origem e de destino:
            </para>
              <screen><prompt role="root"># </prompt>semanage fcontext -a -e /home /export/home</screen>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term><option>-f</option>, <option>--ftype</option></term>
            <listitem>
              <para>
              especifique um tipo de arquivo. Use um dos seguintes valores:
            </para>
              <itemizedlist>
                <listitem>
                  <para><option>a</option>: todos os arquivos, que também é o valor padrão
                </para>
                </listitem>
                <listitem>
                  <para><option>b</option>: um dispositivo de blocos
                </para>
                </listitem>
                <listitem>
                  <para><option>c</option>: um dispositivo de caracteres
                </para>
                </listitem>
                <listitem>
                  <para><option>d</option>: um diretório
                </para>
                </listitem>
                <listitem>
                  <para><option>f</option>: arquivos regulares
                </para>
                </listitem>
                <listitem>
                  <para><option>l</option>: um link simbólico
                </para>
                </listitem>
                <listitem>
                  <para><option>p</option>: um named pipe
                </para>
                </listitem>
                <listitem>
                  <para><option>s</option>: um soquete
                </para>
                </listitem>
              </itemizedlist>
            </listitem>
          </varlistentry>
        </variablelist>
      </section>
      <section xml:id="semanage-login-command">
        <title>O comando <command>semanage login</command></title>
        <para>
        O <command>semanage login</command> permite executar as seguintes tarefas:
      </para>
        <itemizedlist>
          <listitem>
            <para>
            Mapear usuários do Linux em um determinado usuário do SELinux. Por exemplo, para mapear o usuário do Linux <emphasis>tux</emphasis> em <literal>sysadm_u</literal>, execute o comando:
          </para>
            <screen>
              <prompt role="root"># </prompt>
              <command>semanage login -a -s sysadm_u tux</command>
            </screen>
          </listitem>
          <listitem>
            <para>
            Mapear um grupo de usuários do Linux em um determinado usuário do SELinux. Por exemplo, para mapear usuários do grupo <emphasis>writers</emphasis> em <literal>user_u</literal>, execute o comando:
          </para>
            <screen>
              <prompt role="root"># </prompt>
              <command>semanage login -a -s user_u %writers</command>
            </screen>
            <para>
            O grupo é listado na saída de <command>semanage login
            -l</command>, prefixado com o caractere %.
          </para>
            <para>
            Lembre-se de que o grupo de usuários deve ser o principal, pois o mapeamento de usuários do SELinux em grupos Suplementares pode resultar em mapeamentos incompatíveis.
          </para>
            <screen>
              <prompt role="root"># </prompt>
              <command>semanage login -m -s staff_u %writers</command>
            </screen>
          </listitem>
          <listitem>
            <para>
            Mapear usuários do Linux em uma faixa de segurança MLS/MCS específica do SELinux.
          </para>
          </listitem>
          <listitem>
            <para>
            Modificar o mapeamento já criado. Para isso, basta substituir a opção <option>-a</option> por <option>-m</option> nos comandos anteriores.
          </para>
          </listitem>
          <listitem>
            <para>
            Definir o usuário padrão do SELinux para novos usuários do Linux. O usuário padrão do SELinux costuma ser <literal>unconfined_u</literal>. Para mudar o valor para <literal>staff_u</literal>, execute o comando:
          </para>
            <screen>
              <prompt role="root"># </prompt>
              <command>semanage login -m -s staff_u __default__</command>
            </screen>
          </listitem>
        </itemizedlist>
      </section>
      <section xml:id="semanage-boolean-command">
        <title>O comando <command>semanage boolean</command></title>
        <para>
        O comando <command>semanage boolean</command> é usado para controlar os boolianos na política do SELinux.
      </para>
        <para>
        A sinopse do comando tem a seguinte aparência:
      </para>
        <screen>semanage boolean [-h] [-n]  [ --extract |
       --deleteall | --list [-C] | --modify ( --on | --off | -1 | -0 ) boolean ]</screen>
        <para>
        Além das opções comuns, você pode usar as seguintes opções específicas do comando <command>semanage boolean</command>:
      </para>
        <variablelist>
          <varlistentry>
            <term>--list -C</term>
            <listitem>
              <para>
              Para exibir uma lista de modificações locais em boolianos.
            </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>-m --on | -1</term>
            <listitem>
              <para>
              Para ativar o booliano fornecido.
            </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>-m --off | -0</term>
            <listitem>
              <para>
              Para desativar o booliano fornecido.
            </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>-D, --deleteall</term>
            <listitem>
              <para>
              Para apagar todas as modificações locais em boolianos.
            </para>
            </listitem>
          </varlistentry>
        </variablelist>
        <para>
        O uso mais comum do comando é ativar ou desativar um booliano específico. Por exemplo, para ativar o booliano <literal>authlogin_yubikey</literal>, execute:
      </para>
        <screen>
          <prompt role="root"># </prompt>
          <command>semanage boolean -m on authlogin_yubikey</command>
        </screen>
      </section>
      <section xml:id="semanage-user-command">
        <title>O comando <command>semanage user</command></title>
        <para>
        O comando <command>semanage user</command> controla o mapeamento entre o usuário do SELinux e as funções e os níveis MLS/MCS.
      </para>
        <para>
        Além das opções comuns descritas em <xref linkend="list-common-options" role="internalbook"/>, o comando <command>semanage
        use</command> usa as seguintes opções:
      </para>
        <variablelist>
          <varlistentry>
            <term>-R [ROLES], --roles [ROLES]</term>
            <listitem>
              <para>
              Uma lista de funções do SELinux. Você pode colocar várias funções entre aspas duplas e separá-las com espaços ou usar <option>-R</option> várias vezes.
            </para>
            </listitem>
          </varlistentry>
        </variablelist>
        <para>
        Usando esse comando, você pode executar as seguintes tarefas:
      </para>
        <itemizedlist>
          <listitem>
            <para>
            Listar o mapeamento de usuários do SELinux em funções executando:
          </para>
            <screen>
              <prompt role="root"># </prompt>
              <command>semanage user -l</command>
            </screen>
          </listitem>
          <listitem>
            <para>
            Mudar as funções atribuídas ao usuário <literal>user_u</literal> do SELinux:
          </para>
            <screen>
              <prompt role="root"># </prompt>
              <command>semanage user -m -R "system_r unconfined_r user_r"</command>
            </screen>
          </listitem>
          <listitem>
            <para>
            Atribuir para <literal>admin_u</literal> a função <literal>staff_r</literal> e a uma categoria <literal>s0</literal>:
          </para>
            <screen>
              <prompt role="root"># </prompt>
              <command>semanage user -a -R "staff_r -r s0 admin_u</command>
            </screen>
          </listitem>
          <listitem>
            <para>
            Criar um novo usuário do SELinux, por exemplo, <literal>admin_u</literal> com a função <literal>staff_r</literal>. Você também precisa definir o prefixo de rótulo para esse usuário usando <option>-P</option>:
          </para>
            <screen>
              <prompt role="root"># </prompt>
              <command>semanage user -a -R "staff_r" -P admin admin_u</command>
            </screen>
          </listitem>
        </itemizedlist>
      </section>
      <section xml:id="semanage-module-command">
        <title>O comando <command>semanage module</command></title>
        <para>
        O comando <command>semanage module</command> pode instalar, remover, desabilitar ou habilitar módulos de política do SELinux.
      </para>
        <para>
        Além das opções comuns descritas em <xref linkend="list-common-options" role="internalbook"/>, o comando <command>semanage
        fcontext</command> usa as seguintes opções:
      </para>
        <variablelist>
          <varlistentry>
            <term><option>-d</option>, <option>--disable</option></term>
            <listitem>
              <para>
              Para desabilitar o módulo de política do SELinux fornecido:
            </para>
              <screen>
                <prompt role="root"># </prompt>
                <command>semanage module --disable <replaceable>MODULE_NAME</replaceable></command>
              </screen>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term><option>-e</option>, <option>--enable</option></term>
            <listitem>
              <para>
              Para habilitar o módulo de política do SELinux fornecido:
            </para>
              <screen>
                <prompt role="root"># </prompt>
                <command>semanage module --enable <replaceable>MODULE_NAME</replaceable></command>
              </screen>
            </listitem>
          </varlistentry>
        </variablelist>
      </section>
    </section>
    <section xml:id="sestatus-command">
      <title>O comando <command>sestatus</command></title>
      <para>
      O <command>sestatus</command> obtém o status de um sistema em que o SELinux está sendo executado.
    </para>
      <para>
      A sintaxe genérica do comando é a seguinte:
    </para>
      <screen>sestatus <replaceable>[OPTION]</replaceable> </screen>
      <para>
      Quando executado sem opções e argumentos, o comando gera as seguintes informações:
    </para>
      <screen><prompt role="root"># </prompt><command>sestatus</command>

SELinux status:                 enabled
SELinuxfs mount:                /sys/fs/selinux
SELinux root directory:         /etc/selinux
Loaded policy name:             targeted
Current mode:                   enforcing
Mode from config file:          enforcing
Policy MLS status:              enabled
Policy deny_unknown status:     allowed
Memory protection checking:     requested (insecure)
Max kernel policy version:      33
      </screen>
      <para>
      O comando pode ter as seguintes opções:
    </para>
      <variablelist>
        <varlistentry>
          <term>-b</term>
          <listitem>
            <para>
            Exibe o status dos boolianos no sistema.
          </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>-v</term>
          <listitem>
            <para>
            Exibe o contexto de segurança dos arquivos e processos listados no arquivo <filename>/etc/sestatus.conf</filename>.
          </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </section>
  </section>
  <section version="5.2" xml:id="legal-disclaimer">
    <info>
      <title xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink">Informações legais</title>
    </info>
    <para> Copyright © 2006-<?dbtimestamp format="Y"?>
 SUSE LLC e colaboradores. Todos os direitos reservados. </para>
    <para>
    Permissão concedida para copiar, distribuir e/ou modificar este documento sob os termos da Licença GNU de Documentação Livre, Versão 1.2 ou (por sua opção) versão 1.3; com a Seção Invariante sendo estas informações de copyright e a licença. Uma cópia da versão 1.2 da licença está incluída na seção intitulada <quote>GNU Free Documentation License</quote> (Licença GNU de Documentação Livre).
  </para>
    <para>
    Para ver as marcas registradas da SUSE, visite <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://www.suse.com/company/legal/"/>. Todas as marcas comerciais de terceiros pertencem a seus respectivos proprietários. Os símbolos de marca registrada (®, ™ etc.) indicam marcas registradas da SUSE e de suas afiliadas. Os asteriscos (*) indicam marcas registradas de terceiros.
  </para>
    <para>
    Todas as informações deste manual foram compiladas com a maior atenção possível aos detalhes. Entretanto, isso não garante uma precisão absoluta. A SUSE LLC, suas afiliadas, os autores ou tradutores não serão responsáveis por possíveis erros nem pelas consequências resultantes de tais erros.
  </para>
  </section>
  <appendix xmlns:its="http://www.w3.org/2005/11/its" version="5.2" role="legal" its:translate="no" xml:id="doc-gfdl-license">
    <info>
      <title xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink">Licença GFDL (GNU Free Documentation License)</title>
    </info>
    <para>
  Copyright (C) 2000, 2001, 2002 Free Software Foundation, Inc. 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 EUA. Qualquer pessoa está autorizada a reproduzir e distribuir cópias literais deste documento de licença, mas não a mudar seu conteúdo.
 </para>
    <bridgehead renderas="sect4">
    0. PREÂMBULO
  </bridgehead>
    <para>
  A finalidade desta Licença é tornar um manual, um livro ou outro documento funcional e útil “livre”, no sentido de garantir a todos a liberdade efetiva para copiá-lo e redistribuí-lo, com ou sem modificações, para fins comerciais ou não. Em segundo lugar, esta Licença preserva ao autor e ao editor o direito de obter créditos pelo seu trabalho, não sendo considerados responsáveis pelas modificações feitas por outras pessoas.
 </para>
    <para>
  Esta Licença é um tipo de “copyleft”, significando que trabalhos derivados do documento também devem ser livres no mesmo sentido. Ela complementa a Licença Pública Geral GNU, que é uma licença de copyleft criada para software livre.
 </para>
    <para>
  Criamos esta Licença para usá-la em manuais de software livre, pois o software livre precisa de documentação livre: um programa livre deve incluir manuais que ofereçam a mesma liberdade que o software. Contudo, essa Licença não está limitada a manuais de software, pois pode ser usada para qualquer trabalho de texto, independentemente do assunto ou do fato de ser publicado como manual impresso. Esta licença é recomendável principalmente para trabalhos cuja finalidade seja instrução ou referência.
 </para>
    <bridgehead renderas="sect4">
    1. APLICABILIDADE E DEFINIÇÕES
  </bridgehead>
    <para>
  Esta Licença se aplica a qualquer manual ou outro trabalho, em qualquer meio, que contenha um aviso incluído pelo detentor dos direitos autorais indicando que ele pode ser distribuído segundo os termos desta Licença. Esse aviso concede uma licença em nível mundial, isenta do pagamento de royalties e de duração ilimitada, para usar o trabalho sob as condições aqui previstas. O “Documento” a seguir refere-se a tal manual ou trabalho. Qualquer membro do público pode ser um licenciado e é tratado como “você”. Você aceitará a licença se copiar, modificar ou distribuir o trabalho de um modo que necessite de permissão de acordo com a lei de direitos autorais.
 </para>
    <para>
  Uma “Versão Modificada” do Documento significa qualquer trabalho que contenha o Documento ou parte dele, que pode ser sua cópia fiel ou com modificações e/ou traduzido para outro idioma.
 </para>
    <para>
  Uma “Seção Secundária” é um apêndice nomeado ou uma seção de introdução do Documento, que trata exclusivamente da relação dos editores ou autores do Documento com seu assunto geral (ou questões relacionadas), e não contém nada que possa estar diretamente ligado ao assunto geral. (Portanto, se o documento for parcialmente um livro de matemática, uma seção secundária não poderá explicar nada de matemática.) Tal relação pode ser uma conexão histórica com o assunto ou com temas relacionados, ou tratar de questões legais, comerciais, filosóficas, éticas ou políticas com relação a eles.
 </para>
    <para>
  As “Seções Invariáveis” são determinadas Seções Secundárias cujos títulos são designados como sendo referentes a essas Seções Invariáveis, no aviso que indica que o Documento foi lançado sob esta Licença. Se uma seção não se encaixar na definição acima de secundária, não poderá ser designada como invariável. O documento pode não conter Seções Invariáveis. Se o documento não identificar seções invariáveis, isso significa que não há nenhuma.
 </para>
    <para>
  Os “Textos de Capa” são pequenos trechos de texto, como Textos de Folha de Rosto ou de Contracapa, incluídos no aviso que indica que o Documento foi lançado sob esta licença. O Texto de Folha de Rosto pode ter no máximo 5 palavras, e o Texto de Contracapa pode ter no máximo 25.
 </para>
    <para>
  Uma cópia “Transparente” do Documento significa uma cópia que pode ser lida por computador, representada em um formato cuja especificação esteja disponível ao público em geral, que seja adequada para a imediata revisão do documento usando editores de texto genéricos ou (para imagens compostas de pixels) programas gráficos genéricos ou (para desenhos) algum editor de desenho amplamente disponível, e que seja adequado para inclusão em formatadores de texto ou para a conversão automática em diversos formatos adequados para entrada em formatadores de texto. Uma cópia feita em outro formato de arquivo Transparente cuja marcação, ou ausência desta, foi manipulada para impedir ou desencorajar modificação subsequente pelos leitores não é Transparente. Um formato de imagem não é Transparente se usado em lugar de qualquer quantidade substancial de texto. Uma cópia que não é “Transparente” é chamada “Opaca”.
 </para>
    <para>
  Exemplos de formatos apropriados para cópias Transparentes incluem ASCII simples sem marcação, formato de entrada Texinfo, LaTeX, SGML ou XML usando um DTD publicamente disponível, e HTML padrão simples, PostScript ou PDF projetados para modificação manual. Exemplos de formatos de imagem transparentes são PNG, XCF e JPG. Formatos Opacos incluem formatos proprietários que podem ser lidos e editados somente por processadores de texto proprietários, SGML ou XML para os quais o DTD e/ou ferramentas de processamento não são amplamente disponibilizadas, e HTML, PostScript ou PDF gerados automaticamente com finalidade apenas de saída por alguns processadores de texto.
 </para>
    <para>
  A “Página de Título” significa, para um livro impresso, a própria página do título, além das páginas subsequentes necessárias para conter, de forma legível, o material que esta Licença requer que apareça na página de título. Para trabalhos em formatos que não tenham uma página de título assim, a “Página de Título” significa o texto próximo à ocorrência mais proeminente do título do trabalho, precedendo o início do corpo do texto.
 </para>
    <para>
  Uma seção “Intitulada XYZ” significa uma subunidade nomeada do Documento cujo título seja precisamente XYZ ou contenha XYZ entre parênteses após o texto que traduz XYZ para outro idioma. (Aqui, XYZ representa o nome de uma seção específica mencionada abaixo, como “Agradecimentos”, “Dedicatória”, “Apoio” ou “Histórico”.) “Preservar o Título” de tal seção quando você modifica o Documento significa que ela continua sendo uma seção “Intitulada XYZ” de acordo com essa definição.
 </para>
    <para>
  O Documento pode incluir Isenções de Responsabilidade quanto a Garantia próximas ao aviso que indica que esta Licença se aplica a este Documento. As Isenções de Responsabilidade de Garantia são consideradas incluídas por referência nesta Licença, mas apenas no que diz respeito à isenção de garantias: qualquer outra implicação que essas Isenções de Responsabilidade de Garantia possam ter será anulada e não terá efeito no significado desta Licença.
 </para>
    <bridgehead renderas="sect4">
    2. CÓPIAS LITERAIS
  </bridgehead>
    <para>
  Você pode copiar e distribuir o Documento em qualquer meio, comercialmente ou não, desde que esta Licença, as informações de copyright e as informações de licença afirmando que esta Licença se aplica ao Documento sejam reproduzidas em todas as cópias, e que você não inclua outras condições, quaisquer que sejam, às condições desta Licença. Você não pode usar de medidas técnicas para obstruir ou controlar a leitura ou cópia futura das cópias que você fizer ou distribuir. Contudo, você pode aceitar remuneração em troca das cópias. Se você distribuir um número suficientemente grande de cópias, deverá também respeitar as condições na seção 3.
 </para>
    <para>
  Você também pode emprestar cópias, sob as mesmas condições mencionadas acima, além de exibi-las publicamente.
 </para>
    <bridgehead renderas="sect4">
    3. COPIANDO EM QUANTIDADE
  </bridgehead>
    <para>
  Se você publicar cópias impressas (ou cópias em uma mídia que normalmente tem capas impressas) do Documento, em número superior a 100, e o aviso de licença do Documento exigir Textos de Capa, deverá encadernar as cópias em capas que contenham, de forma clara e legível, todos estes Textos de Capa: Textos de Folha de Rosto na folha de rosto e Textos de Contracapa na contracapa. As duas capas também devem identificar, de forma clara e legível, você como o editor das cópias. A capa frontal deve apresentar o título completo com todas as palavras deste igualmente proeminentes e visíveis. Você pode adicionar outros materiais nas capas. Cópias com mudanças limitadas às capas, desde que preservando o título do Documento e satisfazendo a essas condições, podem ser tratadas como cópias literais em outros aspectos.
 </para>
    <para>
  Se os textos necessários a qualquer uma das capas forem muito volumosos para serem incluídos de forma legível, você deverá colocar os primeiros listados (quantos couberem razoavelmente) na própria capa, e continuar o restante nas páginas adjacentes.
 </para>
    <para>
  Se você publicar ou distribuir cópias Opacas do Documento em número superior a 100, deverá incluir uma cópia Transparente legível por computador juntamente com cada cópia Opaca, ou informar em, ou juntamente com, cada cópia Opaca um endereço de rede do qual o público geral possa acessar e obter, usando protocolos de rede públicos padrão, uma cópia Transparente completa do Documento, livre de material adicionado. Se você decidir pela segunda opção, deverá seguir etapas razoavelmente prudentes, quando começar a distribuir as cópias Opacas em quantidade, para garantir que essa cópia transparente permaneça acessível no local indicado por pelo menos um ano após a última vez que você distribuir uma cópia Opaca (diretamente ou através de seus agentes ou distribuidores) dessa edição ao público.
 </para>
    <para>
  É solicitado, mas não exigido, que você contate os autores do Documento muito antes de redistribuir qualquer número grande de cópias, para dar-lhes a oportunidade de lhe fornecer uma versão atualizada do Documento.
 </para>
    <bridgehead renderas="sect4">
    4. MODIFICAÇÕES
  </bridgehead>
    <para>
  Você pode copiar e distribuir uma Versão Modificada do Documento sob as condições das seções 2 e 3 acima, desde que forneça a Versão Modificada estritamente sob esta Licença, com a Versão Modificada no lugar do Documento, permitindo assim a distribuição e modificação da Versão Modificada a quem quer que possua uma cópia desta. Além disso, você deve executar os seguintes procedimentos na Versão Modificada:
 </para>
    <orderedlist numeration="upperalpha" spacing="normal">
      <listitem>
        <para>
    Use na Página de Título (e nas capas, se houver) um título distinto do título do Documento, e dos de versões anteriores (os quais devem, se houver algum, ser listados na seção “Histórico” do Documento). Você pode usar o mesmo título de uma versão anterior se o editor original dessa versão assim o permitir.
   </para>
      </listitem>
      <listitem>
        <para>
    Liste na Página de Título, como autores, uma ou mais pessoas ou entidades responsáveis pela autoria das modificações na Versão Modificada, juntamente com pelo menos cinco dos autores principais do Documento (todos seus autores principais, se houver menos que cinco), a menos que eles lhe desobriguem dessa exigência.
   </para>
      </listitem>
      <listitem>
        <para>
    Mencione na Página de Título o nome do editor da Versão Modificada, como seu editor.
   </para>
      </listitem>
      <listitem>
        <para>
    Preserve todas as informações de copyright do Documento.
   </para>
      </listitem>
      <listitem>
        <para>
    Adicione as informações de copyright adequadas para suas modificações ao lado das outras informações de copyright.
   </para>
      </listitem>
      <listitem>
        <para>
    Inclua, imediatamente após as informações de copyright, informações de licença concedendo ao público permissão para usar a Versão Modificada sob os termos desta Licença, na forma mostrada no Adendo abaixo.
   </para>
      </listitem>
      <listitem>
        <para>
    Preserve, nesse aviso de licença, as listas completas de Seções Invariáveis e os Textos de Capa necessários fornecidos no aviso de licença do Documento.
   </para>
      </listitem>
      <listitem>
        <para>
    Inclua uma cópia inalterada desta Licença.
   </para>
      </listitem>
      <listitem>
        <para>
    Preserve a seção intitulada “Histórico”, Preserve seu Título e adicione à seção um item mencionando pelo menos o título, o ano, os novos autores e o editor da Versão Modificada, como mostrado na Página de Título. Se não houver uma seção intitulada “Histórico” no Documento, crie uma mencionando o título, o ano, os autores e o editor do Documento, como mostrado na Página de Título; em seguida, adicione um item que descreva a Versão Modificada, como mencionado na frase anterior.
   </para>
      </listitem>
      <listitem>
        <para>
    Preserve a localização de rede, se houver, indicada no Documento para acesso público a uma cópia Transparente deste e, da mesma maneira, as localizações de rede indicadas no Documento para versões anteriores nas quais ele se baseia. Essas informações podem ser incluídas na seção “Histórico”. Você pode omitir uma localização de rede para um trabalho que foi publicado pelo menos quatro anos antes do Documento em si, ou se o editor original da versão à qual a localização se refere der permissão.
   </para>
      </listitem>
      <listitem>
        <para>
    Para qualquer seção intitulada “Agradecimentos” ou “Dedicatória”, Preserve o Título da seção, e preserve dentro da seção toda a essência e o tom de cada um dos agradecimentos e/ou dedicatórias aos colaboradores nela mencionados.
   </para>
      </listitem>
      <listitem>
        <para>
    Preserve todas as Seções Invariantes do Documento, inalteradas em seu texto e títulos. Números de seção ou o equivalente não são considerados parte dos títulos das seções.
   </para>
      </listitem>
      <listitem>
        <para>
    Apague qualquer seção intitulada “Apoio”. Tal seção não pode ser incluída na Versão Modificada.
   </para>
      </listitem>
      <listitem>
        <para>
    Não modifique o título de qualquer seção existente para “Apoio” nem de forma a gerar conflito com o título de qualquer Seção Invariável.
   </para>
      </listitem>
      <listitem>
        <para>
    Preserve as Isenções de Responsabilidade quanto a Garantia.
   </para>
      </listitem>
    </orderedlist>
    <para>
  Se a Versão Modificada incluir novas seções iniciais ou apêndices que sejam qualificados como Seções Secundárias, e não contiver material copiado do Documento, você poderá, a seu critério, tornar invariantes algumas dessas seções ou todas elas. Para fazer isso, adicione seus títulos à lista de Seções Invariáveis no aviso de licença da Versão Modificada. Esses títulos devem ser diferentes de outros títulos de seção.
 </para>
    <para>
  Você pode adicionar uma seção intitulada “Apoio”, desde que ela não contenha nada além do apoio recebido para sua Versão Modificada por várias partes; por exemplo, notas do revisor ou de que o texto foi aprovado por uma organização como a definição oficial de um padrão.
 </para>
    <para>
  Você pode adicionar uma passagem de até cinco palavras como Texto de Folha de Rosto, e uma passagem de até 25 palavras como Texto de Contracapa, ao fim da lista de Textos de Capa na Versão Modificada. Somente uma passagem de Texto de Folha de Rosto e uma de Texto de Contracapa pode ser adicionada por (ou através de arranjos feitos por) uma entidade qualquer. Se o Documento já incluir um texto de capa para a mesma capa, anteriormente incluído por você ou por arranjo feito pela mesma entidade em cujo nome você está agindo, não será possível adicionar outro, mas sim substituir o antigo, com permissão explícita do editor anterior que o incluiu.
 </para>
    <para>
  O(s) autor(es) e editor(es) do Documento, por esta Licença, não dá(ão) permissão para seu(s) nome(s) ser(em) usado(s) para publicidade ou defesa ou apoio implícito para qualquer Versão Modificada.
 </para>
    <bridgehead renderas="sect4">
    5. COMBINANDO DOCUMENTOS
  </bridgehead>
    <para>
  Você pode combinar o documento com outros documentos publicados sob esta Licença, sob os termos definidos na seção 4 acima para versões modificadas, desde que você inclua na combinação todas as Seções Invariantes de todos os documentos originais, sem modificações, e as liste como Seções Invariantes de seu trabalho combinado, na sua nota de licença, e que você preserve todas as Notas de Garantia.
 </para>
    <para>
  O trabalho combinado somente precisa conter uma cópia desta Licença, e várias Seções Invariantes idênticas podem ser substituídas por uma única cópia. Se houver várias Seções Invariantes com o mesmo nome, mas com conteúdos diferentes, torne o título de cada uma dessas seções único, adicionando ao fim dele, entre parênteses, o nome do autor ou editor original da seção, se conhecido, ou então um número exclusivo. Faça o mesmo ajuste nos títulos de seção na lista de Seções Invariantes nas informações de licença do trabalho combinado.
 </para>
    <para>
  Na combinação, você deve combinar quaisquer seções intituladas “Histórico” nos vários documentos originais, formando uma seção intitulada “Histórico”; do mesmo modo, combine quaisquer seções intituladas “Agradecimentos” e quaisquer seções intituladas “Dedicatória”. Você deve eliminar todas as seções intituladas “Apoio”.
 </para>
    <bridgehead renderas="sect4">
    6. COLEÇÕES DE DOCUMENTOS
  </bridgehead>
    <para>
  Você pode fazer uma coleção consistindo do Documento e outros documentos publicados sob esta Licença, e substituir as cópias individuais desta Licença, nos vários documentos, por uma única cópia a ser incluída na coleção, desde que você siga as regras desta Licença para cópias literais de cada documento em todos os outros aspectos.
 </para>
    <para>
  Você pode extrair um único documento dessa coleção e distribuí-lo individualmente sob esta Licença, desde que insira uma cópia desta Licença no documento extraído e siga esta Licença em todos os outros aspectos com relação à cópia literal do documento.
 </para>
    <bridgehead renderas="sect4">
    7. AGREGAÇÃO A TRABALHOS INDEPENDENTES
  </bridgehead>
    <para>
  Uma compilação do Documento, ou seus derivados com outros documentos ou trabalhos separados e independentes, dentro de ou junto a um volume de uma mídia de armazenamento ou distribuição, constituirá um “agregado” se os direitos autorais resultantes da compilação não forem usados para limitar os direitos legais dos usuários dessa compilação além do que os trabalhos individuais permitem. Quando o Documento é incluído em um agregado, a Licença não se aplica a outros trabalhos no agregado que não sejam, por sua vez, derivados do Documento.
 </para>
    <para>
  Se o requisito do Texto de Capa da seção 3 for aplicável a estas cópias do Documento e, ainda, se o Documento for menor do que a metade do agregado inteiro, os Textos de Capa do Documento poderão ser colocados em capas que encerrem o Documento dentro do agregado, ou no equivalente eletrônico das capas, se o Documento estiver em formato eletrônico. Caso contrário, eles deverão aparecer como capas impressas que envolvam o agregado inteiro.
 </para>
    <bridgehead renderas="sect4">
    8. TRADUÇÃO
  </bridgehead>
    <para>
  A tradução é considerada um tipo de modificação, portanto, você pode distribuir traduções do Documento em conformidade com os termos da seção 4. A substituição de Seções Invariantes por traduções requer permissão especial de seus detentores de direitos autorais, mas você pode incluir traduções de algumas ou de todas as Seções Invariantes, além das versões originais dessas Seções Invariantes. Você pode incluir uma tradução desta Licença e todos os avisos de licença no Documento, bem como qualquer Isenção de Responsabilidade quanto a Garantia, desde que também inclua a versão original em Inglês desta Licença e as versões originais dos avisos e das isenções de responsabilidade. Em caso de discordância entre a tradução e a versão original desta Licença ou informações de licença ou isenção de responsabilidade, a versão original prevalecerá.
 </para>
    <para>
  Se uma seção do Documento for intitulada “Agradecimentos”, “Dedicatória” ou “Histórico”, o requisito (seção 4) para Preservar seu Título (seção 1) normalmente exigirá a mudança do título em si.
 </para>
    <bridgehead renderas="sect4">
    9. REVOGAÇÃO
  </bridgehead>
    <para>
  Você não pode copiar, modificar, sublicenciar ou distribuir o Documento, exceto como expressamente previsto por esta Licença. Qualquer outra tentativa de copiar, modificar, sublicenciar ou distribuir o Documento é anulada, e implicará a revogação automática de seus direitos sob esta Licença. Porém, terceiros a quem você forneceu cópias ou direitos sob os termos desta Licença não terão suas licenças revogadas, desde que permaneçam em total concordância com ela.
 </para>
    <bridgehead renderas="sect4">
    10. REVISÕES FUTURAS DESTA LICENÇA
  </bridgehead>
    <para>
  A Free Software Foundation pode publicar ocasionalmente novas versões revisadas da Licença de Documentação Livre GNU. As novas versões serão semelhantes à versão atual, mas poderão diferir em detalhes para atender a novos problemas ou situaçőes. Consulte <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://www.gnu.org/copyleft/"/>.
 </para>
    <para>
  A cada versão da Licença é atribuído um número de versão exclusivo. Se o Documento especificar que um número de versão específico desta Licença, “ou de qualquer versão posterior”, aplica-se a ele, você terá a opção de seguir os termos e condições da versão especificada ou de qualquer versão posterior que tenha sido publicada (não como rascunho) pela Free Software Foundation. Se o documento não especificar um número de versão desta Licença, você poderá escolher qualquer versão já publicada (não como rascunho) pela Free Software Foundation.
 </para>
    <bridgehead renderas="sect4">
    ADENDO: Como usar esta Licença em seus documentos
  </bridgehead>
    <screen>Copyright (c) YEAR YOUR NAME.
Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.2
or any later version published by the Free Software Foundation;
with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.
A copy of the license is included in the section entitled &#x201C;GNU
Free Documentation License&#x201D;.</screen>
    <para>
  Se você tiver Seções Invariantes, Textos de Capa Frontal e Textos de Contracapa, substitua a linha “with...Texts” por isto:
 </para>
    <screen>with the Invariant Sections being LIST THEIR TITLES, with the
Front-Cover Texts being LIST, and with the Back-Cover Texts being LIST.</screen>
    <para>
  Se você tiver Seções Invariantes sem Textos de Capa ou alguma outra combinação das três, utilize essas duas alternativas para se adequar à situação.
 </para>
    <para>
  Se seu documento contiver exemplos incomuns de código de programação, recomendamos publicar esses exemplos paralelamente, sob a licença de software livre de sua preferência como, por exemplo, a Licença Pública Geral GNU, para permitir seu uso em software livre.
</para>
  </appendix>
</article>
