<?xml version='1.0' encoding='UTF-8'?><article xmlns="http://docbook.org/ns/docbook" version="5.2" xml:id="networkmanager-nmcli" xml:lang="zh-cn">
  <info>
    <title xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">使用 NetworkManager 设置和管理网络连接</title>
    <revhistory xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" xml:id="rh-networkmanager-nmcli">
      <revision>
        <date>2025-11-04</date>
        <revdescription>
          <para>
              初始版本
            </para>
        </revdescription>
      </revision>
    </revhistory>
    <meta xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" name="maintainer" content="shalaka.harne@suse.com" its:translate="no"/> <meta xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" name="updated" content="2024-12-12" its:translate="no"/> <meta xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" name="architecture" its:translate="no">
      <phrase>AMD64/Intel 64</phrase>
      <phrase>POWER</phrase>
      <phrase>IBM Z</phrase>
      <phrase>AArch64</phrase>
    </meta> <meta xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" name="productname" its:translate="no">
      <productname version="16.0">SUSE Linux Enterprise Server</productname>
      <productname version="16.0">SUSE Linux Enterprise Server for SAP applications</productname>
      <productname version="16.0">SUSE Linux Enterprise High Availability</productname>
      <productname version="6.2">SUSE Linux Micro</productname>
    </meta>
    <meta xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" name="title" its:translate="yes">使用 NetworkManager 设置和管理网络连接</meta>
    <meta xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" name="description" its:translate="yes">如何通过 NetworkManager 配置、管理和监控网络连接</meta>
    <meta xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" name="social-descr" its:translate="yes">使用 NetworkManager 管理网络连接</meta>
    <meta xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" name="category" its:translate="no">
      <phrase>Systems Management</phrase>
    </meta> <meta xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" name="task" its:translate="no">
      <phrase>Administration</phrase>
      <phrase>Configuration</phrase>
    </meta> <meta xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its" name="series" its:translate="no">Products &amp; Solutions</meta>
    <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
      <dm:bugtracker>
        <dm:url>https://bugzilla.suse.com/enter_bug.cgi</dm:url>
        <dm:component>Documentation</dm:component>
        <dm:product os="sles4sap">SUSE Linux Enterprise Server 16.0</dm:product>
        <dm:assignee>shalaka.harne@suse.com</dm:assignee>
      </dm:bugtracker>
      <dm:translation>yes</dm:translation>
    </dm:docmanager>
    <abstract xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
      <variablelist>
        <varlistentry>
          <term>内容</term>
          <listitem>
            <para>
              NetworkManager 是一款动态网络控制与配置工具，可确保网络设备保持启用并正常运行。</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>原因</term>
          <listitem>
            <para>
              本文全面概述了 NetworkManager，以及如何使用 NetworkManager 配置、管理、监控和编辑网络连接。</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>工作量</term>
          <listitem>
            <para>
                 安装和配置 NetworkManager 需要 15 分钟。充分理解 NetworkManager 的概念及功能则最多需要 1 小时。
              </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>目标</term>
          <listitem>
            <para>
                掌握网络连接管理的基础知识。
              </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>要求</term>
          <listitem>
            <itemizedlist>
              <listitem>
                <para>拥有安装和管理 NetworkManager 所需的 root 权限</para>
              </listitem>
              <listitem>
                <para>用于安装 NetworkManager 的软件包管理器</para>
              </listitem>
              <listitem>
                <para>
          基本了解网络和 IP 地址
        </para>
              </listitem>
            </itemizedlist>
          </listitem>
        </varlistentry>
      </variablelist>
    </abstract>
  </info>
  <section role="concept" xml:lang="zh-cn" version="5.2" xml:id="networkmanager-nmcli-concept">
    <info>
      <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">NetworkManager 相关概念</title>
      <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="shalaka.harne@suse.com" its:translate="no"/>
      <abstract xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">
        <para>
        NetworkManager 是一款可用于管理网络连接及网络设备的工具，支持创建、配置和管理网络连接及设备。</para>
      </abstract>
    </info>
    <para>在 <phrase><phrase os="sles4sap">SUSE Linux Enterprise Server for SAP Applications</phrase></phrase> 中，NetworkManager 默认设计为完全自动模式。它默认处于启用状态，且随附用于管理主网络连接及其他网络接口所需的全部服务单元文件。NetworkManager 支持网络连接的最新加密类型与标准，包括连接至 802.1X 保护网络的加密。802.1X 是 IEEE 制定的局域网与城域网标准 — 即基于端口的网络访问控制标准。</para>
    <para>
  您可无缝切换有线或无线网络，NetworkManager 会自动连接已知无线网络，并可并行管理多个网络连接。您也可手动在可用网络间切换。
</para>
    <para>NetworkManager 通常包含以下组件：</para>
    <itemizedlist>
      <listitem>
        <para>NetworkManager 守护程序 — 您可通过标准 <systemitem class="daemon">systemd</systemitem> 命令与该守护程序交互</para>
      </listitem>
      <listitem>
        <para><command>nmcli</command> 命令行界面</para>
      </listitem>
      <listitem>
        <para>
  Ncurses 界面 <literal>nmtui</literal>
  </para>
      </listitem>
      <listitem>
        <para>
  NetworkManager 库
  </para>
      </listitem>
      <listitem>
        <para>
配置文件
  </para>
      </listitem>
    </itemizedlist>
  </section>
  <section>
    <info>
      <title xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">安装和配置 NetworkManager</title>
      <abstract xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" xmlns:its="http://www.w3.org/2005/11/its">
        <para>
    在 <phrase><phrase os="sles4sap">SUSE Linux Enterprise Server for SAP Applications</phrase></phrase> 中，NetworkManager 默认已安装并启用，可直接使用。通常无需重新安装该工具或更改其配置；如果确有需要，以下章节提供了相关操作指导。
        </para>
      </abstract>
    </info>
    <section role="task" xml:lang="zh-cn" version="5.2" xml:id="networkmanager-nmcli-install">
      <info>
        <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">安装 NetworkManager</title>
        <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="shalaka.harne@suse.com" its:translate="no"/>
        <abstract xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">
          <para>
        可以使用 <command>zypper</command> 安装 NetworkManager。安装后，您可以将 NetworkManager 设为在系统引导时自动启动。</para>
        </abstract>
      </info>
      <para>安装 NetworkManager：</para>
      <screen><prompt>&gt; </prompt><command>sudo</command> zypper install NetworkManager</screen>
      <para>启用 NetworkManager：</para>
      <screen><prompt>&gt; </prompt><command>sudo</command> systemctl enable NetworkManager</screen>
      <para>启用 NetworkManager 后，所做更改将会在系统重引导后保留。</para>
    </section>
    <section role="task" xml:lang="zh-cn" version="5.2" xml:id="networkmanager-nmcli-conf-nwbehavior">
      <info>
        <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">配置 NetworkManager 行为</title>
        <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="shalaka.harne@suse.com" its:translate="no"/>
        <abstract xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">
          <para>NetworkManager 的行为由其核心配置文件 <filename>/etc/NetworkManager/NetworkManager.conf</filename> 定义。
      </para>
        </abstract>
      </info>
      <para>该文件是配置 NetworkManager 行为与设置的主要位置，配置内容包括日志记录、连接管理及网络设备处理。</para>
      <para>该文件包含键值对部分。每个键值对必须属于一个部分。部分以括在 <literal>[]</literal> 中的名称开头。以 <literal>#</literal> 开头的行被视为注释。常见配置包含 <literal>[main]</literal> 部分及 <literal>plugins</literal> 值、<literal>[logging]</literal> 和 <literal>[connectivity]</literal>：</para>
      <screen>[main]<co xml:id="co-nm-config-main"/>
plugins=keyfile<co xml:id="co-nm-config-keyfile"/>
dhcp=dhclient

[connectivity]<co xml:id="co-nm-config-connectivity"/>
uri=http://name.org

[logging]<co xml:id="co-nm-config-logging"/>
level=INFO
domains=ALL
</screen>
      <calloutlist>
        <callout arearefs="co-nm-config-main">
          <para>
       控制 NetworkManager 的常规设置。
      </para>
        </callout>
        <callout arearefs="co-nm-config-keyfile">
          <para>
        管理连接配置文件的存储方式。[keyfile] 插件支持 NetworkManager 的所有连接类型与功能。
      </para>
        </callout>
        <callout arearefs="co-nm-config-connectivity">
          <para>
        定义连接的默认值与选项，并指定用于检查网络连接的 URI。
      </para>
        </callout>
        <callout arearefs="co-nm-config-logging">
          <para>
        管理 NetworkManager 的日志记录级别和领域。
      </para>
        </callout>
      </calloutlist>
      <procedure xml:id="config-networkmanager">
        <title>配置 NetworkManager.conf</title>
        <para>确保在修改配置文件前备份现有文件。</para>
        <step>
          <para>打开配置文件：</para>
          <screen><prompt>&gt; </prompt><command>sudo</command> vi /etc/NetworkManager/NetworkManager.conf</screen>
        </step>
        <step>
          <para>
停止 NetworkManager 服务：
</para>
          <screen>
            <prompt>&gt; </prompt>
            <command>sudo</command>
            <command>systemctl stop network</command>
          </screen>
        </step>
        <step>
          <para>修改相应部分。</para>
        </step>
        <step>
          <para>保存更改。</para>
        </step>
        <step>
          <para>
 启动 NetworkManager：</para>
          <screen><prompt>&gt; </prompt><command>sudo</command> systemctl start network</screen>
        </step>
        <step>
          <para>查看现有配置和设置：</para>
          <screen>
            <prompt>&gt; </prompt>
            <command>sudo</command>
            <command>nmcli general show</command>
          </screen>
        </step>
      </procedure>
    </section>
  </section>
  <section role="task" xml:lang="zh-cn" version="5.2" xml:id="networkmanager-nmcli-start">
    <info>
      <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">管理 NetworkManager 守护程序</title>
      <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="shalaka.harne@suse.com" its:translate="no"/>
      <abstract xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">
        <para>
      NetworkManager 守护程序是标准的 <systemitem class="daemon">systemd</systemitem> 服务，因此您可使用 <command>systemctl</command> 命令管理该守护程序。
        </para>
      </abstract>
    </info>
    <para>
  您可通过以下任何命令管理 NetworkManager 守护程序：
  </para>
    <variablelist>
      <varlistentry>
        <term>查看状态</term>
        <listitem>
          <para>
  如要检查 NetworkManager 守护程序是否正在运行，进而确认网络是否应处于活跃状态，请使用以下命令：
  </para>
          <screen><prompt>&gt; </prompt>systemctl status network</screen>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>重启守护程序</term>
        <listitem>
          <para>
例如，当出现网络问题时，您可尝试通过以下命令重启 NetworkManager 守护程序：
</para>
          <screen><prompt>&gt; </prompt><command>sudo</command> systemctl restart network</screen>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>停止守护程序</term>
        <listitem>
          <para>在更改网络配置或切换至手动控制模式时，您可停止 NetworkManager；排查或调试网络问题时，也可停止该服务。停止 NetworkManager 后，它将无法自动管理网络接口或更改您的手动配置。您也可通过停止 NetworkManager，手动满足网络接口的特定配置要求。</para>
          <para>
  要停止 NetworkManager 守护程序，请使用以下命令：
  </para>
          <screen><prompt>&gt; </prompt><command>sudo</command> systemctl stop network</screen>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>启动 NetworkManager 守护程序</term>
        <listitem>
          <para>
  如果您停止了该守护程序，现在需要重新启动它以管理所有网络连接，请使用以下命令：
  </para>
          <screen><prompt>&gt; </prompt><command>sudo</command> systemctl start NetworkManager</screen>
        </listitem>
      </varlistentry>
    </variablelist>
  </section>
  <section role="task" xml:lang="zh-cn" version="5.2" xml:id="networkmanager-nmcli-configure">
    <info>
      <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">创建网络连接</title>
      <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="shalaka.harne@suse.com" its:translate="no"/>
      <abstract xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">
        <para>您可使用 <command>nmcli</command> 命令创建网络连接配置文件。</para>
      </abstract>
    </info>
    <para>NetworkManager 会将所有网络配置存储为连接配置文件 - 这类文件是描述如何创建或连接到网络的数据集。默认情况下，这些连接配置文件以文件形式存储在 <filename>/etc/NetworkManager/system-connections/</filename> 目录中。在该目录下，每种网络连接配置文件（Wi-Fi、以太网、VPN）均对应一个独立文件。</para>
    <para>连接是某一连接配置文件的实例：当有设备使用该连接时，对应的配置文件实例即处于活跃状态。一台设备可配置多个连接配置文件。其他连接可用于从一个连接快速切换到另一个连接。例如，如果活跃连接不可用，NetworkManager 会尝试将设备连接到另一个已配置的连接。</para>
    <para>NetworkManager 守护程序负责管理网络连接，您可通过命令行界面 <command>nmcli</command> 或 ncurses 界面 <command>nmtui</command> 与其交互。</para>
    <section>
      <title>创建以太网连接</title>
      <para>使用 <command>nmcli</command> 命令配置以太网连接，然后执行以下步骤：</para>
      <procedure xml:id="networkmanager-ethernet">
        <step>
          <para>
  列出可用设备以获取准确的设备名称：
  </para>
          <screen><prompt>&gt; </prompt>nmcli device</screen>
        </step>
        <step>
          <para>查看连接列表，确保您要使用的配置文件名称未被使用：</para>
          <screen>nmcli connection show</screen>
          <para>NetworkManager 会为每个网络接口控制器 (NIC) 创建一个配置文件。要将 NIC 连接到具有不同设置的网络，必须为每个网络创建单独的配置文件。</para>
        </step>
        <step>
          <para>创建新的连接配置文件：</para>
          <screen><prompt>&gt; </prompt><command>sudo</command> nmcli connection add con-name <replaceable>CONNECTION_NAME</replaceable> ifname <replaceable>DEVICE_NAME</replaceable> type ethernet</screen>
        </step>
        <step>
          <para>查看新连接配置文件的现有网络设置：</para>
          <screen><prompt>&gt; </prompt>nmcli connection show <replaceable>CONNECTION_NAME</replaceable></screen>
        </step>
        <step>
          <para>配置连接配置文件。一般命令语法如下：</para>
          <screen><prompt>&gt; </prompt><command>sudo</command> nmcli connection modify <replaceable>CONNECTION_NAME</replaceable>
  <replaceable>SETTING</replaceable> <replaceable>VALUE</replaceable></screen>
          <para>
  例如，系统默认会启用自动 IP 地址分配（DHCP 或 SLAAC），而您可能希望配置静态 IP 地址：
  </para>
          <itemizedlist>
            <listitem>
              <para>对于 IPv4</para>
              <screen><prompt>&gt; </prompt><command>sudo</command> nmcli connection modify <replaceable>CONNECTION_NAME</replaceable> ipv4.method manual ipv4.addresses 192.0.2.1/24 ipv4.gateway 192.0.2.254 ipv4.dns 192.0.2.200 ipv4.dns-search example.com</screen>
            </listitem>
            <listitem>
              <para>
  对于 IPv6
  </para>
              <screen><prompt>&gt; </prompt><command>sudo</command> nmcli connection modify <replaceable>INTERNAL-LAN</replaceable> ipv6.method manual ipv6.addresses 2001:db8:1::fffe/64 ipv6.gateway 2001:db8:1::fffe ipv6.dns 2001:db8:1::ffbb ipv6.dns-search example.com</screen>
            </listitem>
          </itemizedlist>
        </step>
        <step>
          <para>激活配置文件：</para>
          <screen><prompt>&gt; </prompt><command>sudo</command> nmcli connection up <replaceable>CONNECTION_NAME</replaceable></screen>
        </step>
        <step>
          <para>验证配置：</para>
          <substeps>
            <step>
              <para>验证 NIC 的 IP 设置：</para>
              <screen><prompt>&gt; </prompt>ip address show <replaceable>HOSTNAME</replaceable></screen>
            </step>
            <step>
              <para>验证默认 IPv4 网关：</para>
              <screen><prompt>&gt; </prompt>ip route show default</screen>
            </step>
            <step>
              <para>验证默认 IPv6 网关：</para>
              <screen><prompt>&gt; </prompt>ip -6 route show default</screen>
            </step>
            <step>
              <para>查看 DNS 设置：</para>
              <screen><prompt>&gt; </prompt>cat /etc/resolv.conf</screen>
            </step>
          </substeps>
        </step>
      </procedure>
    </section>
    <section xml:id="configure-wifi">
      <title>创建 Wi-Fi 连接配置文件</title>
      <para>您可使用 <command>nmcli</command> 命令连接 Wi-Fi。首次连接某个 Wi-Fi 时，NetworkManager 会自动创建一个新的连接配置文件。连接到该 Wi-Fi 后，您可对该配置文件进行配置。</para>
      <procedure>
        <step>
          <para>启用 Wi-Fi 无线电功能：</para>
          <screen><prompt>&gt; </prompt><command>sudo</command> nmcli radio wifi on</screen>
        </step>
        <step>
          <para>查看可用设备的列表：</para>
          <screen><prompt>&gt; </prompt><command>sudo</command> nmcli device</screen>
        </step>
        <step>
          <para>连接到 Wi-Fi：
     </para>
          <screen><prompt>&gt; </prompt><command>sudo</command> nmcli device wifi connect <replaceable>WI-FI_CONNECTION_NAME</replaceable>
     <replaceable>PASSWORD</replaceable> </screen>
        </step>
        <step>
          <para>查看新连接配置文件的现有网络设置：</para>
          <screen><prompt>&gt; </prompt><command>sudo</command> nmcli connection show <replaceable>CONNECTION_NAME</replaceable></screen>
        </step>
        <step>
          <para>
     使用以下命令根据需要配置连接配置文件：
     </para>
          <screen><prompt>&gt; </prompt><command>sudo</command> nmcli connection modify <replaceable>CONNECTION_NAME</replaceable>
  <replaceable>SETTING</replaceable> <replaceable>VALUE</replaceable></screen>
          <para>
  例如，要配置静态 IPv4，请使用：
  </para>
          <screen><prompt>&gt; </prompt><command>sudo</command> nmcli connection modify <replaceable>WI-FI_CONNECTION_NAME</replaceable> ipv4.method manual ipv4.addresses <replaceable>IP_ADDRESS/SUBNET_MASK</replaceable></screen>
          <para>
  要配置静态 IPv6 地址，请使用：
  </para>
          <screen><prompt>&gt; </prompt><command>sudo</command> nmcli connection modify <replaceable>WI-FI_CONNECTION_NAME</replaceable> ipv6.method manual ipv6.addresses <replaceable>IP_ADDRESS/SUBNET_MASK</replaceable></screen>
        </step>
        <step>
          <para>重启连接：</para>
          <screen><prompt>&gt; </prompt><command>sudo</command> nmcli connection up <replaceable>WI-FI_CONNECTION_NAME</replaceable></screen>
        </step>
        <step>
          <para>使用以下命令验证连接：</para>
          <screen>
            <prompt>&gt; </prompt>
            <command>nmcli connection show --active</command>
          </screen>
          <para>此时将显示可用活跃连接的列表。</para>
        </step>
      </procedure>
    </section>
    <section xml:id="configure-network-bond">
      <title>创建网络绑定</title>
      <para>网络绑定会将物理和虚拟网络接口组合起来，形成一个逻辑接口。您可在以太网设备、虚拟局域网等设施上创建网络绑定。网络绑定可以提高带宽和/或提供冗余。</para>
      <itemizedlist>
        <title>要求</title>
        <listitem>
          <para>
        网络连接：服务器上已配置两个或更多物理或虚拟网络
</para>
        </listitem>
        <listitem>
          <para>
          要包含在绑定设备中的现有网络接口
        </para>
        </listitem>
        <listitem>
          <para>
          交换机支持，具体取决于绑定模式
        </para>
        </listitem>
        <listitem>
          <para>要将以太网设备用于网络绑定，必须在服务器上安装物理或虚拟以太网设备。</para>
        </listitem>
        <listitem>
          <para>当使用网络捆绑、网桥或 VLAN 设备作为绑定的端口时，您既可以在创建绑定的过程中创建这些设备，也可以提前创建。</para>
        </listitem>
      </itemizedlist>
      <itemizedlist>
        <title>限制</title>
        <listitem>
          <para>不要将绑定跨多个交换机拆分部署。</para>
          <para>
            在大多数硬件设置中，绑定设备中的所有网络接口必须连接到同一交换机。有关详细信息，请查阅交换机供应商文档。
          </para>
        </listitem>
        <listitem arch="power">
          <para>IBM POWER：ibmveth 不支持绑定模式 5 和 6（<literal>balance-tlb</literal> 和 <literal>balance-alb</literal>）。</para>
          <para>
            处于 <literal>tlb</literal> 或 <literal>alb</literal> 模式的绑定驱动程序会发送同时包含源和目标 MAC 地址（显示为虚拟以太网 MAC 地址）的以太网环回包。POWER 固件不支持这些数据包。因此，ibmveth 不支持绑定模式 5 和 6。
          </para>
        </listitem>
        <listitem>
          <para>绑定和虚拟化绑定设备由多个网络接口构成。在大多数配置中，应仅在主机中配置绑定。之后，为 Guest 创建的虚拟接口会与绑定设备桥接，从而简化 Guest 的创建和部署流程。
          </para>
          <para>
            虽然可以在 Guest 中配置绑定，但不建议这样做。如要在 Guest 中配置绑定，必须为 Guest 分配多个接口，且主机不得配置网络绑定。此外，还需谨慎配置主机及其网络桥接，避免在主机与 Guest 中同时使用网络绑定。
          </para>
        </listitem>
      </itemizedlist>
      <itemizedlist>
        <title>绑定模式</title>
        <para>
      可以使用以下绑定模式：
    </para>
        <listitem>
          <para>(<guimenu>0</guimenu>) <guimenu>balance-rr</guimenu></para>
          <para>
            数据包依次通过第一个到最后一个可用接口传输。提供容错和负载平衡。需要交换机支持。某些交换机在此模式下可能出现故障。
          </para>
        </listitem>
        <listitem>
          <para>(<guimenu>1</guimenu>) <guimenu>active-backup</guimenu></para>
          <para>
            只有一个网络接口处于活动状态。如果它发生故障，另一个接口将变成活动状态。提供容错。这是默认模式。不需要特定的交换机支持。
      </para>
        </listitem>
        <listitem>
          <para>(<guimenu>2</guimenu>) <guimenu>balance-xor</guimenu></para>
          <para>
            流量会根据绑定设备中包含的接口数量在所有可用接口间拆分。提供容错和负载平衡。需要交换机支持。某些交换机在此模式下可能出现故障。
          </para>
        </listitem>
        <listitem>
          <para>(<guimenu>3</guimenu>) <guimenu>broadcast</guimenu></para>
          <para>
            在所有接口上广播所有流量。提供容错。需要交换机支持。某些交换机在此模式下可能出现故障。如果可能，请改用模式 <guimenu>1</guimenu>，或者使用此模式通过将每个绑定成员连接到不同的交换机或设备来提供嗅探功能。
          </para>
        </listitem>
        <listitem>
          <para>(<guimenu>4</guimenu>) <guimenu>802.3ad</guimenu></para>
          <para>
            也称为 <emphasis>LACP</emphasis>。LACP 组中的所有接口都必须配置相同的速度和双工设置，并且必须连接到同一交换机。提供容错和负载平衡。需要接口驱动程序提供的 <command>ethtool</command> 支持，以及支持 IEEE 802.3ad 动态链路聚合并进行了相应配置的交换机。如果您的交换机支持此模式，则这是首选模式。
          </para>
        </listitem>
        <listitem>
          <para>(<guimenu>5</guimenu>) <guimenu>balance-tlb</guimenu></para>
          <para>
            自适应传输负载平衡。提供容错和负载平衡。需要接口驱动程序中提供 <command>ethtool</command> 支持。不需要特定的交换机支持，但某些交换机在此模式下可能出现故障。
          </para>
        </listitem>
        <listitem>
          <para>(<guimenu>6</guimenu>) <guimenu>balance-alb</guimenu></para>
          <para>
            自适应负载平衡。提供容错和负载平衡。需要接口驱动程序中提供 <command>ethtool</command> 支持。不需要特定的交换机支持，但某些交换机在此模式下可能出现故障。
          </para>
        </listitem>
      </itemizedlist>
      <para>
      请查阅您的硬件手册，检查您的交换机支持哪些模式。
    </para>
      <para>
      有关各种模式的详细说明，请访问 <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://www.kernel.org/doc/Documentation/networking/bonding.txt"></link>。
    </para>
      <procedure xml:id="network-bond-configuration">
        <title>创建网络绑定</title>
        <step>
          <para>创建绑定接口：</para>
          <screen><prompt>&gt; </prompt><command>sudo</command> nmcli connection add type bond con-name <replaceable>NWBOND</replaceable> ifname <replaceable>NWBOND</replaceable> bond.options "mode=active-backup"</screen>
          <para>
   系统即会创建使用 <varname>active-backup</varname> 模式的网络绑定 <replaceable>NETWORK_BOND</replaceable>。
  </para>
        </step>
        <step>
          <para>查看网络接口列表：</para>
          <screen><prompt>&gt; </prompt>nmcli device status

    DEVICE         TYPE      STATE                   CONNECTION    
    wlan0          wifi      connected               Vision 
    virbr0         bridge    connected (externally)  virbr0        
    p2p-dev-wlan0  wifi-p2p  disconnected            --            
    eth0           ethernet  unavailable             --            
    lo             loopback  unmanaged               --   </screen>
          <para>可用网络接口的列表即会显示。您还可以添加未配置到绑定的设备。在给定的列表中，<literal>p2p-dev-wlan0</literal> 未配置，而 <literal>virbr0</literal> 已配置且具有连接配置文件。</para>
        </step>
        <step>
          <para>要将 <literal>p2p-dev-wlan0</literal> 配置为端口，请创建连接配置文件：</para>
          <screen><prompt>&gt; </prompt><command>sudo</command> nmcli connection add type wifi-p2p slave-type bond con-name bond0-port1 ifname p2p-dev-wlan0 master bond0</screen>
          <para>系统将为 <literal>p2p-dev-wlan0</literal> 创建一个新配置文件并添加到 <literal>bond0</literal> 连接中。绑定的名称为 <literal>bond0</literal>。</para>
        </step>
        <step>
          <para>要将 <literal>virbr0</literal> 分配给绑定，请使用以下命令：</para>
          <screen><prompt>&gt; </prompt><command>sudo</command> nmcli connection modify virbr0 master bond0</screen>
          <para><literal>virbr0</literal> 的连接配置文件即会添加到 <literal>bond0</literal> 连接中。</para>
        </step>
        <step>
          <para>激活该连接：</para>
          <screen><prompt>&gt; </prompt><command>sudo</command> nmcli connection up virbr0</screen>
        </step>
        <step>
          <para>配置 IPv4 设置：</para>
          <itemizedlist>
            <listitem>
              <para>要将 <literal>bond0</literal> 用作其他设备的端口，请使用以下命令：</para>
              <screen><prompt>&gt; </prompt><command>sudo</command> nmcli connection modify bond0 ipv4.method disabled</screen>
            </listitem>
            <listitem>
              <para>要使用 DHCP，不需要进行任何配置。</para>
            </listitem>
            <listitem>
              <para>要配置 <literal>bond0</literal> 连接的静态 IPv4 地址、网络掩码、默认网关和 DNS 服务器，请使用以下命令：</para>
              <screen><prompt>&gt; </prompt><command>sudo</command> nmcli connection modify bond0 ipv4.addresses '192.0.2.1/24' ipv4.gateway '192.0.2.254' ipv4.dns '192.0.2.253' ipv4.dns-search 'example.com' ipv4.method manual</screen>
            </listitem>
          </itemizedlist>
        </step>
        <step>
          <para>配置 IPv6 设置：</para>
          <itemizedlist>
            <listitem>
              <para>要将此绑定设备用作其他设备的端口，请使用以下命令：</para>
              <screen><prompt>&gt; </prompt><command>sudo</command> nmcli connection modify bond0 ipv6.method disabled</screen>
            </listitem>
            <listitem>
              <para>要使用无状态地址自动配置 (SLAAC)，无需执行任何操作。</para>
            </listitem>
            <listitem>
              <para>要设置 <literal>bond0</literal> 连接的静态 IPv6 地址、网络掩码、默认网关和 DNS 服务器，请使用以下命令：</para>
              <screen><prompt>&gt; </prompt><command>sudo</command> nmcli connection modify bond0 ipv6.addresses '2001:db8:1::1/64' ipv6.gateway '2001:db8:1::fffe' ipv6.dns '2001:db8:1::fffd' ipv6.dns-search 'example.com' ipv6.method manual</screen>
            </listitem>
          </itemizedlist>
        </step>
        <step>
          <para>激活该连接：</para>
          <screen><prompt>&gt; </prompt><command>sudo</command> nmcli connection up bond0</screen>
        </step>
        <step>
          <para>查看并验证连接：</para>
          <screen><prompt>&gt; </prompt>nmcli device</screen>
          <para>连接列表即会显示。</para>
        </step>
      </procedure>
    </section>
    <section xml:id="configure-network-team">
      <title>配置网络捆绑</title>
      <para> 网络捆绑通过将两个或多个网络接口组合成单个捆绑设备，来增加带宽和/或提供冗余。捆绑设备的行为通过捆绑模式配置。网络捆绑可以提高带宽和/或提供冗余。
</para>
      <itemizedlist>
        <title>要求</title>
        <listitem>
          <para>
          网络连接
        </para>
        </listitem>
        <listitem>
          <para>
          要包含在捆绑设备中的现有网络接口
        </para>
        </listitem>
        <listitem>
          <para>
          内核中的交换机支持，具体取件于捆绑模式
        </para>
        </listitem>
        <listitem>
          <para>
          已安装 <package>libteam-tools</package> 软件包
        </para>
        </listitem>
        <listitem>
          <para>安装 <literal>teamd</literal> 和 <literal>NetworkManager-team</literal> 软件包。</para>
          <screen><prompt>&gt; </prompt><command>sudo</command>  zypper install teamd
<prompt>&gt; </prompt><command>sudo</command>  zypper install NetworkManager-team</screen>
        </listitem>
        <listitem>
          <para>在服务器上安装两个或更多物理或虚拟设备：</para>
        </listitem>
        <listitem>
          <para>
    要将以太网设备用作网络捆绑的端口，必须在服务器上安装物理或虚拟以太网设备，并将其连接到交换机。
  </para>
        </listitem>
        <listitem>
          <para>要将绑定、网桥或 VLAN 设备用作网络捆绑的端口，可提前创建这些设备，也可在创建网络捆绑时同步创建。</para>
        </listitem>
      </itemizedlist>
      <itemizedlist>
        <title>限制</title>
        <listitem>
          <para>不要将网络捆绑跨多个交换机拆分部署。</para>
          <para>
            在大多数硬件设置中，捆绑设备中的所有网络接口必须连接到同一交换机。有关详细信息，请查阅交换机供应商文档。
          </para>
        </listitem>
        <listitem>
          <para>捆绑和虚拟化：</para>
          <para>
            捆绑设备由多个网络接口构成。在大多数配置中，应该只在主机中配置捆绑。之后，为 Guest 创建的虚拟接口会与捆绑设备桥接，从而简化 Guest 的创建和部署流程。
          </para>
          <para>
            可以（但不建议）在 Guest 中配置捆绑。如要在 Guest 中配置网络捆绑，必须为 Guest 分配多个接口，且主机不得配置网络捆绑。此外，还需谨慎配置主机及其网络桥接，避免在主机与 Guest 中同时使用网络捆绑。
      </para>
        </listitem>
      </itemizedlist>
      <itemizedlist>
        <title>捆绑模式</title>
        <para>
      可以使用以下捆绑模式：
    </para>
        <listitem>
          <para>
            <guimenu>broadcast</guimenu>
          </para>
          <para>
            在所有接口上广播所有流量。提供容错。需要交换机支持。
          </para>
        </listitem>
        <listitem>
          <para>
            <guimenu>roundrobin</guimenu>
          </para>
          <para>
            数据包依次通过第一个到最后一个可用接口传输。提供容错和负载平衡。需要交换机支持。
          </para>
        </listitem>
        <listitem>
          <para>
            <guimenu>activebackup</guimenu>
          </para>
          <para>
            只有一个网络接口处于活动状态。如果它发生故障，另一个接口将变成活动状态。提供容错。
          </para>
        </listitem>
        <listitem>
          <para>
            <guimenu>loadbalance</guimenu>
          </para>
          <para>
            捆绑设备通过其所有接口传输包，使用哈希函数执行负载平衡（被动或主动）。对于被动负载平衡，只使用 BPF 哈希函数。对于主动负载平衡，运行器通过在可用接口之间移动哈希来找到最佳平衡。提供容错和负载平衡。不需要特定的交换机支持。
          </para>
        </listitem>
        <listitem>
          <para>
            <guimenu>lacp</guimenu>
          </para>
          <para>
            LACP 组中的所有接口都必须配置相同的速度和双工设置，并且必须连接到同一交换机。提供容错和负载平衡。需要接口驱动程序提供的 <command>ethtool</command> 支持，以及支持 IEEE 802.3ad 动态链路聚合并进行了相应配置的交换机。如果您的交换机支持此模式，则这是首选模式。
          </para>
        </listitem>
      </itemizedlist>
      <para>
      请查阅您的硬件手册，检查您的交换机支持哪些模式。
    </para>
      <procedure>
        <title>创建网络捆绑</title>
        <step>
          <para>创建捆绑接口：</para>
          <screen><prompt>&gt; </prompt><command>sudo</command> nmcli connection add type team con-name <replaceable>CONNECTION_NAME</replaceable> ifname <replaceable>TEAM_NAME</replaceable> team.runner <replaceable>RUNNER-TYPE</replaceable></screen>
          <para>
  例如，要使用 <literal>activebackup</literal> 运行程序创建网络捆绑 <literal>team0</literal>，请运行：
  </para>
          <screen><prompt>&gt; </prompt><command>sudo</command> nmcli connection add type team con-name team0 ifname team0 team.runner active.backup</screen>
        </step>
        <step>
          <para>查看网络接口列表：</para>
          <screen><prompt>&gt; </prompt>nmcli device status
  </screen> <screen>DEVICE         TYPE      STATE                   CONNECTION    
    wlan0          wifi      connected               Vision 
    virbr0         bridge    connected (externally)  virbr0        
    p2p-dev-wlan0  wifi-p2p  disconnected            --            
    eth0         ethernet  unavailable             --            
    lo             loopback  unmanaged               --     
    </screen>
          <para>您可以将列出的设备添加到网络捆绑中。以下示例使用了 <literal>p2p-dev-wlan0</literal> 和 <literal>virbr0</literal>。可以看到，<literal>p2p-dev-wlan0</literal> 未配置，而 <literal>virbr0</literal> 具有连接配置文件。
  </para>
        </step>
        <step>
          <para>为网络捆绑配置端口接口：</para>
          <screen><prompt>&gt; </prompt><command>sudo</command> nmcli connection add type wifi-p2p slave-type team con-name team0-port1 ifname p2p-dev-wlan0 master team0</screen>
          <para>系统将为 <literal>p2p-dev-wlan0</literal> 创建一个新配置文件并添加到 <literal>team0</literal> 连接中。</para>
        </step>
        <step>
          <para>将现有连接分配给该网络捆绑：</para>
          <screen><prompt>&gt; </prompt><command>sudo</command> nmcli connection modify bond0 master team0</screen>
          <para><literal>bond0</literal> 的连接配置文件即会添加到 <literal>team0</literal> 连接中。</para>
        </step>
        <step>
          <para>激活该连接：</para>
          <screen><prompt>&gt; </prompt><command>sudo</command> nmcli connection up bond0</screen>
        </step>
        <step>
          <para>配置 IPv4 设置：</para>
          <itemizedlist>
            <listitem>
              <para>要将此捆绑设备用作其他设备的端口，请使用以下命令：</para>
              <screen><prompt>&gt; </prompt><command>sudo</command> nmcli connection modify team0 ipv4.method disabled</screen>
            </listitem>
            <listitem>
              <para>要使用 DHCP，不需要进行任何配置。
</para>
            </listitem>
            <listitem>
              <para>要配置 <literal>bond0</literal> 连接的静态 IPv4 地址、网络掩码、默认网关和 DNS 服务器，请运行以下命令：</para>
              <screen><prompt>&gt; </prompt><command>sudo</command> nmcli connection modify team0 ipv4.addresses '192.0.2.1/24' ipv4.gateway '192.0.2.254' ipv4.dns '192.0.2.253' ipv4.dns-search 'example.com' ipv4.method manual</screen>
            </listitem>
          </itemizedlist>
        </step>
        <step>
          <para>配置 IPv6 设置：</para>
          <itemizedlist>
            <listitem>
              <para>要将此捆绑设备用作其他设备的端口，请使用以下命令：</para>
              <screen><prompt>&gt; </prompt><command>sudo</command> nmcli connection modify team0 ipv6.method disabled</screen>
            </listitem>
            <listitem>
              <para>要使用无状态地址自动配置 (SLAAC)，无需执行任何操作。</para>
            </listitem>
            <listitem>
              <para>要设置 <literal>team0</literal> 连接的静态 IPv6 地址、网络掩码、默认网关和 DNS 服务器，请使用以下命令：</para>
              <screen><prompt>&gt; </prompt><command>sudo</command> nmcli connection modify team0 ipv6.addresses '2001:db8:1::1/64' ipv6.gateway '2001:db8:1::fffe' ipv6.dns '2001:db8:1::fffd' ipv6.dns-search 'example.com' ipv6.method manual
</screen>
            </listitem>
          </itemizedlist>
        </step>
        <step>
          <para>激活该连接：</para>
          <screen><prompt>&gt; </prompt><command>sudo</command> nmcli connection up team0</screen>
        </step>
        <step>
          <para>要查看网络捆绑状态，请使用以下命令：</para>
          <screen><prompt>&gt; </prompt><command>sudo</command> teamdctl team0 state</screen>
        </step>
      </procedure>
    </section>
    <section xml:id="configure-network-bridge">
      <title>配置网桥</title>
      <para>
  网桥是一种可将多个网段整合为单个网络，从而实现两个或多个网段间通讯的设备。
  </para>
      <para>配置网桥前，请确保满足以下条件：</para>
      <itemizedlist>
        <listitem>
          <para>服务器上已安装两个或更多物理或虚拟设备。</para>
        </listitem>
        <listitem>
          <para>
    要将以太网设备用作网桥的端口，请确保服务器上已安装物理或虚拟以太网设备，且这些设备已连接到交换机。
  </para>
        </listitem>
        <listitem>
          <para>要将网络捆绑、绑定或 VLAN 设备用作网桥的端口，既可在创建网桥的过程中创建这些设备，也可提前创建。</para>
        </listitem>
      </itemizedlist>
      <procedure xml:id="network-bridge-configuration">
        <title>创建网桥</title>
        <step>
          <para>创建网桥接口：</para>
          <screen><prompt>&gt; </prompt><command>sudo</command> nmcli connection add type bridge con-name <replaceable>CONNECTION_NAME</replaceable> ifname <replaceable>BRIDGE_NAME</replaceable></screen>
          <para>
   例如，我们通过运行以下命令创建了网桥 <literal>bridge0</literal>：
  </para>
          <screen><prompt>&gt; </prompt><command>sudo</command> nmcli connection add type bridge con-name bridge0 ifname bridge0</screen>
        </step>
        <step>
          <para>查看网络接口列表以验证是否已创建 <literal>bridge0</literal>：</para>
          <screen><prompt>&gt; </prompt>nmcli device status
  
    DEVICE         TYPE      STATE                                    CONNECTION    
    wlan0                wifi      connected                                Vision 
    virbr0               bridge    connected (externally)                   virbr0        
    p2p-dev-wlan0        wifi-p2p  disconnected                             --            
    eth0                 ethernet  unavailable                              --            
    lo                   loopback  unmanaged                                --      
    bridge0              bridge    connecting (getting IP configuration)    brdige0    
    </screen>
          <para>网桥处于 <emphasis>getting IP configuration</emphasis> 状态，因为您尚未为其分配接口。您稍后需分配接口：<literal>p2p-dev-wlan0</literal>（未配置）和 <literal>virbr0</literal>（已配置连接配置文件）。
  </para>
        </step>
        <step>
          <para>为网桥添加接口：</para>
          <screen><prompt>&gt; </prompt><command>sudo</command> nmcli connection add type wifi-p2p slave-type bridge con-name bridge0-port1 ifname p2p-dev-wlan0 master bridge0</screen>
          <para>系统将为 p2p-dev-wlan0 创建一个新配置文件并添加到 <literal>bridge0</literal> 连接中。</para>
        </step>
        <step>
          <para>将现有连接分配给该网桥：</para>
          <screen><prompt>&gt; </prompt><command>sudo</command> nmcli connection modify bond0 master bridge0</screen>
          <para><literal>bond0</literal> 的连接配置文件即会添加到 <literal>bridge0</literal> 连接中。</para>
        </step>
        <step>
          <para>重启连接：</para>
          <screen><prompt>&gt; </prompt><command>sudo</command> nmcli connection up bond0</screen>
        </step>
        <step>
          <para>配置 IPv4 设置：</para>
          <itemizedlist>
            <listitem>
              <para>要将此网桥设备用作其他设备的端口，请使用以下命令：</para>
              <screen><prompt>&gt; </prompt><command>sudo</command> nmcli connection modify bridge0 ipv4.method disabled</screen>
            </listitem>
            <listitem>
              <para>要使用 DHCP，不需要进行任何配置。
</para>
            </listitem>
            <listitem>
              <para>要配置 <literal>bridge0</literal> 连接的静态 IPv4 地址、网络掩码、默认网关和 DNS 服务器，请使用以下命令：</para>
              <screen><prompt>&gt; </prompt><command>sudo</command> nmcli connection modify bridge0 ipv4.addresses '192.0.2.1/24' ipv4.gateway '192.0.2.254' ipv4.dns '192.0.2.253' ipv4.dns-search 'example.com' ipv4.method manual</screen>
            </listitem>
          </itemizedlist>
        </step>
        <step>
          <para>配置 IPv6 设置：</para>
          <itemizedlist>
            <listitem>
              <para>要将此网桥设备用作其他设备的端口，请使用以下命令：</para>
              <screen><prompt>&gt; </prompt><command>sudo</command> nmcli connection modify bridge0 ipv6.method disabled</screen>
            </listitem>
            <listitem>
              <para>要使用无状态地址自动配置 (SLAAC)，无需执行任何操作。</para>
            </listitem>
            <listitem>
              <para>要设置 <literal>bridge0</literal> 连接的静态 IPv6 地址、网络掩码、默认网关和 DNS 服务器，请使用以下命令：</para>
              <screen><prompt>&gt; </prompt><command>sudo</command> nmcli connection modify bridge0 ipv6.addresses '2001:db8:1::1/64' ipv6.gateway '2001:db8:1::fffe' ipv6.dns '2001:db8:1::fffd' ipv6.dns-search 'example.com' ipv6.method manual</screen>
            </listitem>
          </itemizedlist>
        </step>
        <step>
          <para>激活该连接：</para>
          <screen><prompt>&gt; </prompt><command>sudo</command> nmcli connection up bridge0</screen>
        </step>
        <step>
          <para>验证连接：</para>
          <screen><prompt>&gt; </prompt>nmcli device</screen>
          <para>当您激活连接的任一端口时，NetworkManager 也会激活网桥，但不会激活网桥的其他端口。</para>
          <para>启用网桥时自动启用所有端口：</para>
          <screen><prompt>&gt; </prompt><command>sudo</command> nmcli connection modify bridge0 connection.autoconnect-slaves 1</screen>
        </step>
        <step>
          <para>查看作为特定网桥端口的以太网设备的链路状态。</para>
          <screen><prompt>&gt; </prompt><command>sudo</command> ip link show master bridge0</screen>
        </step>
        <step>
          <para>
    查看作为任意网桥设备端口的以太网设备的状态。
  </para>
          <screen><prompt>&gt; </prompt><command>sudo</command> bridge link show</screen>
        </step>
      </procedure>
    </section>
    <section xml:id="configure-vpn-connection">
      <title>配置 VPN 连接</title>
      <para>
  VPN（虚拟专用网络）连接是设备与另一网络之间通过互联网建立的安全加密隧道。
  </para>
      <para>可以使用 <command>nmcli</command> 命令配置 VPN 连接。</para>
      <procedure xml:id="configure-vpn-connections">
        <title>安装和配置 VPN 连接</title>
        <step>
          <para>安装 OpenVPN：</para>
          <screen><prompt>&gt; </prompt><command>sudo</command>  zypper install networkmanager-openvpn</screen>
        </step>
        <step>
          <para>创建 VPN 连接：</para>
          <screen><prompt>&gt; </prompt><command>sudo</command> nmcli connection add type vpn con-name MyOpenVPN ifname -- vpn-type openvpn
  </screen>
        </step>
        <step>
          <para>配置设置：</para>
          <screen><prompt>&gt; </prompt><command>sudo</command> nmcli connection modify MyOpenVPN vpn.data "remote=<replaceable>VPN-SERVER-ADDRESS</replaceable>,username=<replaceable>YOUR-USERNAME</replaceable>"</screen> <screen><prompt>&gt; </prompt><command>sudo</command> nmcli connection modify MyOpenVPN vpn.secrets "password=<replaceable>YOUR-PASSWORD</replaceable>"</screen>
        </step>
        <step>
          <para>配置 DNS 设置：</para>
          <screen><prompt>&gt; </prompt><command>sudo</command> nmcli connection modify MyOpenVPN ipv4.dns "8.8.8.8 8.8.4.4"</screen>
        </step>
        <step>
          <para>添加路由：</para>
          <screen><prompt>&gt; </prompt><command>sudo</command> nmcli connection modify MyOpenVPN ipv4.routes "192.168.1.0/24 192.168.1.1"</screen>
        </step>
        <step>
          <para>激活 VPN 连接：</para>
          <screen><prompt>&gt; </prompt><command>sudo</command> nmcli connection up MyOpenVPN</screen>
        </step>
        <step>
          <para>验证配置的连接是否处于活跃状态：</para>
          <screen><prompt>&gt; </prompt>nmcli connection show --active</screen>
        </step>
      </procedure>
    </section>
  </section>
  <section role="reference" xml:lang="zh-cn" version="5.2" xml:id="networkmanager-nm-modify">
    <info>
      <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">修改网络连接</title>
      <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="shalaka.harne@suse.com" its:translate="no"/>
      <abstract xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">
        <para>可以使用 <command>nmcli connection modify</command> 命令修改网络连接。该命令的一般语法如下：</para>
        <screen>
          <prompt>&gt; </prompt>
          <command>sudo</command>
          <command>nmcli connection modify
      <replaceable>CONNECTION-NAME</replaceable> <replaceable>PROPERTY</replaceable> <replaceable>VALUE</replaceable></command>
        </screen>
        <para>
      要获取 <replaceable>CONNECTION-NAME</replaceable> 的值，请使用 <command>nmcli connection show</command> 命令列出连接。可用属性及其可能的值将在下一节中介绍。
      </para>
      </abstract>
    </info>
    <section xml:id="sec-networkmanager-modify-connections">
      <title>连接属性</title>
      <para>
    本节列出并介绍了您可以修改的连接属性：
    </para>
      <table frame="all">
        <title>连接详细信息</title>
        <tgroup cols="3">
          <colspec colname="property" colwidth="1*"/>
          <colspec colname="description" colwidth="2*"/>
          <colspec colname="value" colwidth="1*"/>
          <thead>
            <row>
              <entry>属性</entry>
              <entry>说明</entry>
              <entry>值      
            </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry>ipv4.method</entry>
              <entry>定义接口获取和处理其 IPv4 地址配置的方式</entry>
              <entry>
                <itemizedlist>
                  <listitem>
                    <para><literal>auto</literal> — 用于使用 DHCP 动态分配 IP 地址的默认值
            </para>
                  </listitem>
                  <listitem>
                    <para><literal>manual</literal> — 配置静态 IP 地址
            </para>
                  </listitem>
                  <listitem>
                    <para><literal>link-local</literal> — 仅使用 IPv4 链路本地寻址 (169.254.0.0/16)
            </para>
                  </listitem>
                  <listitem>
                    <para><literal>shared</literal> — 与其他计算机共享连接
            </para>
                  </listitem>
                  <listitem>
                    <para><literal>disabled</literal> — 禁用 IPv4。
            </para>
                  </listitem>
                </itemizedlist>
              </entry>
            </row>
            <row>
              <entry>ipv4.dns</entry>
              <entry>一系列以空格分隔的 DNS IP 地址</entry>
              <entry>例如“8.8.8.8 8.8.4.4”</entry>
            </row>
            <row>
              <entry>ipv4.gateway</entry>
              <entry>该属性是您的系统访问本地网络之外的其他网络时所使用的路由器地址</entry>
              <entry>网关的 IP 地址</entry>
            </row>
            <row>
              <entry>connection.id</entry>
              <entry>用于重命名连接</entry>
              <entry>表示新连接名称的字符串</entry>
            </row>
            <row>
              <entry>802-11-wireless.ssid</entry>
              <entry>该属性用于重命名 Wi-Fi 网络</entry>
              <entry>表示新 Wi-Fi SSID 的字符串</entry>
            </row>
            <row>
              <entry>connection.autoconnect</entry>
              <entry>设备联网时开启/关闭自动连接功能的切换开关</entry>
              <entry><literal>on</literal> 或 <literal>off</literal></entry>
            </row>
          </tbody>
        </tgroup>
      </table>
    </section>
  </section>
  <section role="reference" xml:lang="zh-cn" version="5.2" xml:id="networkmanager-nm-enabledisable">
    <info>
      <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">建立和终止网络连接</title>
      <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="shalaka.harne@suse.com" its:translate="no"/>
      <abstract xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">
        <para>启用网络连接，以实现设备与资源的访问及连接。</para>
      </abstract>
    </info>
    <section xml:id="sec-networkmanager-enable-connections">
      <title>启用网络连接</title>
      <para>
    可能存在特定连接被禁用或所有连接均被禁用的情况。要激活所有连接，请运行以下命令：
    </para>
      <screen>
        <prompt>&gt; </prompt>
        <command>sudo</command>
        <command>nmcli networking on</command>
      </screen>
      <para>
    请注意，此命令不会激活手动禁用的连接。如要激活此类连接，请按照以下步骤操作：
    </para>
      <procedure>
        <title>激活现有连接</title>
        <step>
          <para>
    查看现有连接的列表：
    </para>
          <screen>
            <prompt>&gt; </prompt>
            <command>sudo</command>
            <command>nmcli connection show</command>
          </screen>
        </step>
        <step>
          <para>
    使用名称或 UUID 启用连接：
    </para>
          <screen>
            <prompt>&gt; </prompt>
            <command>sudo</command>
            <command>nmcli connection up uuid <replaceable>CONNECTION-UUID</replaceable></command>
          </screen>
        </step>
        <step>
          <para>
    检查连接状态：
    </para>
          <screen>
            <prompt>&gt; </prompt>
            <command>sudo</command>
            <command>nmcli connection show --active</command>
          </screen>
        </step>
      </procedure>
    </section>
    <section xml:id="sec-networkmanager-disable-connections">
      <title>禁用网络连接</title>
      <para>您可以使用 <command>nmcli</command> 命令禁用网络连接，从而使系统暂时与外部网络断开。</para>
      <para>
  要禁用特定连接，请按照以下步骤操作：
  </para>
      <procedure>
        <step>
          <para>
  查看活跃连接的列表：
  </para>
          <screen><prompt>&gt; </prompt><command>sudo</command><command>nmcli connection show --active</command>
  
NAME                UUID                                  TYPE      DEVICE       
Wired connection 2  7b0c32ee-851e-3015-a658-f4372b426273  ethernet  enp6s0f3u1u4
lo                  8041ed2a-e4ae-4bf7-a0db-d4b513b9d745  loopback  lo           
virbr0              1bec1271-4bb6-46a7-a50a-4b329fa318d3  bridge    virbr0       
vnet0               ac196c81-0505-49f0-9328-b78e1746b4a9  tun       vnet0   
  </screen>
        </step>
        <step>
          <para>
  终止特定连接：
  </para>
          <screen>
            <prompt>&gt; </prompt>
            <command>sudo</command>
            <command>nmcli connection down <replaceable>CONNECTION-NAME/CONNECTION-UUID</replaceable></command>
          </screen>
          <para>
  例如：
  </para>
          <screen>
            <prompt>&gt; </prompt>
            <command>sudo</command>
            <command>nmcli connection down virbr0</command>
          </screen>
        </step>
      </procedure>
      <para>
    要暂时禁用<emphasis role="bold">所有</emphasis>连接，请运行：
    </para>
      <screen>
        <prompt>&gt; </prompt>
        <command>sudo</command>
        <command>nmcli networking off</command>
      </screen>
      <note>
        <title>仅为临时更改</title>
        <para>
    上述两种情况下（启用所有连接、禁用特定连接），所做更改仅在系统重引导前有效。系统重引导后，NetworkManager 及连接将恢复活跃状态。 
    </para>
      </note>
    </section>
  </section>
  <section role="reference" xml:lang="zh-cn" version="5.2" xml:id="networkmanager-nm-monitor">
    <info>
      <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">监视网络连接</title>
      <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="shalaka.harne@suse.com" its:translate="no"/>
      <abstract xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">
        <para>
        使用 <command>nmcli</command> 命令可查看由 NetworkManager 管理的网络连接的状态、活动及详细信息。</para>
      </abstract>
    </info>
    <para>下面列出了用于执行网络连接基本监控任务的命令。</para>
    <variablelist>
      <varlistentry>
        <term>查看活跃连接的列表</term>
        <listitem>
          <screen>
            <prompt>&gt; </prompt>
            <command>nmcli connection show --active</command>
          </screen>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>查看 NetworkManager 的状态</term>
        <listitem>
          <screen>
            <prompt>&gt; </prompt>
            <command>nmcli monitor</command>
          </screen>
          <para>该命令将显示网络状态和连接的实时动态。</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>查看特定网络连接的详细信息</term>
        <listitem>
          <screen>
            <prompt>&gt; </prompt>
            <command>nmcli connection monitor <replaceable>CONNECTION-NAME</replaceable></command>
          </screen>
          <para>
          每次更改连接时，NetworkManager 就会列显一行。
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>监控网络设备的状态</term>
        <listitem>
          <screen>
            <prompt>&gt; </prompt>
            <command>nmcli device monitor</command>
          </screen>
          <para>该命令将显示所有网络设备及其设备名称、类型、状态和连接名称的列表。</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>查看 Wi-Fi 连接的信号强度</term>
        <listitem>
          <screen>
            <prompt>&gt; </prompt>
            <command>nmcli device wifi list</command>
          </screen>
          <para>该命令将显示可用 Wi-Fi 网络及其 SSID、信号强度（以 % 表示）和安全类型的列表。</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </section>
  <section role="task" xml:lang="zh-cn" version="5.2" xml:id="networkmanager-nmcli-log">
    <info>
      <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">NetworkManager 日志记录</title>
      <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="shalaka.harne@suse.com" its:translate="no"/>
      <abstract xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">
        <para>
        NetworkManager 的活动由 <literal>journald</literal> 系统日志记录机制进行记录。NetworkManager 日志存储在 <filename>/var/log/syslog</filename> 中，可通过 <command>journalctl</command> 命令查看日志详细信息。</para>
      </abstract>
    </info>
    <para>
       NetworkManager 记录的活动类型因当前日志记录级别而异。可用日志级别说明如下：
       </para>
    <itemizedlist>
      <listitem>
        <para><emphasis>ERR</emphasis>：仅记录错误消息，例如连接失败。</para>
      </listitem>
      <listitem>
        <para><emphasis>WARN</emphasis>：记录警告与错误消息，例如身份验证问题。</para>
      </listitem>
      <listitem>
        <para><emphasis>INFO</emphasis>：记录通知性消息，是所有日志记录领域的默认级别。</para>
      </listitem>
      <listitem>
        <para><emphasis>DEBUG</emphasis>：记录详细的调试信息，例如详细的 DHCP 协商过程。</para>
      </listitem>
      <listitem>
        <para><emphasis>TRACE</emphasis>：记录极详细（通常不重要）的事件，例如数据包级别的详细信息。</para>
      </listitem>
    </itemizedlist>
    <para>
       要检查当前的日志记录级别，请运行：
       </para>
    <screen><prompt>&gt; </prompt><command>nmcli general logging</command>

                                                                                                                                                                                                                    
INFO   PLATFORM,RFKILL,ETHER,WIFI,BT,MB,DHCP4,DHCP6,PPP,IP4,IP6,AUTOIP4,DNS,VPN,SHARING,SUPPLICANT,AGENTS,SETTINGS,SUSPEND,CORE,DEVICE,OLPC,INFINIBAND,FIREWALL,ADSL,BOND,VLAN,BRIDGE,TEAM,CONCHECK,DCB,DISPATCH,AUDIT,SYSTEMD,PROXY
</screen>
    <para>
输出显示所有领域的日志记录级别为 INFO — 这是默认设置。您可修改特定领域的日志记录级别，修改后命令仅会输出已修改的领域。
</para>
    <para>
要修改所有领域的日志记录级别，请运行：
</para>
    <screen>
      <prompt>&gt; </prompt>
      <command>sudo</command>
      <command>general logging level <replaceable>LEVEL</replaceable> domains ALL</command>
    </screen>
    <para>
例如，要将更改还原为默认设置，请运行：
</para>
    <screen>
      <prompt>&gt; </prompt>
      <command>sudo</command>
      <command>nmcli general logging level INFO domains ALL</command>
    </screen>
    <para>
要更改特定领域的日志记录级别，例如，要为 <literal>DNS</literal> 和 <literal>FIREWALL</literal> 设置 <literal>DEBUG</literal> 级别，请运行：
</para>
    <screen>
      <prompt>&gt; </prompt>
      <command>sudo</command>
      <command>nmcli general logging level DEBUG domains FIREWALL,DNS</command>
    </screen>
    <para>
下面列出了使用 <command>journald</command> 管理 NetworkManager 日志的命令。
</para>
    <variablelist xml:id="view-networkmanager-logs">
      <title>管理 NetworkManager 日志</title>
      <varlistentry>
        <term>查看日志</term>
        <listitem>
          <para>
要查看 NetworkManager 日志，请运行：
</para>
          <screen>
            <prompt>&gt; </prompt>
            <command>sudo</command>
            <command>journalctl -u NetworkManager</command>
          </screen>
          <para>
要实时查看 NetworkManager 日志，请运行：
</para>
          <screen>
            <prompt>&gt; </prompt>
            <command>sudo</command>
            <command>journalctl -u NetworkManager -f</command>
          </screen>
          <para>
如果只想查看特定日志，请使用 <command>grep</command> 过滤 <command>journalctl</command> 输出。例如，要查看与 DHCP 相关的日志，请运行：
</para>
          <screen>
            <prompt>&gt; </prompt>
            <command>sudo</command>
            <command>journalctl -u NetworkManager | grep DHCP</command>
          </screen>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>保存日志</term>
        <listitem>
          <para>要将 NetworkManager 日志保存到文件中，例如保存到 <filename>networkmanager.log</filename>，请运行：</para>
          <screen>
            <prompt>&gt; </prompt>
            <command>sudo</command>
            <command>journalctl -u NetworkManager &gt; networkmanager.log</command>
          </screen>
          <para>
要将特定时间的 NetworkManager 日志保存到文件中，例如保存到 <filename>networkmanager_timerange.log</filename>，请运行：
</para>
          <screen>
            <prompt>&gt; </prompt>
            <command>sudo</command>
            <command>journalctl -u NetworkManager --since "<replaceable>YYYY-MM-DD HH:MM:SS</replaceable>" --until "<replaceable>YYYY-MM-DD HH:MM:SS</replaceable>" &gt; networkmanager_timerange.log</command>
          </screen>
          <para>要使用实时监控功能保存 NetworkManager 日志，并在日志生成时保存，请运行：</para>
          <screen>
            <prompt>&gt; </prompt>
            <command>sudo</command>
            <command>journalctl -u NetworkManager -f &gt;&gt; live_networkmanager.log</command>
          </screen>
        </listitem>
      </varlistentry>
    </variablelist>
  </section>
  <section role="reference" xml:lang="zh-cn" version="5.2" xml:id="nmcli-usage">
    <info>
      <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion"><command>nmcli</command> 命令参考信息</title>
      <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="jsindelarova@suse.com" its:translate="no"/>
      <abstract xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">
        <para>
        本节汇总了 <command>nmcli</command> 命令的选项和子命令，您可使用它们与 NetworkManager 守护程序交互以管理网络。
      </para>
      </abstract>
    </info>
    <para>
       <command>nmcli</command> 命令的一般语法如下：
    </para>
    <screen><prompt role="root"># </prompt>nmcli <replaceable>OPTIONS</replaceable><replaceable>SUBCOMMAND</replaceable><replaceable>SUBCOMMAND_ARGUMENTS</replaceable></screen>
    <para>
      其中，<replaceable>OPTIONS</replaceable> 已在<xref linkend="sec-nmcli-options"/>中予以介绍，<replaceable>SUBCOMMAND</replaceable> 可为下列其中一项：
    </para>
    <variablelist>
      <varlistentry>
        <term>
          <command>connection</command>
        </term>
        <listitem>
          <para>
            用于配置网络连接。有关详细信息，请参见<xref linkend="sec-connection-command"/>。
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <command>device</command>
        </term>
        <listitem>
          <para>
            用于网络设备管理。有关详细信息，请参见<xref linkend="sec-device-command"/>。
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <command>general</command>
        </term>
        <listitem>
          <para>
            显示状态和权限。有关详细信息，请参见<xref linkend="sec-general-command"/>。
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <command>monitor</command>
        </term>
        <listitem>
          <para>
            监控 NetworkManager 的活动，以及监控连接和设备的状态变化。此子命令不采用任何参数。
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <command>networking</command>
        </term>
        <listitem>
          <para>
            查询网络状态。有关详细信息，请参见<xref linkend="sec-networking-command"/>。
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <section xml:id="sec-nmcli-options">
      <title><command>nmcli</command> 命令选项</title>
      <para>
        除了子命令及其参数之外，<command>nmcli</command> 命令还可采用以下选项：
      </para>
      <variablelist>
        <varlistentry>
          <term>
            <option>-a|--ask</option>
          </term>
          <listitem>
            <para>
              该命令会停止运行以请求输入任何缺少的参数，例如，请求输入口令以连接到网络。
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <option>-c|--color {yes|no|auto}</option>
          </term>
          <listitem>
            <para>
              控制颜色输出：<literal>yes</literal> 表示启用颜色，<literal>no</literal> 表示禁用颜色，<literal>auto</literal> 表示仅在将标准输出定向到终端时才创建颜色输出。
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <option>-m|--mode {tabular|multiline}</option>
          </term>
          <listitem>
            <para>
              在 <literal>tabular</literal> 模式（每行描述一个条目，列定义条目的特定属性）和 <literal>multiline</literal> 模式（每个条目包含多行，每个属性单独占一行）之间切换。默认模式为 <literal>tabular</literal> 模式。
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <option>-h|--help</option>
          </term>
          <listitem>
            <para>
              列显帮助。
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <option>-w|--wait seconds</option>
          </term>
          <listitem>
            <para>
              设置等待 NetworkManager 完成操作的超时期限。对于需要较长时间才能完成的命令（例如连接激活），建议使用此选项。
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </section>
    <section xml:id="sec-connection-command">
      <title><command>connection</command> 子命令</title>
      <para>
        使用 <command>connection</command> 命令可以管理连接或查看有关特定连接的任何信息。<command>nmcli connection</command> 提供以下命令来管理网络连接：
      </para>
      <variablelist>
        <varlistentry>
          <term>
            <command>show</command>
          </term>
          <listitem>
            <para>
              列出连接：
            </para>
            <screen>
              <prompt>&gt; </prompt>
              <command>nmcli connection show</command>
            </screen>
            <para>
              还可以使用此命令来显示有关指定连接的细节：
            </para>
            <screen>
              <prompt>&gt; </prompt>
              <command>nmcli connection show <replaceable>CONNECTION_ID</replaceable></command>
            </screen>
            <para>
              其中 <replaceable>CONNECTION_ID</replaceable> 是任意标识符：<emphasis>连接名称、UUID 或路径</emphasis>
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <command>up</command>
          </term>
          <listitem>
            <para>
              激活提供的连接。可以使用该命令来重新加载连接。在对连接执行任何更改后，也需要运行此命令。
            </para>
            <screen>
              <prompt>&gt; </prompt>
              <command>sudo</command>
              <command>nmcli connection up [--active] [<replaceable>CONNECTION_ID</replaceable>]</command>
            </screen>
            <para>
              指定 <option>--active</option> 后，只会显示活动配置文件。默认设置是同时显示活跃连接和静态配置。
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <command>down</command>
          </term>
          <listitem>
            <para>
              停用连接。
            </para>
            <screen>
              <prompt>&gt; </prompt>
              <command>sudo</command>
              <command>nmcli connection down <replaceable>CONNECTION_ID</replaceable></command>
            </screen>
            <para>
              其中，<replaceable>CONNECTION_ID</replaceable> 是任意标识符：<emphasis>连接名称、UUID 或路径</emphasis>
            </para>
            <para>
              如果您停用连接，则稍后不会重新连接，即使该连接具有 <literal>autoconnect</literal> 标志。
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <command>modify</command>
          </term>
          <listitem>
            <para>
              更改或删除连接的属性。
            </para>
            <screen>
              <prompt>&gt; </prompt>
              <command>sudo</command>
              <command>nmcli connection modify <replaceable>CONNECTION_ID</replaceable> <replaceable>SETTING.PROPERTY</replaceable> <replaceable>PROPERTY_VALUE</replaceable></command>
            </screen>
            <para>
              其中：
            </para>
            <itemizedlist>
              <listitem>
                <para><replaceable>CONNECTION_ID</replaceable> 是任意标识符：<emphasis>连接名称、UUID 或路径</emphasis>
                </para>
              </listitem>
              <listitem>
                <para><replaceable>SETTING.PROPERTY</replaceable> 是属性的名称，例如 <literal>ipv4.addresses</literal>
                </para>
              </listitem>
              <listitem>
                <para><replaceable>PROPERTY_VALUE</replaceable> 是 <replaceable>SETTING.PROPERTY</replaceable> 的所需值
                </para>
              </listitem>
            </itemizedlist>
            <para>
              以下示例停用 <literal>ethernet1</literal> 连接的 <option>autoconnect</option> 选项：
            </para>
            <screen>
              <prompt>&gt; </prompt>
              <command>sudo</command>
              <command>nmcli connection modify ethernet1 connection.autoconnect no</command>
            </screen>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <command>add</command>
          </term>
          <listitem>
            <para>
              使用提供的细节添加连接。该命令的语法类似于 <command>modify</command> 命令：
            </para>
            <screen>
              <prompt>&gt; </prompt>
              <command>sudo</command>
              <command>nmcli connection add <replaceable>CONNECTION_ID</replaceable> <replaceable>save YES|NO</replaceable> <replaceable>SETTING.PROPERTY</replaceable> <replaceable>PROPERTY_VALUE</replaceable></command>
            </screen>
            <para>
              至少应指定 <literal>connection.type</literal> 或使用 <literal>type</literal>。以下示例会添加绑定到 DHCP <literal>eth0</literal> 接口的以太网连接，并禁用该连接的 <option>autoconnect</option> 标志：
            </para>
            <screen>
              <prompt>&gt; </prompt>
              <command>sudo</command>
              <command>nmcli connection add type ethernet autoconnect no ifname eth0</command>
            </screen>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <command>edit</command>
          </term>
          <listitem>
            <para>
              使用交互式编辑器编辑现有连接。
            </para>
            <screen>
              <prompt>&gt; </prompt>
              <command>sudo</command>
              <command>nmcli connection edit <replaceable>CONNECTION_ID</replaceable></command>
            </screen>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <command>clone</command>
          </term>
          <listitem>
            <para>
              克隆现有连接。极简语法如下：
            </para>
            <screen>
              <prompt>&gt; </prompt>
              <command>sudo</command>
              <command>nmcli connection clone <replaceable>CONNECTION_ID</replaceable> <replaceable>NEW_NAME</replaceable></command>
            </screen>
            <para>
              其中 <replaceable>CONNECTION_ID</replaceable> 是要克隆的连接。
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <command>delete</command>
          </term>
          <listitem>
            <para>
              删除现有连接：
            </para>
            <screen>
              <prompt>&gt; </prompt>
              <command>sudo</command>
              <command>nmcli connection delete <replaceable>CONNECTION_ID</replaceable></command>
            </screen>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <command>monitor</command>
          </term>
          <listitem>
            <para>
              监控提供的连接。每次更改连接时，NetworkManager 就会列显一行。
            </para>
            <screen>
              <prompt>&gt; </prompt>
              <command>sudo</command>
              <command>nmcli connection monitor <replaceable>CONNECTION_ID</replaceable></command>
            </screen>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <command>reload</command>
          </term>
          <listitem>
            <para>
              从磁盘重新加载所有连接文件。由于 NetworkManager 不会监控对连接文件执行的更改，因此每当您对文件进行更改时，都需要使用此命令。此命令不采用任何其他子命令。
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <command>load</command>
          </term>
          <listitem>
            <para>
              要加载/重新加载特定的连接文件，请运行：
            </para>
            <screen>
              <prompt>&gt; </prompt>
              <command>sudo</command>
              <command>nmcli connection load <replaceable>CONNECTION_FILE</replaceable></command>
            </screen>
          </listitem>
        </varlistentry>
      </variablelist>
      <para>
        有关上述命令的详细信息，请参见 <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://networkmanager.dev/docs/api/latest/nmcli.html"><command>nmcli</command> 文档</link>。
      </para>
    </section>
    <section xml:id="sec-device-command">
      <title><command>device</command> 子命令</title>
      <para>
        使用 <command>device</command> 子命令可以显示和管理网络接口。<command>nmcli device</command> 命令可识别以下命令：
      </para>
      <variablelist>
        <varlistentry>
          <term>
            <command>status</command>
          </term>
          <listitem>
            <para>
              列显所有设备的状态。
            </para>
            <screen>
              <prompt>&gt; </prompt>
              <command>nmcli device status</command>
            </screen>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <command>show</command>
          </term>
          <listitem>
            <para>
              显示有关设备的详细信息。如果未指定设备，则会显示所有设备。
            </para>
            <screen>
              <prompt>&gt; </prompt>
              <command>mcli device show [<replaceable>DEVICE_NAME</replaceable>]</command>
            </screen>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <command>connect</command>
          </term>
          <listitem>
            <para>
              连接设备。NetworkManager 会尝试查找可激活的适当连接。如果没有兼容的连接，则会创建新的配置文件。
            </para>
            <screen>
              <prompt>&gt; </prompt>
              <command>sudo</command>
              <command>nmcli device connect <replaceable>DEVICE_NAME</replaceable></command>
            </screen>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <command>modify</command>
          </term>
          <listitem>
            <para>
              对特定设备上处于活动状态的配置执行临时更改。更改不会存储在连接配置文件中。
            </para>
            <screen>
              <prompt>&gt; </prompt>
              <command>sudo</command>
              <command>nmcli device modify <replaceable>DEVICE_NAME</replaceable> [+|-] <replaceable>SETTING.PROPERTY</replaceable> <replaceable>VALUE</replaceable></command>
            </screen>
            <para>
              有关可能的 <replaceable>SETTING.PROPERTY</replaceable> 值，请参见 <emphasis>nm-settings-nmcli(5)</emphasis>。
            </para>
            <para>
              以下示例在设备 <literal>con1</literal> 上启动 IPv4 共享连接共享。
            </para>
            <screen>
              <prompt>&gt; </prompt>
              <command>sudo</command>
              <command>nmcli dev modify con1 ipv4.method shared</command>
            </screen>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <command>disconnect</command>
          </term>
          <listitem>
            <para>
              断开设备连接，并阻止设备在未经人工干预的情况下自动激活其他连接。
            </para>
            <screen>
              <prompt>&gt; </prompt>
              <command>sudo</command>
              <command>nmcli device disconnect <replaceable>DEVICE_NAME</replaceable></command>
            </screen>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <command>delete</command>
          </term>
          <listitem>
            <para>
              从系统中删除接口。可以使用该命令来仅删除绑定和网桥等软件设备。无法使用此命令删除硬件设备。
            </para>
            <screen>
              <prompt>&gt; </prompt>
              <command>sudo</command>
              <command>nmcli device delete <replaceable>DEVICE_NAME</replaceable></command>
            </screen>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <command>wifi</command>
          </term>
          <listitem>
            <para>
              列出所有可用的接入点。
            </para>
            <screen>
              <prompt>&gt; </prompt>
              <command>nmcli device wifi</command>
            </screen>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <command>wifi connect</command>
          </term>
          <listitem>
            <para>
              连接到按 SSID 或 BSSID 指定的 Wi-Fi 网络。该命令接受以下选项：
            </para>
            <itemizedlist>
              <listitem>
                <para><option>password</option> - 安全网络的口令
                </para>
              </listitem>
              <listitem>
                <para><option>ifname</option> - 用于激活的接口
                </para>
              </listitem>
              <listitem>
                <para><option>name</option> - 可为连接命名
                </para>
              </listitem>
            </itemizedlist>
            <screen>
              <prompt>&gt; </prompt>
              <command>sudo</command>
              <command>nmcli device wifi connect <replaceable>SSID</replaceable> [password <replaceable>PASSWORD_VALUE</replaceable>] [ifname <replaceable>INTERFACE_NAME</replaceable>]</command>
            </screen>
            <para>
              要使用口令 <literal>pass$word2#@@</literal> 连接到 Wi-Fi <emphasis>GUESTWiFi</emphasis>，请运行：
            </para>
            <screen>
              <prompt>&gt; </prompt>
              <command>sudo</command>
              <command>nmcli device wifi connect <replaceable>GUESTWiFi</replaceable> password pass$word2#@@</command>
            </screen>
          </listitem>
        </varlistentry>
      </variablelist>
    </section>
    <section xml:id="sec-general-command">
      <title><command>general</command> 子命令</title>
      <para>
        可以使用此命令查看 NetworkManager 状态和权限，以及更改主机名和日志记录级别。<command>nmcli
        general</command> 可识别以下命令：
      </para>
      <variablelist>
        <varlistentry>
          <term>
            <command>status</command>
          </term>
          <listitem>
            <para>
              显示 NetworkManager 的整体状态。如果未为 <command>nmcli general</command> 命令指定命令，则默认会使用 status。
            </para>
            <screen>
              <prompt>&gt; </prompt>
              <command>nmcli general status</command>
            </screen>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <command>hostname</command>
          </term>
          <listitem>
            <para>
              如果未提供新主机名作为参数，则会显示当前主机名。如果指定了新主机名，则值将用于设置新主机名。
            </para>
            <screen>
              <prompt>&gt; </prompt>
              <command>sudo</command>
              <command>nmcli general hostname [<replaceable>HOSTNAME</replaceable>]</command>
            </screen>
            <para>
              例如，要设置 <literal>MyHostname</literal>，请运行：
            </para>
            <screen>
              <prompt>&gt; </prompt>
              <command>sudo</command>
              <command>nmcli general hostname MyHostname</command>
            </screen>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <command>permissions</command>
          </term>
          <listitem>
            <para>
              显示您的 NetworkManager 操作（例如启用或禁用网络、修改连接等）权限。
            </para>
            <screen>
              <prompt>&gt; </prompt>
              <command>nmcli general permissions</command>
            </screen>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>
            <command>logging</command>
          </term>
          <listitem>
            <para>
              显示和更改 NetworkManager 日志记录级别和域。在未指定任何参数的情况下，该命令会显示当前日志记录级别和域。
            </para>
            <screen>
              <prompt>&gt; </prompt>
              <command>sudo</command>
              <command>nmcli general logging [level <replaceable>LEVEL</replaceable> domains <replaceable>DOMAIN</replaceable>]</command>
            </screen>
            <para><replaceable>LEVEL</replaceable> 为以下任一值：<literal>OFF</literal>、<literal>ERR</literal>、<literal>WARN</literal>、<literal>INFO</literal>、<literal>DEBUG</literal> 或 <literal>TRACE</literal>。
            </para>
            <para><replaceable>DOMAIN</replaceable> 为如下所示的值列表：<literal>PLATFORM, RFKILL, ETHER, WIFI, BT, MB,
              DHCP4, DHCP6, PPP, WIFI_SCAN, IP4, IP6, AUTOIP4, DNS, VPN,
              SHARING, SUPPLICANT, AGENTS, SETTINGS, SUSPEND, CORE, DEVICE,
              OLPC, WIMAX, INFINIBAND, FIREWALL, ADSL, BOND, VLAN, BRIDGE,
              DBUS_PROPS, TEAM, CONCHECK, DCB, DISPATCH, AUDIT, SYSTEMD,
              VPN_PLUGIN, PROXY</literal>。
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </section>
    <section xml:id="sec-networking-command">
      <title><command>networking</command> 子命令</title>
      <para>
        使用该子命令可以查询网络的状态。此外，使用此命令可以启用或禁用网络。<command>nmcli networking</command> 命令接受以下命令：
      </para>
      <variablelist>
        <varlistentry>
          <term>
            <command>on/off</command>
          </term>
          <listitem>
            <para>
              启用或禁用网络。<command>off</command> 命令停用 NetworkManager 管理的所有接口。
            </para>
            <screen>
              <prompt>&gt; </prompt>
              <command>sudo</command>
              <command>nmcli networking on</command>
            </screen>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>connectivity</term>
          <listitem>
            <para>
              显示网络连接状态。如果使用 <option>check</option>，NetworkManager 将执行新的状态检查。否则会显示上次检测到的状态。
            </para>
            <screen>
              <prompt>&gt; </prompt>
              <command>nmcli networking connectivity</command>
            </screen>
            <para>
              可能的状态如下：
            </para>
            <itemizedlist>
              <listitem>
                <para><emphasis>none</emphasis>：主机未连接到任何网络。
                </para>
              </listitem>
              <listitem>
                <para><emphasis>portal</emphasis>：主机位于强制门户之后，无法访问完整互联网。
                </para>
              </listitem>
              <listitem>
                <para><emphasis>limited</emphasis>：主机已连接到网络，但无法访问互联网。
                </para>
              </listitem>
              <listitem>
                <para><emphasis>full</emphasis>：主机已连接到网络，且可完全访问互联网。
                </para>
              </listitem>
              <listitem>
                <para><emphasis>unknown</emphasis>：NetworkManager 无法确定网络状态。
                </para>
              </listitem>
            </itemizedlist>
          </listitem>
        </varlistentry>
      </variablelist>
    </section>
  </section>
  <section role="task" xml:lang="zh-cn" version="5.2" xml:id="networkmanager-nmcli-troubleshoot">
    <info>
      <title xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">查错</title>
      <meta xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion" name="maintainer" content="shalaka.harne@suse.com" its:translate="no"/>
      <abstract xmlns:its="http://www.w3.org/2005/11/its" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:trans="http://docbook.org/ns/transclusion">
        <para>
      了解如何调试和排除 NetworkManager 安装及配置过程中出现的问题。
      </para>
      </abstract>
    </info>
    <section xml:id="networkmanager-nmcli-troubleshoot-verify-status">
      <title>网络未运行</title>
      <para>
    如果网络无法正常工作，可能是由 NetworkManager 本身造成。如要检查这一情况，请按以下步骤操作：
    </para>
      <procedure>
        <step>
          <para>
    检查 NetworkManager 是否已启用并处于活跃状态：
    </para>
          <screen>
            <prompt>&gt; </prompt>
            <command>sudo</command>
            <command>systemctl status network</command>
          </screen>
        </step>
        <step>
          <para>
    如果 NetworkManager 处于禁用状态，请将其启用：
    </para>
          <screen>
            <prompt>&gt; </prompt>
            <command>sudo</command>
            <command>systemctl enable NetworkManager</command>
          </screen>
        </step>
        <step>
          <para>
    如果 NetworkManager 处于非活跃状态，请将其重启：
    </para>
          <screen>
            <prompt>&gt; </prompt>
            <command>sudo</command>
            <command>restart NetworkManager</command>
          </screen>
        </step>
      </procedure>
    </section>
    <section xml:id="networkmanager-nmcli-troubleshoot-wifi-connection">
      <title>Wi-Fi 连接问题</title>
      <para>
    如果您遇到 Wi-Fi 连接问题，请按照以下说明操作：
    </para>
      <procedure>
        <step>
          <para>
      查看 Wi-Fi 连接的列表：
      </para>
          <screen>
            <prompt>&gt; </prompt>
            <command>sudo</command>
            <command>nmcli device wifi list</command>
          </screen>
        </step>
        <step>
          <para>
      如果列出了特定设备，请确保其 Wi-Fi 连接处于活跃状态：
      </para>
          <screen>
            <prompt>&gt; </prompt>
            <command>sudo</command>
            <command>nmcli connection show --active</command>
          </screen>
        </step>
        <step>
          <para>
      如果未列出 Wi-Fi 连接，请验证 Wi-Fi 状态：
      </para>
          <screen>
            <prompt>&gt; </prompt>
            <command>sudo</command>
            <command>nmcli device status</command>
          </screen>
          <substeps>
            <step>
              <para>
如果状态为 <literal>disconnected</literal>，则激活相应连接。
</para>
              <screen>
                <prompt>&gt; </prompt>
                <command>sudo</command>
                <command>nmcli connection up <replaceable>CONNECTION_NAME</replaceable></command>
              </screen>
            </step>
            <step>
              <para>
如果状态为 <literal>unavailable</literal>，请重启 NetworkManager：
</para>
              <screen>
                <prompt>&gt; </prompt>
                <command>sudo</command>
                <command>systemctl restart NetworkManager</command>
              </screen>
            </step>
          </substeps>
        </step>
        <step>
          <para>检查 NetworkManager 日志中的错误消息。</para>
          <screen>
            <prompt>&gt; </prompt>
            <command>sudo</command>
            <command>journalctl -u NetworkManager -n 100</command>
          </screen>
        </step>
        <step>
          <para>Wi-Fi 设备可能会被拦截：</para>
          <substeps>
            <step>
              <para>
 检查设备是否被拦截：
 </para>
              <screen><prompt>&gt; </prompt><command>sudo</command><command>rfkill list</command>
 
phy0: Wireless LAN
Soft blocked: yes
Hard blocked: no
 </screen>
            </step>
            <step>
              <para>
 取消拦截设备：
 </para>
              <screen>
                <prompt>&gt; </prompt>
                <command>sudo</command>
                <command>rfkill unblock all</command>
              </screen>
            </step>
          </substeps>
        </step>
        <step>
          <para>
 IPv4 静态地址可能配置错误，要检查这一情况，请重置为使用 DHCP：
 </para>
          <screen>
            <prompt>&gt; </prompt>
            <command>sudo</command>
            <command>nmcli connection modify <replaceable>SSID</replaceable> ipv4.method auto</command>
          </screen>
        </step>
        <step>
          <para>
  尝试再次激活连接：
  </para>
          <screen>
            <prompt>&gt; </prompt>
            <command>sudo</command>
            <command>nmcli connection up <replaceable>SSID</replaceable></command>
          </screen>
        </step>
        <step>
          <para>
  尝试重新连接到 Wi-Fi 网络：
  </para>
          <screen>
            <prompt>&gt; </prompt>
            <command>sudo</command>
            <command>nmcli device wifi connect <replaceable>SSID</replaceable> password <replaceable>PASSWORD</replaceable></command>
          </screen>
        </step>
      </procedure>
    </section>
    <section>
      <title>网络绑定问题</title>
      <para>要排查网络绑定问题，请验证连接状态，检查绑定接口的状态，然后使用 <command>nmcli</command> 命令重启网络服务。</para>
      <procedure>
        <title>网络绑定查错</title>
        <step>
          <para>列出并查看连接状态：</para>
          <screen>
            <command>nmcli connection status</command>
          </screen>
        </step>
        <step>
          <para>检查网络设备的状态，包括绑定接口。</para>
          <screen>
            <command>nmcli device status</command>
          </screen>
        </step>
        <step>
          <para>检查 <filename>/proc/net/bonding/<replaceable>bond0</replaceable></filename> 中的绑定接口状态</para>
          <para>此文件提供了有关绑定模式、活跃从属设备的信息及其他相关详细信息。</para>
        </step>
        <step>
          <para>如果连接处于非活跃状态，请激活连接：</para>
          <screen>
            <command>nmcli con up <replaceable>connectionname</replaceable></command>
          </screen>
        </step>
        <step>
          <para>根据需要修改连接。</para>
          <screen>
            <command>nmcli con edit <replaceable>connectionname</replaceable></command>
          </screen>
        </step>
        <step>
          <para>重启连接。</para>
          <screen><prompt>&gt; </prompt><command>sudo</command>  nmcli connection up <replaceable>bond0</replaceable></screen>
        </step>
      </procedure>
    </section>
    <section>
      <title>网络捆绑问题</title>
      <para>验证 <filename>/var/log/messages</filename> 中与网络捆绑相关的错误消息。</para>
      <para>您可以执行以下操作排查网络捆绑问题：分析设备和网络捆绑连接详细信息、启用被禁用的设备，以及根据需要修改绑定模式。进行更改后，请重新加载网络捆绑连接并重启 NetworkManager。</para>
      <procedure>
        <title>网络捆绑查错</title>
        <step>
          <para>查看设备列表：</para>
          <screen>
            <command>nmcli device</command>
          </screen>
        </step>
        <step>
          <para>查看网络捆绑连接详细信息：</para>
          <screen>
            <command>nmcli connection show <replaceable>teamname</replaceable></command>
          </screen>
        </step>
        <step>
          <para>启用接口：</para>
          <screen>
            <command>nmcli connection modify <replaceable>teamname</replaceable> bond.options "mode=active-backup"</command>
          </screen>
        </step>
        <step>
          <para>重新加载网络捆绑连接：</para>
          <screen>
            <command>nmcli connection reload <replaceable>teamname</replaceable></command>
          </screen>
        </step>
        <step>
          <para>重启 NetworkManager。</para>
          <screen>
            <prompt>&gt; </prompt>
            <command>sudo</command>
            <command>systemctl restart NetworkManager.service</command>
          </screen>
        </step>
      </procedure>
    </section>
  </section>
  <section version="5.2" xml:id="legal-disclaimer">
    <info>
      <title xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink">法律声明</title>
    </info>
    <para> 版权所有© 2006–<?dbtimestamp format="Y"?> SUSE LLC 和撰稿人。保留所有权利。</para>
    <para>
    根据 GNU 自由文档许可证 (GNU Free Documentation License) 版本 1.2 或（根据您的选择）版本 1.3 中的条款，在此授予您复制、分发和/或修改本文档的权限；本版权声明和许可证附带不可变部分。许可版本 1.2 的副本包含在<quote>GNU Free Documentation License</quote>部分。
  </para>
    <para>
    有关 SUSE 商标，请参见 <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://www.suse.com/company/legal/"></link>。所有其他第三方商标分别为相应所有者的财产。商标符号（®、™ 等）代表 SUSE 及其关联公司的商标。星号 (*) 代表第三方商标。
  </para>
    <para>
    本指南力求涵盖所有细节，但这不能确保本指南准确无误。SUSE LLC 及其关联公司、作者和译者对于可能出现的错误或由此造成的后果皆不承担责任。
  </para>
  </section>
  <appendix xmlns:its="http://www.w3.org/2005/11/its" version="5.2" role="legal" its:translate="no" xml:id="doc-gfdl-license">
    <info>
      <title xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink">GNU Free Documentation License</title>
    </info>
    <para>
  Copyright (C) 2000, 2001, 2002 Free Software Foundation, Inc. 51 Franklin St,
  Fifth Floor, Boston, MA 02110-1301 USA. Everyone is permitted to copy and
  distribute verbatim copies of this license document, but changing it is not
  allowed.
 </para>
    <bridgehead renderas="sect4">
    0. PREAMBLE
  </bridgehead>
    <para>
  The purpose of this License is to make a manual, textbook, or other
  functional and useful document "free" in the sense of freedom: to assure
  everyone the effective freedom to copy and redistribute it, with or without
  modifying it, either commercially or non-commercially. Secondarily, this
  License preserves for the author and publisher a way to get credit for their
  work, while not being considered responsible for modifications made by
  others.
 </para>
    <para>
  This License is a kind of "copyleft", which means that derivative works of
  the document must themselves be free in the same sense. It complements the
  GNU General Public License, which is a copyleft license designed for free
  software.
 </para>
    <para>
  We have designed this License to use it for manuals for free software,
  because free software needs free documentation: a free program should come
  with manuals providing the same freedoms that the software does. But this
  License is not limited to software manuals; it can be used for any textual
  work, regardless of subject matter or whether it is published as a printed
  book. We recommend this License principally for works whose purpose is
  instruction or reference.
 </para>
    <bridgehead renderas="sect4">
    1. APPLICABILITY AND DEFINITIONS
  </bridgehead>
    <para>
  This License applies to any manual or other work, in any medium, that
  contains a notice placed by the copyright holder saying it can be distributed
  under the terms of this License. Such a notice grants a world-wide,
  royalty-free license, unlimited in duration, to use that work under the
  conditions stated herein. The "Document", below, refers to any such manual or
  work. Any member of the public is a licensee, and is addressed as "you". You
  accept the license if you copy, modify or distribute the work in a way
  requiring permission under copyright law.
 </para>
    <para>
  A "Modified Version" of the Document means any work containing the Document
  or a portion of it, either copied verbatim, or with modifications and/or
  translated into another language.
 </para>
    <para>
  A "Secondary Section" is a named appendix or a front-matter section of the
  Document that deals exclusively with the relationship of the publishers or
  authors of the Document to the Document's overall subject (or to related
  matters) and contains nothing that could fall directly within that overall
  subject. (Thus, if the Document is in part a textbook of mathematics, a
  Secondary Section may not explain any mathematics.) The relationship could be
  a matter of historical connection with the subject or with related matters,
  or of legal, commercial, philosophical, ethical or political position
  regarding them.
 </para>
    <para>
  The "Invariant Sections" are certain Secondary Sections whose titles are
  designated, as being those of Invariant Sections, in the notice that says
  that the Document is released under this License. If a section does not fit
  the above definition of Secondary then it is not allowed to be designated as
  Invariant. The Document may contain zero Invariant Sections. If the Document
  does not identify any Invariant Sections then there are none.
 </para>
    <para>
  The "Cover Texts" are certain short passages of text that are listed, as
  Front-Cover Texts or Back-Cover Texts, in the notice that says that the
  Document is released under this License. A Front-Cover Text may be at most 5
  words, and a Back-Cover Text may be at most 25 words.
 </para>
    <para>
  A "Transparent" copy of the Document means a machine-readable copy,
  represented in a format whose specification is available to the general
  public, that is suitable for revising the document straightforwardly with
  generic text editors or (for images composed of pixels) generic paint
  programs or (for drawings) some widely available drawing editor, and that is
  suitable for input to text formatters or for automatic translation to a
  variety of formats suitable for input to text formatters. A copy made in an
  otherwise Transparent file format whose markup, or absence of markup, has
  been arranged to thwart or discourage subsequent modification by readers is
  not Transparent. An image format is not Transparent if used for any
  substantial amount of text. A copy that is not "Transparent" is called
  "Opaque".
 </para>
    <para>
  Examples of suitable formats for Transparent copies include plain ASCII
  without markup, Texinfo input format, LaTeX input format, SGML or XML using a
  publicly available DTD, and standard-conforming simple HTML, PostScript or
  PDF designed for human modification. Examples of transparent image formats
  include PNG, XCF and JPG. Opaque formats include proprietary formats that can
  be read and edited only by proprietary word processors, SGML or XML for which
  the DTD and/or processing tools are not generally available, and the
  machine-generated HTML, PostScript or PDF produced by some word processors
  for output purposes only.
 </para>
    <para>
  The "Title Page" means, for a printed book, the title page itself, plus such
  following pages as are needed to hold, legibly, the material this License
  requires to appear in the title page. For works in formats which do not have
  any title page as such, "Title Page" means the text near the most prominent
  appearance of the work's title, preceding the beginning of the body of the
  text.
 </para>
    <para>
  A section "Entitled XYZ" means a named subunit of the Document whose title
  either is precisely XYZ or contains XYZ in parentheses following text that
  translates XYZ in another language. (Here XYZ stands for a specific section
  name mentioned below, such as "Acknowledgements", "Dedications",
  "Endorsements", or "History".) To "Preserve the Title" of such a section when
  you modify the Document means that it remains a section "Entitled XYZ"
  according to this definition.
 </para>
    <para>
  The Document may include Warranty Disclaimers next to the notice which states
  that this License applies to the Document. These Warranty Disclaimers are
  considered to be included by reference in this License, but only as regards
  disclaiming warranties: any other implication that these Warranty Disclaimers
  may have is void and has no effect on the meaning of this License.
 </para>
    <bridgehead renderas="sect4">
    2. VERBATIM COPYING
  </bridgehead>
    <para>
  You may copy and distribute the Document in any medium, either commercially
  or non-commercially, provided that this License, the copyright notices, and
  the license notice saying this License applies to the Document are reproduced
  in all copies, and that you add no other conditions whatsoever to those of
  this License. You may not use technical measures to obstruct or control the
  reading or further copying of the copies you make or distribute. However, you
  may accept compensation in exchange for copies. If you distribute a large
  enough number of copies you must also follow the conditions in section 3.
 </para>
    <para>
  You may also lend copies, under the same conditions stated above, and you may
  publicly display copies.
 </para>
    <bridgehead renderas="sect4">
    3. COPYING IN QUANTITY
  </bridgehead>
    <para>
  If you publish printed copies (or copies in media that commonly have printed
  covers) of the Document, numbering more than 100, and the Document's license
  notice requires Cover Texts, you must enclose the copies in covers that
  carry, clearly and legibly, all these Cover Texts: Front-Cover Texts on the
  front cover, and Back-Cover Texts on the back cover. Both covers must also
  clearly and legibly identify you as the publisher of these copies. The front
  cover must present the full title with all words of the title equally
  prominent and visible. You may add other material on the covers in addition.
  Copying with changes limited to the covers, as long as they preserve the
  title of the Document and satisfy these conditions, can be treated as
  verbatim copying in other respects.
 </para>
    <para>
  If the required texts for either cover are too voluminous to fit legibly, you
  should put the first ones listed (as many as fit reasonably) on the actual
  cover, and continue the rest onto adjacent pages.
 </para>
    <para>
  If you publish or distribute Opaque copies of the Document numbering more
  than 100, you must either include a machine-readable Transparent copy along
  with each Opaque copy, or state in or with each Opaque copy a
  computer-network location from which the general network-using public has
  access to download using public-standard network protocols a complete
  Transparent copy of the Document, free of added material. If you use the
  latter option, you must take reasonably prudent steps, when you begin
  distribution of Opaque copies in quantity, to ensure that this Transparent
  copy will remain thus accessible at the stated location until at least one
  year after the last time you distribute an Opaque copy (directly or through
  your agents or retailers) of that edition to the public.
 </para>
    <para>
  It is requested, but not required, that you contact the authors of the
  Document well before redistributing any large number of copies, to give them
  a chance to provide you with an updated version of the Document.
 </para>
    <bridgehead renderas="sect4">
    4. MODIFICATIONS
  </bridgehead>
    <para>
  You may copy and distribute a Modified Version of the Document under the
  conditions of sections 2 and 3 above, provided that you release the Modified
  Version under precisely this License, with the Modified Version filling the
  role of the Document, thus licensing distribution and modification of the
  Modified Version to whoever possesses a copy of it. In addition, you must do
  these things in the Modified Version:
 </para>
    <orderedlist numeration="upperalpha" spacing="normal">
      <listitem>
        <para>
    Use in the Title Page (and on the covers, if any) a title distinct from
    that of the Document, and from those of previous versions (which should, if
    there were any, be listed in the History section of the Document). You may
    use the same title as a previous version if the original publisher of that
    version gives permission.
   </para>
      </listitem>
      <listitem>
        <para>
    List on the Title Page, as authors, one or more persons or entities
    responsible for authorship of the modifications in the Modified Version,
    together with at least five of the principal authors of the Document (all
    of its principal authors, if it has fewer than five), unless they release
    you from this requirement.
   </para>
      </listitem>
      <listitem>
        <para>
    State on the Title page the name of the publisher of the Modified Version,
    as the publisher.
   </para>
      </listitem>
      <listitem>
        <para>
    Preserve all the copyright notices of the Document.
   </para>
      </listitem>
      <listitem>
        <para>
    Add an appropriate copyright notice for your modifications adjacent to the
    other copyright notices.
   </para>
      </listitem>
      <listitem>
        <para>
    Include, immediately after the copyright notices, a license notice giving
    the public permission to use the Modified Version under the terms of this
    License, in the form shown in the Addendum below.
   </para>
      </listitem>
      <listitem>
        <para>
    Preserve in that license notice the full lists of Invariant Sections and
    required Cover Texts given in the Document's license notice.
   </para>
      </listitem>
      <listitem>
        <para>
    Include an unaltered copy of this License.
   </para>
      </listitem>
      <listitem>
        <para>
    Preserve the section Entitled "History", Preserve its Title, and add to it
    an item stating at least the title, year, new authors, and publisher of the
    Modified Version as given on the Title Page. If there is no section
    Entitled "History" in the Document, create one stating the title, year,
    authors, and publisher of the Document as given on its Title Page, then add
    an item describing the Modified Version as stated in the previous sentence.
   </para>
      </listitem>
      <listitem>
        <para>
    Preserve the network location, if any, given in the Document for public
    access to a Transparent copy of the Document, and likewise the network
    locations given in the Document for previous versions it was based on.
    These may be placed in the "History" section. You may omit a network
    location for a work that was published at least four years before the
    Document itself, or if the original publisher of the version it refers to
    gives permission.
   </para>
      </listitem>
      <listitem>
        <para>
    For any section Entitled "Acknowledgements" or "Dedications", Preserve the
    Title of the section, and preserve in the section all the substance and
    tone of each of the contributor acknowledgements and/or dedications given
    therein.
   </para>
      </listitem>
      <listitem>
        <para>
    Preserve all the Invariant Sections of the Document, unaltered in their
    text and in their titles. Section numbers or the equivalent are not
    considered part of the section titles.
   </para>
      </listitem>
      <listitem>
        <para>
    Delete any section Entitled "Endorsements". Such a section may not be
    included in the Modified Version.
   </para>
      </listitem>
      <listitem>
        <para>
    Do not retitle any existing section to be Entitled "Endorsements" or to
    conflict in title with any Invariant Section.
   </para>
      </listitem>
      <listitem>
        <para>
    Preserve any Warranty Disclaimers.
   </para>
      </listitem>
    </orderedlist>
    <para>
  If the Modified Version includes new front-matter sections or appendices that
  qualify as Secondary Sections and contain no material copied from the
  Document, you may at your option designate some or all of these sections as
  invariant. To do this, add their titles to the list of Invariant Sections in
  the Modified Version's license notice. These titles must be distinct from any
  other section titles.
 </para>
    <para>
  You may add a section Entitled "Endorsements", provided it contains nothing
  but endorsements of your Modified Version by various parties--for example,
  statements of peer review or that the text has been approved by an
  organization as the authoritative definition of a standard.
 </para>
    <para>
  You may add a passage of up to five words as a Front-Cover Text, and a
  passage of up to 25 words as a Back-Cover Text, to the end of the list of
  Cover Texts in the Modified Version. Only one passage of Front-Cover Text and
  one of Back-Cover Text may be added by (or through arrangements made by) any
  one entity. If the Document already includes a cover text for the same cover,
  previously added by you or by arrangement made by the same entity you are
  acting on behalf of, you may not add another; but you may replace the old
  one, on explicit permission from the previous publisher that added the old
  one.
 </para>
    <para>
  The author(s) and publisher(s) of the Document do not by this License give
  permission to use their names for publicity for or to assert or imply
  endorsement of any Modified Version.
 </para>
    <bridgehead renderas="sect4">
    5. COMBINING DOCUMENTS
  </bridgehead>
    <para>
  You may combine the Document with other documents released under this
  License, under the terms defined in section 4 above for modified versions,
  provided that you include in the combination all of the Invariant Sections of
  all of the original documents, unmodified, and list them all as Invariant
  Sections of your combined work in its license notice, and that you preserve
  all their Warranty Disclaimers.
 </para>
    <para>
  The combined work need only contain one copy of this License, and multiple
  identical Invariant Sections may be replaced with a single copy. If there are
  multiple Invariant Sections with the same name but different contents, make
  the title of each such section unique by adding at the end of it, in
  parentheses, the name of the original author or publisher of that section if
  known, or else a unique number. Make the same adjustment to the section
  titles in the list of Invariant Sections in the license notice of the
  combined work.
 </para>
    <para>
  In the combination, you must combine any sections Entitled "History" in the
  various original documents, forming one section Entitled "History"; likewise
  combine any sections Entitled "Acknowledgements", and any sections Entitled
  "Dedications". You must delete all sections Entitled "Endorsements".
 </para>
    <bridgehead renderas="sect4">
    6. COLLECTIONS OF DOCUMENTS
  </bridgehead>
    <para>
  You may make a collection consisting of the Document and other documents
  released under this License, and replace the individual copies of this
  License in the various documents with a single copy that is included in the
  collection, provided that you follow the rules of this License for verbatim
  copying of each of the documents in all other respects.
 </para>
    <para>
  You may extract a single document from such a collection, and distribute it
  individually under this License, provided you insert a copy of this License
  into the extracted document, and follow this License in all other respects
  regarding verbatim copying of that document.
 </para>
    <bridgehead renderas="sect4">
    7. AGGREGATION WITH INDEPENDENT WORKS
  </bridgehead>
    <para>
  A compilation of the Document or its derivatives with other separate and
  independent documents or works, in or on a volume of a storage or
  distribution medium, is called an "aggregate" if the copyright resulting from
  the compilation is not used to limit the legal rights of the compilation's
  users beyond what the individual works permit. When the Document is included
  in an aggregate, this License does not apply to the other works in the
  aggregate which are not themselves derivative works of the Document.
 </para>
    <para>
  If the Cover Text requirement of section 3 is applicable to these copies of
  the Document, then if the Document is less than one half of the entire
  aggregate, the Document's Cover Texts may be placed on covers that bracket
  the Document within the aggregate, or the electronic equivalent of covers if
  the Document is in electronic form. Otherwise they must appear on printed
  covers that bracket the whole aggregate.
 </para>
    <bridgehead renderas="sect4">
    8. TRANSLATION
  </bridgehead>
    <para>
  Translation is considered a kind of modification, so you may distribute
  translations of the Document under the terms of section 4. Replacing
  Invariant Sections with translations requires special permission from their
  copyright holders, but you may include translations of some or all Invariant
  Sections in addition to the original versions of these Invariant Sections.
  You may include a translation of this License, and all the license notices in
  the Document, and any Warranty Disclaimers, provided that you also include
  the original English version of this License and the original versions of
  those notices and disclaimers. In case of a disagreement between the
  translation and the original version of this License or a notice or
  disclaimer, the original version will prevail.
 </para>
    <para>
  If a section in the Document is Entitled "Acknowledgements", "Dedications",
  or "History", the requirement (section 4) to Preserve its Title (section 1)
  will typically require changing the actual title.
 </para>
    <bridgehead renderas="sect4">
    9. TERMINATION
  </bridgehead>
    <para>
  You may not copy, modify, sublicense, or distribute the Document except as
  expressly provided for under this License. Any other attempt to copy, modify,
  sublicense or distribute the Document is void, and will automatically
  terminate your rights under this License. However, parties who have received
  copies, or rights, from you under this License will not have their licenses
  terminated so long as such parties remain in full compliance.
 </para>
    <bridgehead renderas="sect4">
    10. FUTURE REVISIONS OF THIS LICENSE
  </bridgehead>
    <para>
  The Free Software Foundation may publish new, revised versions of the GNU
  Free Documentation License from time to time. Such new versions will be
  similar in spirit to the present version, but may differ in detail to address
  new problems or concerns. See
  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://www.gnu.org/copyleft/"></link>.
 </para>
    <para>
  Each version of the License is given a distinguishing version number. If the
  Document specifies that a particular numbered version of this License "or any
  later version" applies to it, you have the option of following the terms and
  conditions either of that specified version or of any later version that has
  been published (not as a draft) by the Free Software Foundation. If the
  Document does not specify a version number of this License, you may choose
  any version ever published (not as a draft) by the Free Software Foundation.
 </para>
    <bridgehead renderas="sect4">
    ADDENDUM: How to use this License for your documents
  </bridgehead>
    <screen>Copyright (c) YEAR YOUR NAME.
Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.2
or any later version published by the Free Software Foundation;
with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.
A copy of the license is included in the section entitled “GNU
Free Documentation License”.</screen>
    <para>
  If you have Invariant Sections, Front-Cover Texts and Back-Cover Texts,
  replace the &#x201C;with...Texts.&#x201D; line with this:
 </para>
    <screen>with the Invariant Sections being LIST THEIR TITLES, with the
Front-Cover Texts being LIST, and with the Back-Cover Texts being LIST.</screen>
    <para>
  If you have Invariant Sections without Cover Texts, or some other combination
  of the three, merge those two alternatives to suit the situation.
 </para>
    <para>
  If your document contains nontrivial examples of program code, we recommend
  releasing these examples in parallel under your choice of free software
  license, such as the GNU General Public License, to permit their use in free
  software.
</para>
  </appendix>
</article>
