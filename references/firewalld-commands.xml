<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic
[
  <!ENTITY % entities SYSTEM "../common/generic-entities.ent">
    %entities;
]>
<!-- refers to legacy doc: <add github link to legacy doc piece, if applicable> -->
<!-- point back to this document with a similar comment added to your legacy doc piece -->
<!-- refer to README.md for file and id naming conventions -->
<!-- metadata is dealt with on the assembly level -->
<topic xml:id="common-firewalld-commands"
 role="concept" xml:lang="en"
 xmlns="http://docbook.org/ns/docbook" version="5.2"
 xmlns:its="http://www.w3.org/2005/11/its"
 xmlns:xi="http://www.w3.org/2001/XInclude"
 xmlns:xlink="http://www.w3.org/1999/xlink"
 xmlns:trans="http://docbook.org/ns/transclusion">
  <info>
    <title>Common &firewalld; commands</title>
    <meta name="maintainer" content="amrita.sakthivel@suse.com" its:translate="no"/>
    <abstract>
      <para>
   The <command>firewall-cmd</command> command-line tool is used to configure and manage the &firewalld; daemon.
   It is a powerful, dynamic utility that allows for the creation, modification, and deletion of firewall rules without
   requiring a full service restart, which prevents interruption of active network connections.
   </para>
    </abstract>
  </info>
    <para>
Some common <command>firewall-cmd</command> command examples include:
  </para>
  <itemizedlist>
     <listitem>
            <para>
              Checking if &firewalld; is running. The outputs are <literal>running</literal>, <literal>not running</literal> or
              <literal>RUNNING_BUT_FAILED</literal>. For example:
        </para>
        <screen>&prompt.sudo; firewall-cmd --state
          running
        </screen>
          </listitem>
          <listitem>
            <para>
              Listing all available zones, for example:
        </para>
<screen>&prompt.sudo; firewall-cmd --get-zones
 block dmz docker drop external home internal nm-shared public trusted work
</screen>
          </listitem>
          <listitem>
            <para>
              Viewing the default zone, for example:
        </para>
<screen>&prompt.sudo; firewall-cmd --get-default-zone
public
</screen>
          </listitem>
          <listitem>
            <para>
           Viewing the active zones and the assigned, for example:
        </para>
<screen>&prompt.sudo; firewall-cmd --get-active-zones
docker
interfaces: docker0
public (default)
interfaces: lo enp1s0
</screen>
          </listitem>
          <listitem>
            <para>
          Viewing all rules for the default zone , for example:
        </para>
<screen>&prompt.sudo; firewall-cmd --list-all
public (default, active)
target: default
ingress-priority: 0
egress-priority: 0
icmp-block-inversion: no
interfaces: enp1s0 lo
sources:
services: cockpit dhcpv6-client ssh
ports:
protocols:
forward: yes
masquerade: no
forward-ports:
source-ports:
icmp-blocks:
rich rules:
rule family="ipv4" source address="192.168.1.100" service name="ssh" accept
</screen>
          </listitem>
          <listitem>
            <para>
          Viewing all rules for a specific zone, for example:
        </para>
<screen>&prompt.sudo; firewall-cmd --zone=public --list-all
public (default, active)
target: default
ingress-priority: 0
egress-priority: 0
icmp-block-inversion: no
interfaces: enp1s0 lo
sources:
services: cockpit dhcpv6-client ssh
ports:
protocols:
forward: yes
masquerade: no
forward-ports:
source-ports:
icmp-blocks:
rich rules:
rule family="ipv4" source address="192.168.1.100" service name="ssh" accept
</screen>
          </listitem>
          <listitem>
            <para>
           Listing all available predefined services, for example:
        </para>
<screen>&prompt.sudo; firewall-cmd --get-services
  0-AD RH-Satellite-6 RH-Satellite-6-capsule afp alvr amanda-client amanda-k5-client amqp amqps anno-1602 anno-1800
  apcupsd audit ausweisapp2 bacula bacula-client bareos-director bareos-filedaemon bareos-storage bb bgp bitcoin bitcoin-rpc
  bitcoin-testnet bitcoin-testnet-rpc bittorrent-lsd ceph ceph-exporter ceph-mon cfengine checkmk-agent civilization-iv civilization-v
  cockpit collectd condor-collector cratedb ctdb dds dds-multicast dds-unicast dhcp dhcpv6 dhcpv6-client distcc dns dns-over-quic dns-over-tls
  docker-registry docker-swarm dropbox-lansync elasticsearch etcd-client etcd-server factorio finger foreman foreman-proxy freeipa-4 freeipa-ldap
  freeipa-ldaps freeipa-replication freeipa-trust ftp galera ganglia-client ganglia-master git gpsd grafana gre http http3 https ident imap imaps
  ipfs ipp ipp-client ipsec irc ircs iscsi-target isns jenkins kadmin kdeconnect kerberos kibana klogin kpasswd kprop kshell kube-api kube-apiserver
  kube-control-plane kube-control-plane-secure kube-controller-manager kube-controller-manager-secure kube-nodeport-services kube-scheduler kube-scheduler-secure
  [...] </screen>
          </listitem>
          <listitem>
            <para>
          Listing the services currently allowed in the default zone, for example:
        </para>
<screen>&prompt.sudo; firewall-cmd --list-services
cockpit dhcpv6-client ssh
</screen>
          </listitem>
          <listitem>
            <para>
Adding a service to the default zone permanently, for example:
        </para>
<screen>&prompt.sudo; firewall-cmd --permanent --add-service=http
success
</screen>
           </listitem>
           <listitem>
            <para>
Removing a service permanently, for example:
        </para>
<screen>&prompt.sudo; firewall-cmd --permanent --remove-service=http
success
</screen>
           </listitem>
           <listitem>
            <para>
          Listing the ports currently open in the default zone, for example:
        </para>
<screen>&prompt.sudo; firewall-cmd --list-ports
22/tcp
</screen>
           </listitem>
           <listitem>
            <para>
           Opening a specific TCP port temporarily, for example:
        </para>
<screen>&prompt.sudo; firewall-cmd --add-port=8080/tcp
success
</screen>
           </listitem>
           <listitem>
            <para>
           Removing an open port permanently, for example:
        </para>
<screen>&prompt.sudo; firewall-cmd --permanent --remove-port=8080/tcp
success
</screen>
           </listitem>
            <listitem>
            <para>
          Adding an interface to a specific zone temporarily, for example:
        </para>
<screen>&prompt.sudo; firewall-cmd --zone=trusted --add-interface=eth1
success
</screen>
           </listitem>
        </itemizedlist>

</topic>