<?xml version="1.0" encoding="UTF-8"?>
<!-- This file originates from the project https://github.com/openSUSE/doc-kit -->
<!-- This file can be edited downstream. -->
<!DOCTYPE topic
[
  <!ENTITY % entities SYSTEM "../common/generic-entities.ent">
    %entities;
]>
<topic xml:id="owui-helmchart-values"
 role="reference" xml:lang="en"
 xmlns="http://docbook.org/ns/docbook" version="5.2"
 xmlns:its="http://www.w3.org/2005/11/its"
 xmlns:xi="http://www.w3.org/2001/XInclude"
 xmlns:xlink="http://www.w3.org/1999/xlink"
 xmlns:trans="http://docbook.org/ns/transclusion">
  <info>
    <title>Values for the &owui; &helm; chart</title>
    <meta name="maintainer" content="" its:translate="no"/>
    <abstract>
      <para>
        To override the default values during &owui; installation using the
        &helm; chart, you can create a <filename>values.yaml</filename> file and
        specify your custom values. Then you can apply the values by specifying
        the path to the <filename>values.yaml</filename> file during the
        <command>helm install</command> command.
      </para>
    </abstract>
  </info>
  <table>
    <title><filename>values.yaml</filename> options for the &owui; &helm; chart</title>
    <tgroup cols="4">
      <thead>
        <row>
          <entry>
            <para>
              Key
            </para>
          </entry>
          <entry>
            <para>
              Type
            </para>
          </entry>
          <entry>
            <para>
              Default
            </para>
          </entry>
          <entry>
            <para>
              Description
            </para>
          </entry>
        </row>
      </thead>
      <tbody>
        <row>
          <entry>
            <para>
              affinity
            </para>
          </entry>
          <entry>
            <para>
              object
            </para>
          </entry>
          <entry>
            <para>
              {}
            </para>
          </entry>
          <entry>
            <para>
              Affinity for pod assignment.
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              annotations
            </para>
          </entry>
          <entry>
            <para>
              object
            </para>
          </entry>
          <entry>
            <para>
              {}
            </para>
          </entry>
          <entry>
            <para></para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              cert-manager.enabled
            </para>
          </entry>
          <entry>
            <para>
              bool
            </para>
          </entry>
          <entry>
            <para>
              true
            </para>
          </entry>
          <entry>
            <para></para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              clusterDomain
            </para>
          </entry>
          <entry>
            <para>
              string
            </para>
          </entry>
          <entry>
            <para>
              "cluster.local"
            </para>
          </entry>
          <entry>
            <para>
              Value of cluster domain.
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              containerSecurityContext
            </para>
          </entry>
          <entry>
            <para>
              object
            </para>
          </entry>
          <entry>
            <para>
              {}
            </para>
          </entry>
          <entry>
            <para>
              Configure container security context, see
              <link xlink:href="https://kubernetes.io/docs/tasks/configure-pod-container/security-context/#set-the-security-context-for-a-containe"/>
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              extraEnvVars
            </para>
          </entry>
          <entry>
            <para>
              list
            </para>
          </entry>
          <entry>
            <para>
              [{"name":"OPENAI_API_KEY",
              "value":"0p3n-w3bu!"}]
            </para>
          </entry>
          <entry>
            <para>
              Environment variables added to the &owui; deployment. Most
              up-to-date environment variables can be found in
              <link xlink:href="https://docs.openwebui.com/getting-started/env-configuration/"/>.
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              extraEnvVars[0]
            </para>
          </entry>
          <entry>
            <para>
              object
            </para>
          </entry>
          <entry>
            <para>
              {"name":"OPENAI_API_KEY","value":"0p3n-w3bu!"}
            </para>
          </entry>
          <entry>
            <para>
              Default API key value for Pipelines. It should be updated in a
              production deployment, changed to the required API key if not
              using Pipelines.
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              global.imagePullSecrets
            </para>
          </entry>
          <entry>
            <para>
              list
            </para>
          </entry>
          <entry>
            <para>
              []
            </para>
          </entry>
          <entry>
            <para>
              Global override for container image registry pull secrets.
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              global.imageRegistry
            </para>
          </entry>
          <entry>
            <para>
              string
            </para>
          </entry>
          <entry>
            <para>
              ""
            </para>
          </entry>
          <entry>
            <para>
              Global override for container image registry.
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              global.tls.additionalTrustedCAs
            </para>
          </entry>
          <entry>
            <para>
              bool
            </para>
          </entry>
          <entry>
            <para>
              false
            </para>
          </entry>
          <entry>
            <para></para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              global.tls.issuerName
            </para>
          </entry>
          <entry>
            <para>
              string
            </para>
          </entry>
          <entry>
            <para>
              "suse-private-ai"
            </para>
          </entry>
          <entry>
            <para></para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              global.tls.letsEncrypt.email
            </para>
          </entry>
          <entry>
            <para>
              string
            </para>
          </entry>
          <entry>
            <para>
              "none@example.com"
            </para>
          </entry>
          <entry>
            <para></para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              global.tls.letsEncrypt.environment
            </para>
          </entry>
          <entry>
            <para>
              string
            </para>
          </entry>
          <entry>
            <para>
              "staging"
            </para>
          </entry>
          <entry>
            <para></para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              global.tls.letsEncrypt.ingress.class
            </para>
          </entry>
          <entry>
            <para>
              string
            </para>
          </entry>
          <entry>
            <para>
              ""
            </para>
          </entry>
          <entry>
            <para></para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              global.tls.source
            </para>
          </entry>
          <entry>
            <para>
              string
            </para>
          </entry>
          <entry>
            <para>
              "suse-private-ai"
            </para>
          </entry>
          <entry>
            <para>
              The source of &owui; TLS keys, see
              <xref linkend="owui-tls-sources"/>.
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              image.pullPolicy
            </para>
          </entry>
          <entry>
            <para>
              string
            </para>
          </entry>
          <entry>
            <para>
              "IfNotPresent"
            </para>
          </entry>
          <entry>
            <para>
              Image pull policy to use for the &owui; container.
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              image.registry
            </para>
          </entry>
          <entry>
            <para>
              string
            </para>
          </entry>
          <entry>
            <para>
              "dp.apps.rancher.io"
            </para>
          </entry>
          <entry>
            <para>
              Image registry to use for the &owui; container.
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              image.repository
            </para>
          </entry>
          <entry>
            <para>
              string
            </para>
          </entry>
          <entry>
            <para>
              "containers/open-webui"
            </para>
          </entry>
          <entry>
            <para>
              Image repository to use for the &owui; container.
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              image.tag
            </para>
          </entry>
          <entry>
            <para>
              string
            </para>
          </entry>
          <entry>
            <para>
              "0.3.32"
            </para>
          </entry>
          <entry>
            <para>
              Image tag to use for the &owui; container.
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              imagePullSecrets
            </para>
          </entry>
          <entry>
            <para>
              list
            </para>
          </entry>
          <entry>
            <para>
              []
            </para>
          </entry>
          <entry>
            <para>
              Configure imagePullSecrets to use private registry, see
              <link xlink:href="https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry"/>I
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              ingress.annotations
            </para>
          </entry>
          <entry>
            <para>
              object
            </para>
          </entry>
          <entry>
            <para>
              {"nginx.ingress.kubernetes.io/ssl-redirect":"true"}
            </para>
          </entry>
          <entry>
            <para>
              Use appropriate annotations for your &ingress; controller, such as
              <literal>nginx.ingress.kubernetes.io/rewrite-target: /</literal>
              for NGINX.
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              ingress.class
            </para>
          </entry>
          <entry>
            <para>
              string
            </para>
          </entry>
          <entry>
            <para>
              ""
            </para>
          </entry>
          <entry>
            <para></para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              ingress.enabled
            </para>
          </entry>
          <entry>
            <para>
              bool
            </para>
          </entry>
          <entry>
            <para>
              true
            </para>
          </entry>
          <entry>
            <para></para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              ingress.existingSecret
            </para>
          </entry>
          <entry>
            <para>
              string
            </para>
          </entry>
          <entry>
            <para>
              ""
            </para>
          </entry>
          <entry>
            <para></para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              ingress.host
            </para>
          </entry>
          <entry>
            <para>
              string
            </para>
          </entry>
          <entry>
            <para>
              ""
            </para>
          </entry>
          <entry>
            <para></para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              ingress.tls
            </para>
          </entry>
          <entry>
            <para>
              bool
            </para>
          </entry>
          <entry>
            <para>
              true
            </para>
          </entry>
          <entry>
            <para></para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              nameOverride
            </para>
          </entry>
          <entry>
            <para>
              string
            </para>
          </entry>
          <entry>
            <para>
              ""
            </para>
          </entry>
          <entry>
            <para></para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              nodeSelector
            </para>
          </entry>
          <entry>
            <para>
              object
            </para>
          </entry>
          <entry>
            <para>
              {}
            </para>
          </entry>
          <entry>
            <para>
              Node labels for pod assignment.
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              ollama.enabled
            </para>
          </entry>
          <entry>
            <para>
              bool
            </para>
          </entry>
          <entry>
            <para>
              true
            </para>
          </entry>
          <entry>
            <para>
              Automatically install &ollama; &helm; chart from
              <link xlink:href="https://otwld.github.io/ollama-helm/"/>.
              Configure the following
              <link
              xlink:href="https://github.com/otwld/ollama-helm/#helm-values">&helm;
              values</link>.
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              ollama.fullnameOverride
            </para>
          </entry>
          <entry>
            <para>
              string
            </para>
          </entry>
          <entry>
            <para>
              "open-webui-ollama"
            </para>
          </entry>
          <entry>
            <para>
              If enabling embedded &ollama;, update fullnameOverride to your
              desired &ollama; name value, or else it will use the default
              ollama.name value from the &ollama; chart.
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              ollamaUrls
            </para>
          </entry>
          <entry>
            <para>
              list
            </para>
          </entry>
          <entry>
            <para>
              []
            </para>
          </entry>
          <entry>
            <para>
              A list of &ollama; API endpoints. These can be added in lieu of
              automatically installing the &ollama; &helm; chart, or in addition
              to it.
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              openaiBaseApiUrl
            </para>
          </entry>
          <entry>
            <para>
              string
            </para>
          </entry>
          <entry>
            <para>
              ""
            </para>
          </entry>
          <entry>
            <para>
              OpenAI base API URL to use. Defaults to the Pipelines service
              endpoint when Pipelines are enabled, or to
              <literal>https://api.openai.com/v1</literal> if Pipelines are not
              enabled and this value is blank.
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              persistence.accessModes
            </para>
          </entry>
          <entry>
            <para>
              list
            </para>
          </entry>
          <entry>
            <para>
              ["ReadWriteOnce"]
            </para>
          </entry>
          <entry>
            <para>
              If using multiple replicas, you must update accessModes to
              ReadWriteMany.
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              persistence.annotations
            </para>
          </entry>
          <entry>
            <para>
              object
            </para>
          </entry>
          <entry>
            <para>
              {}
            </para>
          </entry>
          <entry>
            <para></para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              persistence.enabled
            </para>
          </entry>
          <entry>
            <para>
              bool
            </para>
          </entry>
          <entry>
            <para>
              true
            </para>
          </entry>
          <entry>
            <para></para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              persistence.existingClaim
            </para>
          </entry>
          <entry>
            <para>
              string
            </para>
          </entry>
          <entry>
            <para>
              ""
            </para>
          </entry>
          <entry>
            <para>
              Use existingClaim to re-use an existing &owui; PVC instead of
              creating a new one.
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              persistence.selector
            </para>
          </entry>
          <entry>
            <para>
              object
            </para>
          </entry>
          <entry>
            <para>
              {}
            </para>
          </entry>
          <entry>
            <para></para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              persistence.size
            </para>
          </entry>
          <entry>
            <para>
              string
            </para>
          </entry>
          <entry>
            <para>
              "2Gi"
            </para>
          </entry>
          <entry>
            <para></para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              persistence.storageClass
            </para>
          </entry>
          <entry>
            <para>
              string
            </para>
          </entry>
          <entry>
            <para>
              ""
            </para>
          </entry>
          <entry>
            <para></para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              pipelines.enabled
            </para>
          </entry>
          <entry>
            <para>
              bool
            </para>
          </entry>
          <entry>
            <para>
              false
            </para>
          </entry>
          <entry>
            <para>
              Automatically install Pipelines chart to extend &owui;
              functionality using Pipelines, see
              <link xlink:href="https://github.com/open-webui/pipelines"/>.
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              pipelines.extraEnvVars
            </para>
          </entry>
          <entry>
            <para>
              list
            </para>
          </entry>
          <entry>
            <para>
              []
            </para>
          </entry>
          <entry>
            <para>
              This section can be used to pass required environment variables to
              your pipelines (such as the Langfuse host name).
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              podAnnotations
            </para>
          </entry>
          <entry>
            <para>
              object
            </para>
          </entry>
          <entry>
            <para>
              {}
            </para>
          </entry>
          <entry>
            <para></para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              podSecurityContext
            </para>
          </entry>
          <entry>
            <para>
              object
            </para>
          </entry>
          <entry>
            <para>
              {}
            </para>
          </entry>
          <entry>
            <para>
              Configure pod security context, see
              <link xlink:href="https://kubernetes.io/docs/tasks/configure-pod-container/security-context/#set-the-security-context-for-a-containe"/>.
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              replicaCount
            </para>
          </entry>
          <entry>
            <para>
              int
            </para>
          </entry>
          <entry>
            <para>
              1
            </para>
          </entry>
          <entry>
            <para></para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              resources
            </para>
          </entry>
          <entry>
            <para>
              object
            </para>
          </entry>
          <entry>
            <para>
              {}
            </para>
          </entry>
          <entry>
            <para></para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              service
            </para>
          </entry>
          <entry>
            <para>
              object
            </para>
          </entry>
          <entry>
            <para>
              {"annotations":{},"containerPort":8080,
              "labels":{},"loadBalancerClass":"",
              "nodePort":"","port":80,"type":"ClusterIP"}
            </para>
          </entry>
          <entry>
            <para>
              Service values to expose &owui; pods to cluster
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              tolerations
            </para>
          </entry>
          <entry>
            <para>
              list
            </para>
          </entry>
          <entry>
            <para>
              []
            </para>
          </entry>
          <entry>
            <para>
              Tolerations for pod assignment.
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              topologySpreadConstraints
            </para>
          </entry>
          <entry>
            <para>
              list
            </para>
          </entry>
          <entry>
            <para>
              []
            </para>
          </entry>
          <entry>
            <para>
              Topology Spread Constraints for pod assignment.
            </para>
          </entry>
        </row>
      </tbody>
    </tgroup>
  </table>
  <section xml:id="owui-tls-sources">
    <title>TLS sources</title>
    <para>
      There are three recommended options where &owui; can obtain TLS
      certificates for secure communication.
    </para>
    <variablelist>
      <varlistentry>
        <term>Self-Signed TLS certificate</term>
        <listitem>
          <para>
            This is the default method. You need to install
            <literal>cert-manager</literal> on the cluster to issue and maintain
            the certificates. This method generates a CA and signs the &owui;
            certificate using the CA. <literal>cert-manager</literal> then
            manages the signed certificate.
          </para>
          <para>
            For this method, use the following &helm; chart option:
          </para>
<screen>global.tls.source=suse-private-ai</screen>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Let's Encrypt</term>
        <listitem>
          <para>
            This method also uses <literal>cert-manager</literal>but it is
            combined with a special issuer for Let's Encrypt that performs all
            actions&mdash;including request and validation&mdash;to get the
            Let's Encrypt certificate issued. This configuration uses HTTP
            validation (HTTP-01) and therefore the load balancer must have a
            public DNS record and be accessible from the internet.
          </para>
          <para>
            For this method, use the following &helm; chart option:
          </para>
<screen>global.tls.source=letsEncrypt</screen>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Provide your own certificate</term>
        <listitem>
          <para>
            This method allows you to bring your own signed certificate to
            secure the HTTPS traffic. In this case, you must upload this
            certificate and associated key as PEM-encoded files named
            <filename>tls.crt</filename> and <filename>tls.key</filename>.
          </para>
          <para>
            For this method, use the following &helm; chart option:
          </para>
<screen>global.tls.source=secret</screen>
        </listitem>
      </varlistentry>
    </variablelist>
  </section>
</topic>
