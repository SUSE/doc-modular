<?xml version="1.0" encoding="UTF-8"?>
<!-- This file originates from the project https://github.com/openSUSE/doc-kit -->
<!-- This file can be edited downstream. -->
<!DOCTYPE topic
[
  <!ENTITY % entities SYSTEM "../common/generic-entities.ent">
    %entities;
]>
<!-- refer to README.md for file and id naming conventions -->
<topic xml:id="sles-pxe-server-dir-layout"
 role="reference" xml:lang="en"
 xmlns="http://docbook.org/ns/docbook" version="5.2"
 xmlns:its="http://www.w3.org/2005/11/its"
 xmlns:xi="http://www.w3.org/2001/XInclude"
 xmlns:xlink="http://www.w3.org/1999/xlink"
 xmlns:trans="http://docbook.org/ns/transclusion">
  <info>
    <title>PXE boot directory layout</title>
    <meta name="maintainer" content="souvik.sarkar@suse.com" its:translate="no"/>
    <abstract>
      <para>
        Overview of the recommended directory structure used by the PXE server to store
        bootloaders, configuration files, kernel/initrd images, and installer payloads.
      </para>
    </abstract>
  </info>
  <section xml:id="sles-pxe-server-dir-layout-structure">
    <title>Recommended directory structure</title>
    <para>
      This structure assumes that the TFTP root is set to <filename>/srv/tftpboot</filename> and
      HTTP files are served from <filename>/srv/www/htdocs</filename>. You can adapt the paths to
      suit your deployment as long as the services are correctly configured to match.
    </para>
    <example>
      <title>Sample PXE server directory layout</title>
<screen>
/srv/tftpboot/
├── bootx64.efi <co xml:id="co-bootx64"/>
├── grub.cfg <co xml:id="co-grubcfg-tftp"/>
/srv/www/htdocs/images/
├── linux <co xml:id="co-linux"/>
├── initrd <co xml:id="co-initrd"/>
├── install/
│   └── content <co xml:id="co-install"/>
├── grub/
│   └── grub.cfg
</screen>
    </example>
    <calloutlist>
      <callout arearefs="co-bootx64">
        <para>
          <filename>/srv/tftpboot/bootx64.efi</filename> is the UEFI bootloader used for PXE boot.
        </para>
      </callout>
      <callout arearefs="co-grubcfg-tftp">
        <para>
          <filename>/srv/tftpboot/grub.cfg</filename> or a &grub; config path referenced by the
          bootloader.
        </para>
      </callout>
      <callout arearefs="co-linux">
        <para>
          <filename>/srv/www/htdocs/images/linux</filename> is the kernel file extracted from the
          installer ISO.
        </para>
      </callout>
      <callout arearefs="co-initrd">
        <para>
          <filename>/srv/www/htdocs/images/initrd</filename> is the corresponding initrd image.
        </para>
      </callout>
      <callout arearefs="co-install">
        <para>
          <filename>/srv/www/htdocs/images/install/</filename> contains &agama; installer files and
          metadata.
        </para>
      </callout>
    </calloutlist>
  </section>
</topic>
