<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic
[
  <!ENTITY % entities SYSTEM "../common/generic-entities.ent">
    %entities;
]>
<!-- refers to legacy doc: https://github.com/SUSE/doc-sle/blob/main/xml/adm_sudo.xml -->
<!-- point back to this document with a similar comment added to your legacy doc piece -->
<!-- refer to README.md for file and id naming conventions -->
<!-- metadata is dealt with on the assembly level -->
<topic xml:id="sudo-commands"
 role="reference" xml:lang="en"
 xmlns="http://docbook.org/ns/docbook" version="5.2"
 xmlns:its="http://www.w3.org/2005/11/its"
 xmlns:xi="http://www.w3.org/2001/XInclude"
 xmlns:xlink="http://www.w3.org/1999/xlink"
 xmlns:trans="http://docbook.org/ns/transclusion">
  <title>Common &sudo; commands</title>
  <info>
    <meta name="maintainer" content="Julia Faltenbacher"/>
  </info>
  <section xml:id="reference-sudo-common-commands">
    <title>Common &sudo; commands</title>
    <para>
      By adding &sudo; before any command, you can run commands with elevated
      permissions. In addition, you can run commands as another user and use
      their environment variables. Using &sudo; helps you accomplish system
      administration tasks without logging in as root. This section provides
      examples of some common commands that often require administrative
      privileges.
    </para>
    <variablelist>
      <title>Examples of commands with &sudo;</title>
      <varlistentry>
        <term>Run the last command with &sudo;</term>
        <listitem>
          <para>
            To repeat the last command as an administrator, run <command>sudo !!</command>
            and enter the password. For example, an user without administrative privileges cannot create
            a directory under the
            <command>/etc/</command> directory. To create it, run <command>sudo
            !!</command>.
          </para>
<screen>
  $ mkdir /etc/test/ 
  mkdir: cannot create directory ‘/etc/test/’: Permission denied

  $ sudo !!
  sudo mkdir /etc/test/
  [sudo] password for root: 

  $ ls -alrt /etc | grep test
  drwxr-xr-x 1 root root        0 Apr 20 12:48 test
</screen>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Manage packages using <command>sudo</command> and <command>zypper</command></term>
        <listitem>
          <para>
            To run package management
            commands as an administrator, add <command>sudo</command> before the
            command. If you are using <command>zypper</command> as your package
            manager, use the following format:  
          </para>
<screen>
  $ sudo zypper [--GLOBAL-OPTIONS] &lt;COMMAND&gt; [--COMMAND-OPTIONS] [ARGUMENTS]
</screen>
        <para>
          For example, to install the popular code editor
          VS Code from its official package repository, run the following
          commands with <command>sudo</command>:    
        </para>
<screen>
  $ sudo rpm --import https://packages.microsoft.com/keys/microsoft.asc

  $ sudo zypper addrepo https://packages.microsoft.com/yumrepos/vscode vscode

  $ sudo zypper refresh

  $ sudo zypper install code
</screen>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Run commands as another user</term>
        <listitem>
          <para>
            Another paragraph of text.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Run commands as another user</term>
        <listitem>
          <para>
            Another paragraph of text.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <table>
      <title>A table title</title>
      <tgroup cols="2">
        <colspec colwidth="50*"/>
        <colspec colwidth="50*"/>
        <tbody>
          <row>
            <entry>an entry</entry>
            <entry>another entry</entry>
          </row>
          <row>
            <entry>an entry</entry>
            <entry>another entry</entry>
          </row>
          <row>
            <entry>an entry</entry>
            <entry>another entry</entry>
          </row>
        </tbody>
      </tgroup>
    </table>
  </section>
</topic>
