<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic
[
  <!ENTITY % entities SYSTEM "../common/generic-entities.ent">
    %entities;
]>
<!-- refers to legacy doc: https://github.com/SUSE/doc-sle/blob/main/xml/adm_sudo.xml -->
<!-- point back to this document with a similar comment added to your legacy doc piece -->
<!-- refer to README.md for file and id naming conventions -->
<!-- metadata is dealt with on the assembly level -->
<topic xml:id="sudo-edit-configuration"
 role="reference" xml:lang="en"
 xmlns="http://docbook.org/ns/docbook" version="5.2"
 xmlns:its="http://www.w3.org/2005/11/its"
 xmlns:xi="http://www.w3.org/2001/XInclude"
 xmlns:xlink="http://www.w3.org/1999/xlink"
 xmlns:trans="http://docbook.org/ns/transclusion">
  <title>Maintaining &sudo; configuration files</title>
  <info>
    <meta name="maintainer" content="jana.jaeger@suse.com" its:translate="no"/>
    <abstract>
      <para>
        The integrity of your system's &sudo; configuration is paramount. 
        Errors in these files can compromise your entire system. The 
        <command>visudo</command> command provides a safe and secure way to 
        edit the &sudo; configuration.</para>
    </abstract>
  </info>

  <para>
    The main policy configuration file for &sudo; is 
  <filename>/etc/sudoers</filename>. This file is supplied by the system packages 
  and changes made to it may break updates. Therefore, create separate 
  configuration files holding your custom settings under 
  <filename>/etc/sudoers.d</filename>. These are pulled in by default by a 
  directive in <filename>/etc/sudoers</filename>.
  </para>

  <para>
    Settings in the custom configuration files under 
    <filename>/etc/sudoers.d/</filename> always take precedence over the same 
    settings made in the global configuration file 
    <filename>/etc/sudoers</filename>. The global configuration is read and 
    applied first and the custom one after that.
  </para>

  <section xml:id="sudo-edit-configuration-visudo">
    <title>Editing &sudo; configuration files with <command>visudo</command></title>
    <para>
      
    </para>
  </section>

<!-- How to create custom configs with visudo -->
  <section xml:id="sudo-edit-configuration-custom">
    <title>Creating custom &sudo; configuration files</title>
    <para>
      To create a custom configuration file in the 
      <filename>/etc/sudoers.d/</filename> directory, run 
      <command>visudo</command> with the <option>--file</option> 
      (<option>-f</option>) option and provide the filename of your new 
      configuration file:
    </para>
    <screen>sudo visudo --file=/etc/sudoers.d/timestamp_timeout</screen>
  </section>

<!-- How to make sure the includes are read in order -->

<!-- How to use visudo debug options -->
  <section xml:id="sudo-edit-configuration-debug">
    <title>Debugging &sudo; configurations with <command>visudo</command></title>
    <para>
    </para>
  </section>
</topic>
