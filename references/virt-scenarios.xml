<?xml version="1.0" encoding="UTF-8"?>
<!-- This file originates from the project https://github.com/openSUSE/doc-kit -->
<!-- This file can be edited downstream. -->
<?xml-stylesheet href="urn:x-suse:xslt:profiling:docbook51-profile.xsl"
 type="text/xml"
 title="Profiling step"?>
<!DOCTYPE article
[
  <!ENTITY % entities SYSTEM "../common/generic-entities.ent">
    %entities;
]>
<topic xml:id="reference-virt-scenarios" xml:lang="en"
 role="reference"
 xmlns="http://docbook.org/ns/docbook" version="5.1"
 xmlns:its="http://www.w3.org/2005/11/its"
 xmlns:xi="http://www.w3.org/2001/XInclude"
 xmlns:xlink="http://www.w3.org/1999/xlink">
  <info>
    <meta name="maintainer" content="tbazant@suse.com" its:translate="no"/>
    <title>&virt-scenario; scenarios</title>
    <abstract>
      <para>
        &virt-scenario; is a tool that helps you create a &vmguest; suitable
        for a specific scenario. You can specify one of the following
        scenarios:
      </para>
    </abstract>
  </info>
  <variablelist>
    <varlistentry>
      <term>securevm</term>
      <listitem>
        <para>
          Selecting this scenario results in an encrypted VM image with a high
          level of isolation and data security.
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>computation</term>
      <listitem>
        <para>
          This scenario puts emphasis on the high performance of the resulting
          VM.
        </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>desktop</term>
      <listitem>
        <para>
          The result of this scenario is a VM suitable for running desktop
          applications.
        </para>
      </listitem>
    </varlistentry>
  </variablelist>
  <para>
    The following tables show default settings for each scenario:
  </para>
  <table>
    <title>Default storage settings</title>
    <tgroup cols="4">
      <colspec colname="c1" align="left" />
      <colspec colname="c2" align="center" />
      <colspec colname="c3" align="center" />
      <colspec colname="c4" align="center" />
      <thead>
        <row>
          <entry>
            <para>
              Setting
            </para>
          </entry>
          <entry>
            <para>
              securevm
            </para>
          </entry>
          <entry>
            <para>
              computation
            </para>
          </entry>
          <entry>
            <para>
              desktop
            </para>
          </entry>
        </row>
      </thead>
      <tbody>
        <row>
          <entry>
            <para>
              preallocation
            </para>
          </entry>
          <entry>
            <para>
              metadata
            </para>
          </entry>
          <entry>
            <para>
              off
            </para>
          </entry>
          <entry>
            <para>
              metadata
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              encryption
            </para>
          </entry>
          <entry>
            <para>
              on
            </para>
          </entry>
          <entry>
            <para>
              off
            </para>
          </entry>
          <entry>
            <para>
              off
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              disk_cache
            </para>
          </entry>
          <entry>
            <para>
              writethrough
            </para>
          </entry>
          <entry>
            <para>
              unsafe*
            </para>
          </entry>
          <entry>
            <para>
              none
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              lazy_refcounts
            </para>
          </entry>
          <entry>
            <para>
              on
            </para>
          </entry>
          <entry>
            <para>
              on
            </para>
          </entry>
          <entry>
            <para>
              off
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              format
            </para>
          </entry>
          <entry>
            <para>
              qcow2
            </para>
          </entry>
          <entry>
            <para>
              raw
            </para>
          </entry>
          <entry>
            <para>
              qcow2
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              disk bus
            </para>
          </entry>
          <entry>
            <para>
              virtio
            </para>
          </entry>
          <entry>
            <para>
              virtio
            </para>
          </entry>
          <entry>
            <para>
              virtio
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              capacity
            </para>
          </entry>
          <entry>
            <para>
              20G
            </para>
          </entry>
          <entry>
            <para>
              20G
            </para>
          </entry>
          <entry>
            <para>
              20G
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              cluster_size
            </para>
          </entry>
          <entry>
            <para>
              1024k
            </para>
          </entry>
          <entry>
            <para>
              N/A
            </para>
          </entry>
          <entry>
            <para>
              1024k
            </para>
          </entry>
        </row>
      </tbody>
    </tgroup>
  </table>
  <para>
    <emphasis>* the <literal>unsafe</literal> cache mode may cause data loss and, for example,
    destroy a Btrfs file system after an unclean shutdown</emphasis>
  </para>
  <table>
    <title>Default host settings</title>
    <tgroup cols="4">
      <colspec colname="c1" align="left" />
      <colspec colname="c2" align="center" />
      <colspec colname="c3" align="center" />
      <colspec colname="c4" align="center" />
      <thead>
        <row>
          <entry>
            <para>
              Setting
            </para>
          </entry>
          <entry>
            <para>
              securevm
            </para>
          </entry>
          <entry>
            <para>
              computation
            </para>
          </entry>
          <entry>
            <para>
              desktop
            </para>
          </entry>
        </row>
      </thead>
      <tbody>
        <row>
          <entry>
            <para>
              Transparent HugePages
            </para>
          </entry>
          <entry>
            <para>
              on
            </para>
          </entry>
          <entry>
            <para>
              on
            </para>
          </entry>
          <entry>
            <para>
              on
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              KSM
            </para>
          </entry>
          <entry>
            <para>
              disable
            </para>
          </entry>
          <entry>
            <para>
              enable
            </para>
          </entry>
          <entry>
            <para>
              enable
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              KSM merge across
            </para>
          </entry>
          <entry>
            <para>
              disable
            </para>
          </entry>
          <entry>
            <para>
              enable
            </para>
          </entry>
          <entry>
            <para>
              enable
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              swappiness
            </para>
          </entry>
          <entry>
            <para>
              0
            </para>
          </entry>
          <entry>
            <para>
              0
            </para>
          </entry>
          <entry>
            <para>
              35
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              IO Scheduler
            </para>
          </entry>
          <entry>
            <para>
              bfq
            </para>
          </entry>
          <entry>
            <para>
              mq-deadline
            </para>
          </entry>
          <entry>
            <para>
              mq-deadline
            </para>
          </entry>
        </row>
      </tbody>
    </tgroup>
  </table>
  <table>
    <title>Default guest settings</title>
    <tgroup cols="4">
      <colspec colname="c1" align="left" />
      <colspec colname="c3" align="center" />
      <colspec colname="c2" align="center" />
      <colspec colname="c4" align="center" />
      <thead>
        <row>
          <entry>
            <para>
              Setting
            </para>
          </entry>
          <entry>
            <para>
              securevm
            </para>
          </entry>
          <entry>
            <para>
              computation
            </para>
          </entry>
          <entry>
            <para>
              desktop
            </para>
          </entry>
        </row>
      </thead>
      <tbody>
        <row>
          <entry>
            <para>
              CPU migratable
            </para>
          </entry>
          <entry>
            <para>
              off
            </para>
          </entry>
          <entry>
            <para>
              off
            </para>
          </entry>
          <entry>
            <para>
              on
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              machine
            </para>
          </entry>
          <entry>
            <para>
              pc-q35-6.2
            </para>
          </entry>
          <entry>
            <para>
              pc-q35-6.2
            </para>
          </entry>
          <entry>
            <para>
              pc-q35-6.2
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              watchdog
            </para>
          </entry>
          <entry>
            <para>
              none
            </para>
          </entry>
          <entry>
            <para>
              i6300esb poweroff
            </para>
          </entry>
          <entry>
            <para>
              none
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              boot UEFI
            </para>
          </entry>
          <entry>
            <para>
              auto
            </para>
          </entry>
          <entry>
            <para>
              auto
            </para>
          </entry>
          <entry>
            <para>
              auto
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              vTPM
            </para>
          </entry>
          <entry>
            <para>
              tpm-crb 2.0
            </para>
          </entry>
          <entry>
            <para>
              none
            </para>
          </entry>
          <entry>
            <para>
              none
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              iothreads
            </para>
          </entry>
          <entry>
            <para>
              disable
            </para>
          </entry>
          <entry>
            <para>
              4
            </para>
          </entry>
          <entry>
            <para>
              4
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              video
            </para>
          </entry>
          <entry>
            <para>
              qxl
            </para>
          </entry>
          <entry>
            <para>
              qxl
            </para>
          </entry>
          <entry>
            <para>
              virtio
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              network
            </para>
          </entry>
          <entry>
            <para>
              e1000
            </para>
          </entry>
          <entry>
            <para>
              virtio
            </para>
          </entry>
          <entry>
            <para>
              e1000
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              keyboard
            </para>
          </entry>
          <entry>
            <para>
              ps2
            </para>
          </entry>
          <entry>
            <para>
              virtio
            </para>
          </entry>
          <entry>
            <para>
              virtio
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              mouse
            </para>
          </entry>
          <entry>
            <para>
              disable
            </para>
          </entry>
          <entry>
            <para>
              virtio
            </para>
          </entry>
          <entry>
            <para>
              virtio
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              on_poweroff
            </para>
          </entry>
          <entry>
            <para>
              destroy
            </para>
          </entry>
          <entry>
            <para>
              restart
            </para>
          </entry>
          <entry>
            <para>
              destroy
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              on_reboot
            </para>
          </entry>
          <entry>
            <para>
              destroy
            </para>
          </entry>
          <entry>
            <para>
              restart
            </para>
          </entry>
          <entry>
            <para>
              restart
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              on_crash
            </para>
          </entry>
          <entry>
            <para>
              destroy
            </para>
          </entry>
          <entry>
            <para>
              restart
            </para>
          </entry>
          <entry>
            <para>
              destroy
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              suspend_to_mem
            </para>
          </entry>
          <entry>
            <para>
              off
            </para>
          </entry>
          <entry>
            <para>
              off
            </para>
          </entry>
          <entry>
            <para>
              on
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              suspend_to_disk
            </para>
          </entry>
          <entry>
            <para>
              off
            </para>
          </entry>
          <entry>
            <para>
              off
            </para>
          </entry>
          <entry>
            <para>
              on
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              features
            </para>
          </entry>
          <entry>
            <para>
              acpi apic pae
            </para>
          </entry>
          <entry>
            <para>
              acpi apic pae
            </para>
          </entry>
          <entry>
            <para>
              acpi apic pae
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              host fs fmode, dmode, source_dir, target_dir
            </para>
          </entry>
          <entry>
            <para>
              N/A
            </para>
          </entry>
          <entry>
            <para>
              N/A
            </para>
          </entry>
          <entry>
            <para>
              644 755 /tmp/ /tmp/host
            </para>
          </entry>
        </row>
      </tbody>
    </tgroup>
  </table>
  <table>
    <title>Default SEV settings</title>
    <tgroup cols="4">
      <colspec colname="c1" align="left" />
      <colspec colname="c2" align="center" />
      <colspec colname="c3" align="center" />
      <colspec colname="c4" align="center" />
      <thead>
        <row>
          <entry>
            <para>
              Setting
            </para>
          </entry>
          <entry>
            <para>
              securevm
            </para>
          </entry>
          <entry>
            <para>
              computation
            </para>
          </entry>
          <entry>
            <para>
              desktop
            </para>
          </entry>
        </row>
      </thead>
      <tbody>
        <row>
          <entry>
            <para>
              kvm SEV
            </para>
          </entry>
          <entry>
            <para>
              mem_encrypt=on kvm_amd sev=1 sev_es=1
            </para>
          </entry>
          <entry>
            <para>
              N/A
            </para>
          </entry>
          <entry>
            <para>
              N/A
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              sec cbitpos
            </para>
          </entry>
          <entry>
            <para>
              auto
            </para>
          </entry>
          <entry>
            <para>
              N/A
            </para>
          </entry>
          <entry>
            <para>
              N/A
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              sec reducedPhysBits
            </para>
          </entry>
          <entry>
            <para>
              auto
            </para>
          </entry>
          <entry>
            <para>
              N/A
            </para>
          </entry>
          <entry>
            <para>
              N/A
            </para>
          </entry>
        </row>
        <row>
          <entry>
            <para>
              sec policy
            </para>
          </entry>
          <entry>
            <para>
              auto
            </para>
          </entry>
          <entry>
            <para>
              N/A
            </para>
          </entry>
          <entry>
            <para>
              N/A
            </para>
          </entry>
        </row>
      </tbody>
    </tgroup>
  </table>
</topic>
