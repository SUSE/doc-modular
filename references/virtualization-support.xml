<?xml version="1.0" encoding="UTF-8"?>
<!-- This file originates from the project https://github.com/openSUSE/doc-kit -->
<!-- This file can be edited downstream. -->
<!DOCTYPE topic
[
  <!ENTITY % entities SYSTEM "../common/generic-entities.ent">
    %entities;
]>
<!-- refers to legacy doc: <add github link to legacy doc piece, if applicable> -->
<!-- point back to this document with a similar comment added to your legacy doc piece -->
<!-- refer to README.md for file and id naming conventions -->
<!-- metadata is dealt with on the assembly level -->
<topic xml:id="virtualization-support"
 role="reference" xml:lang="en"
 xmlns="http://docbook.org/ns/docbook" version="5.2"
 xmlns:its="http://www.w3.org/2005/11/its"
 xmlns:xi="http://www.w3.org/2001/XInclude"
 xmlns:xlink="http://www.w3.org/1999/xlink"
 xmlns:trans="http://docbook.org/ns/transclusion">
 <info>
  <title>Virtualization limits and support</title>
  <abstract>
   <para>
    Virtualization limits and support
   </para>
  </abstract>
 </info>
  <important>
    <para>
      &qemu; is only supported when used for virtualization together with the
      &kvm; or &xen; hypervisors. The TCG accelerator is not supported, even
      when it is distributed within &suse; products. Users must not rely on
      &qemu; TCG to provide guest isolation, or for any security guarantees. See
      also
      <link
      xlink:href="https://qemu-project.gitlab.io/qemu/system/security.html"/>.
    </para>
  </important>
  <section xml:id="sec-architecture-support">
    <title>Architecture support</title>
    <section xml:id="sec-kvm-requires-hardware">
      <title>&kvm; hardware requirements</title>
      <para>
        &suse; supports &kvm; full virtualization on &x86-64;, &aarch64;,
        &zseries; and &linuxone; hosts.
      </para>
      <itemizedlist>
        <listitem>
          <para>
            On the &x86-64; architecture, &kvm; is designed around hardware
            virtualization features included in AMD* (AMD-V) and Intel* (VT-x)
            CPUs. It supports virtualization features of chipsets and PCI
            devices, such as an I/O Memory Mapping Unit (IOMMU)
            and Single Root I/O
            Virtualization (SR-IOV). You can test whether
            your CPU supports hardware virtualization with the following
            command:
          </para>
<screen>&prompt.user;egrep '(vmx|svm)' /proc/cpuinfo</screen>
          <para>
            If this command returns no output, your processor either does not
            support hardware virtualization, or this feature has been disabled
            in the BIOS or firmware.
          </para>
          <para>
            The following Web sites identify &x86-64; processors that support
            hardware virtualization:
            <link xlink:href="https://ark.intel.com/Products/VirtualizationTechnology"/>
            (for Intel CPUs), and <link xlink:href="https://products.amd.com/"/>
            (for AMD CPUs).
          </para>
        </listitem>
        <listitem>
          <para>
            On the &arm; architecture, &armv8;-A processors include support for
            virtualization.
          </para>
        </listitem>
        <listitem>
          <para>
            On the &arm; architecture, we only support running &qemu;/&kvm; via
            the CPU model <literal>host</literal> (it is named
            <literal>host-passthrough</literal> in &vmm; or &libvirt;).
          </para>
        </listitem>
      </itemizedlist>
      <note>
        <title>&kvm; kernel modules not loading</title>
        <para>
          The &kvm; kernel modules only load if the CPU hardware virtualization
          features are available.
        </para>
      </note>
      <para>
        <phrase os="sled;osuse"> The general minimum hardware requirements for
        the &vmhost; are the same as for a physical machine.</phrase> However,
        additional RAM for each virtualized guest is needed. It should at least
        be the same amount that is needed for a physical installation. It is
        also strongly recommended to have at least one processor core or
        hyper-thread for each running guest.
      </para>
      <note os="sles">
        <title>&aarch64;</title>
        <para>
          &aarch64; is a continuously evolving platform. It does not have a
          traditional standards and compliance certification program to enable
          interoperability with operating systems and hypervisors. Ask your
          vendor for the support statement on &sls;.
        </para>
      </note>
      <note os="sles">
        <title>&power;</title>
        <para>
          Running &kvm; hypervisor on the &power; platform is not
          supported.
        </para>
      </note>
    </section>
  </section>
  <section xml:id="virt-hypervisors-limits">
    <title>Hypervisor limits</title>

    <para os="sles">
      New features and virtualization limits for &kvm; are outlined in
      the <link xlink:href="https://www.suse.com/releasenotes/">Release
      Notes</link> for each Service Pack (SP).
    </para>

    <para>
      Only packages that are part of the official repositories for &sls; are
      supported. Conversely, all optional subpackages and plug-ins (for &qemu;,
      &libvirt;) provided at
      <link
     xlink:href="https://packagehub.suse.com/">packagehub</link> are
      not supported.
    </para>

    <para os="sles">
      For the maximum total virtual CPUs per host. The total number of virtual
      CPUs should be proportional to the number of available physical CPUs.
    </para>

    <section xml:id="virt-kvm-limits">
      <title>&kvm; limits</title>
      <para>
        Supported (and tested) virtualization limits of a &productname;
        &productnumber; host running Linux guests on &x86-64;. For other
        operating systems, refer to the specific vendor.
      </para>
      <table>
        <title>&kvm; VM limits</title>
        <tgroup cols="2">
          <colspec colnum="1" colname="1"/>
          <colspec colnum="2" colname="2"/>
          <tbody>
            <row>
              <entry>
                <para>
                  Maximum virtual CPUs per VM
                </para>
              </entry>
              <entry>
                <para>
                  768
                </para>
              </entry>
            </row>
            <row>
              <entry>
                <para>
                  Maximum memory per VM
                </para>
              </entry>
              <entry>
                <para>
                  4&nbsp;TiB
                </para>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <note os="sles">
        <para>
          &kvm; host limits are identical to &sls; (see the corresponding
          section of release notes), except for:
        </para>
        <itemizedlist>
          <listitem>
            <para>
              <emphasis>Maximum virtual CPUs per VM</emphasis>: see
              recommendations in the <citetitle>Virtualization Best Practices
              Guide</citetitle> regarding the overcommitment of physical CPUs.
              The total virtual
              CPUs should be proportional to the available physical CPUs.
            </para>
          </listitem>
        </itemizedlist>
      </note>
      </section>
    </section>
  <section>
    <title>Guest VM Restrictions and Limitations (Secure VM)</title>
    <para>
      Please be aware of the following functionalities and features that are not available or have limitations for guest VMs, especially when deployed within secure VM environments. These limitations are crucial for maintaining the enhanced security provided by the underlying hardware and software configurations.
    </para>
    <itemizedlist>
      <listitem>
        <para><emphasis role="bold">Secure Boot (AMD side):</emphasis> Secure Boot functionality is not supported on the AMD platform for guest VMs within this secure environment. This means that guest VMs cannot leverage the UEFI Secure Boot mechanism to verify the digital signatures of boot components, which typically helps prevent the loading of unauthorized or malicious software during the boot process. Users should consider alternative methods for ensuring software integrity post-boot.</para>
      </listitem>
      <listitem>
        <para><emphasis role="bold">VM migration:</emphasis> The live migration of virtual machines between hosts is currently not supported. This implies that planned maintenance, load balancing, or disaster recovery scenarios requiring VM movement without downtime will need to involve a full shutdown and restart of the guest VM on the new host. This limitation is often a consequence of maintaining the cryptographic isolation and attestation state of secure VMs.</para>
      </listitem>
      <listitem>
        <para><emphasis role="bold">Suspend/restore:</emphasis> The ability to suspend a VM's execution state to disk and later restore it is not available. This impacts operational flexibility, as VMs cannot be paused and resumed seamlessly. Any interruption to a guest VM's operation will require a full shutdown and a fresh boot cycle, losing the immediate operational state.</para>
      </listitem>
      <listitem>
        <para><emphasis role="bold">Pass-through Devices:</emphasis> Direct pass-through of host devices (such as GPUs, network cards, or storage controllers) to the guest VM is not supported. This limitation restricts scenarios where guest VMs require exclusive, high-performance access to specific hardware components. Workloads that heavily rely on direct hardware interaction, like certain graphical applications or specialized I/O operations, may experience reduced performance or incompatibility.</para>
      </listitem>
      <listitem>
        <para><emphasis role="bold">VM Reboot:</emphasis> The internal reboot functionality for guest VMs is not supported. If a guest VM requires a restart, it must be fully shut down and then started again from the host management interface. This ensures that the secure state of the VM is properly re-established upon each boot, rather than relying on an internal reset that might bypass certain security checks.</para>
      </listitem>
      <listitem>
        <para><emphasis role="bold">Memory Ballooning:</emphasis> Memory ballooning, which allows dynamic adjustment of VM memory by reclaiming unused guest memory back to the host, is not supported. This means that the allocated memory for a guest VM will remain fixed, regardless of its actual usage. Consequently, memory overcommitment strategies, where the sum of allocated VM memory exceeds the physical host memory, cannot be effectively utilized, potentially leading to less efficient memory utilization on the host.</para>
      </listitem>
      <listitem>
        <para><emphasis role="bold">Hotplug CPU/memory:</emphasis> The hotplugging (adding or removing) of CPU cores or memory modules while the VM is running is not supported. Any changes to the vCPU or memory configuration of a guest VM will require a full shutdown and a restart of the VM for the changes to take effect. This affects the agility and flexibility in dynamically scaling resources for running workloads.</para>
      </listitem>
      <listitem>
        <para><emphasis role="bold">Virtio Graphics:</emphasis> Only Virtio block devices (for storage) and network devices are supported. Virtio graphics are not available for guest VMs in this environment. This implies that guest VMs will rely on basic graphics emulation, which may not provide optimal performance for graphically intensive applications, user interfaces, or remote desktop protocols requiring accelerated graphics.</para>
      </listitem>
      <listitem>
        <para><emphasis role="bold">Hugepages:</emphasis> The use of hugepages for memory allocation within the guest VM is not supported. Hugepages can improve performance by reducing Translation Lookaside Buffer (TLB) misses, especially for applications with large memory footprints. Without hugepage support, memory management might incur slightly higher overhead, which could subtly impact the performance of memory-intensive applications.</para>
      </listitem>
      <listitem>
        <para><emphasis role="bold">vCPU Limit (AMD SNP):</emphasis> The number of virtual CPUs (vCPUs) that can be assigned to a guest VM is limited to 255 when utilizing AMD Secure Nested Paging (SNP). This specific limitation is imposed by the AMD SNP architecture to maintain the integrity and performance characteristics of the secure execution environment. Workloads requiring more than 255 vCPUs cannot be deployed on these secure VMs.</para>
      </listitem>
    </itemizedlist>
  </section>
  <section xml:id="virt-support-hosts">
    <title>Supported host environments (hypervisors)</title>
    <para>
      This section describes the support status of &productname; &productnumber;
      running as a guest operating system on top of different virtualization
      hosts (hypervisors).
    </para>

    <table>
      <title>The following &suse; host environments are supported</title>
      <tgroup cols="2">
        <colspec colnum="1" colname="1"/>
        <colspec colnum="2" colname="2"/>
        <thead>
          <row>
            <entry>
              <para>
                &sls;
              </para>
            </entry>
            <entry>
              <para>
                Hypervisors
              </para>
            </entry>
          </row>
        </thead>
        <tbody>
          <row>
            <entry>
              <para>
                &sls; 12 SP5
              </para>
            </entry>
            <entry>
              <para>
                Xen and KVM (&sls; 15 SP6 guest must use UEFI boot)
              </para>
            </entry>
          </row>
          <row>
            <entry>
              <para>
                &sls; 15 SP3 to SP7
              </para>
            </entry>
            <entry>
              <para>
                Xen and KVM
              </para>
            </entry>
          </row>
        </tbody>
      </tgroup>
    </table>

    <itemizedlist>
      <title>The following third-party host environments are supported</title>
<!-- better refer to the appropriate website instead of providing the exact version which is always moving... -->
      <listitem>
        <para>
          <link xlink:href="https://www.citrix.com/products/citrix-hypervisor/">Citrix
          XenServer</link>
        </para>
      </listitem>
<!--
      <listitem>
        <para>
          <link xlink:href="https://docs.microsoft.com/en-us/windows-server/virtualization/hyper-v/supported-suse-virtual-machines-on-hyper-v">Hyper-V</link>
        </para>
      </listitem>
      -->
      <listitem>
        <para>
          <link xlink:href="https://portal.nutanix.com/page/documents/compatibility-matrix/guestos">Nutanix
          Acropolis Hypervisor with AOS</link>
        </para>
      </listitem>
      <listitem>
        <para>
          <link xlink:href="https://www.oracle.com/fr/virtualization/virtualbox/">Oracle
          VM Server 3.X</link>
        </para>
      </listitem>
      <listitem>
        <para>
          <link xlink:href="https://www.oracle.com/linux/">Oracle Linux KVM 7,
          8</link>
        </para>
      </listitem>
      <listitem>
        <para>
          <link xlink:href="https://www.vmware.com/products/esxi-and-esx.html">VMware
          ESXi 6.7, 7.0, 8.0</link>
        </para>
      </listitem>
      <listitem>
        <para>
          Windows Server 2019, 2022, 2025
        </para>
      </listitem>
    </itemizedlist>

    <para>
      You can also search in the
      <link xlink:href="https://www.suse.com/yessearch/Search.jsp">SUSE YES
      certification database</link>.
    </para>

    <itemizedlist>
      <title>The level of support is as follows</title>
      <listitem>
        <para>
          Support for SUSE host operating systems is full L3 (both for the guest
          and host), according to the respective
          <link xlink:href="https://www.suse.com/lifecycle/">product lifecycle</link>.
        </para>
      </listitem>
      <listitem>
        <para>
          &suse; provides full L3 support for &productname; guests within
          third-party host environments.
        </para>
      </listitem>
      <listitem>
        <para>
          Support for the host and cooperation with &productname; guests must be
          provided by the host system's vendor.
        </para>
      </listitem>
    </itemizedlist>
    </section>
  <section xml:id="virt-support-guests">
    <title>Supported guest operating systems</title>

    <para>
      This section lists the support status for guest operating systems
      virtualized on top of &productname; &productnumber; for &kvm; and &xen;
      hypervisors.
    </para>

    <important>
      <para>
        &mswin; guests can be rebooted by &libvirt;/&virsh; only if
        paravirtualized drivers are installed in the guest. Refer to
        <link xlink:href="https://www.suse.com/products/vmdriverpack/"/> for
        more details on downloading and installing PV drivers.
      </para>
    </important>

    <itemizedlist>
      <title>The following guest operating systems are fully supported (L3):</title>
      <listitem>
        <para>
          &sls; 12 SP5
        </para>
      </listitem>
      <listitem>
        <para>
          &sls; 15 SP3, 15 SP4, 15 SP5, 15 SP6, 15 SP6
        </para>
      </listitem>
      <listitem>
        <para>
          &slem; 5.5, 6.0
        </para>
      </listitem>
      <listitem>
        <para>
          Windows Server 2019, 2022, 2025
        </para>
      </listitem>
<!--
      <listitem>
        <para>
          <link xlink:href="https://www.windowsservercatalog.com/results.aspx?text=suse&amp;bCatID=1282&amp;avc=10&amp;ava=0&amp;OR=5">Microsoft
          Windows Server Catalog</link>
        </para>
      </listitem>
      -->
      <listitem>
        <para>
          Oracle Linux 6, 7, 8 (&kvm; hypervisor only)
        </para>
      </listitem>
    </itemizedlist>

    <itemizedlist>
      <title>The following guest operating systems are supported as a technology preview (L2, fixes if reasonable):</title>
      <listitem>
        <para>
          &sleda; 15 SP3
        </para>
      </listitem>
      <listitem>
        <para>
          Windows 10 / 11
        </para>
      </listitem>
    </itemizedlist>

    <itemizedlist>
      <title>&redhat; and &centos; guest operating systems are fully supported (L3) if the customer has purchased &sliberty;.</title>
      <listitem>
        <para>
          Refer to the &sliberty; documentation at
          <link xlink:href="https://documentation.suse.com/liberty"/> for the
          list of available combinations and supported releases. In other cases,
          they are supported on a limited basis (L2, fixes if reasonable).
        </para>
      </listitem>
    </itemizedlist>

    <note>
      <title>RHEL PV drivers</title>
      <para>
        Starting from RHEL 7.2, &redhat; removed &xen; PV drivers.
      </para>
    </note>

    <itemizedlist>
      <title>All other guest operating systems</title>
      <listitem>
        <para>
          In other combinations, L2 support is provided but fixes are available
          only if feasible. &suse; fully supports the host OS (hypervisor). The
          guest OS issues need to be supported by the respective OS vendor. If
          an issue fix involves both the host and guest environments, the
          customer needs to approach both &suse; and the guest VM OS vendor.
        </para>
      </listitem>
      <listitem>
        <para>
          All guest operating systems are supported both fully virtualized and
          paravirtualized. The exception is Windows systems, which are only
          supported fully virtualized (but they can use PV drivers:
          <link xlink:href="https://www.suse.com/products/vmdriverpack/"/>), and
          OES operating systems, which are supported only paravirtualized.
        </para>
      </listitem>
      <listitem>
        <para>
          All guest operating systems are supported both in 32-bit and 64-bit
          environments, unless stated otherwise.
        </para>
      </listitem>
    </itemizedlist>

    <section xml:id="sec-kvm-requires-guests-virt-drivers">
      <title>Availability of paravirtualized drivers</title>
      <para>
        To improve the performance of the guest operating system,
        paravirtualized drivers are provided when available. Although they are
        not required, it is strongly recommended to use them.
      </para>
      <para>
        The paravirtualized drivers are available as follows:
      </para>
      <variablelist>
        <varlistentry>
          <term>&redhat;</term>
          <listitem>
            <para>
              Available since &rhel; 5.4. Starting from &rhel; 7.2, &redhat;
              removed the PV drivers.
            </para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Windows</term>
          <listitem>
            <para>
              &suse; has developed virtio-based drivers for Windows, which are
              available in the Virtual Machine Driver Pack (VMDP). For more
              information, see
              <link xlink:href="https://www.suse.com/products/vmdriverpack/"/>.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </section>
  </section>
  <section xml:id="virt-migration-support">
    <title>Supported VM migration scenarios</title>

    <para>
      &productname; supports migrating a virtual machine from one physical host
      to another.
    </para>

    <section xml:id="virt-migration-offline">
      <title>Offline migration scenarios</title>
      <para>
        &suse; supports offline migration, powering off a guest VM, then moving
        it to a host running a different &slea; product, from &slea; 12 to
        &slea; 15 SP<replaceable>X</replaceable>. The following host operating
        system combinations are fully supported (L3) for migrating guests from
        one host to another:
      </para>
      <table>
        <title>Supported offline migration guests</title>
        <tgroup cols="11">
          <colspec colname="c1" align="center" colwidth="3*"/>
          <colspec colname="c2" align="center" />
          <colspec colname="c3" align="center" />
          <colspec colname="c4" align="center" />
          <colspec colname="c5" align="center" />
          <colspec colname="c6" align="center" />
          <colspec colname="c7" align="center" />
          <colspec colname="c8" align="center" />
          <colspec colname="c9" align="center" />
          <colspec colname="c10" align="center" />
          <colspec colname="c11" align="center" />
          <thead>
            <row valign="middle">
              <entry align="right"> Target &slsa; host </entry>
              <entry morerows="1"> 12 SP3 </entry>
              <entry morerows="1"> 12 SP4 </entry>
              <entry morerows="1"> 12 SP5 </entry>
              <entry morerows="1"> 15 GA </entry>
              <entry morerows="1"> 15 SP1 </entry>
              <entry morerows="1"> 15 SP2 </entry>
              <entry morerows="1"> 15 SP3 </entry>
              <entry morerows="1"> 15 SP4 </entry>
              <entry morerows="1"> 15 SP5 </entry>
              <entry morerows="1"> 15 SP6 </entry>
            </row>
            <row>
              <entry align="left"> Source &slsa; host </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><emphasis role="bold">12 SP3</emphasis>
              </entry>
              <entry><phrase role="color:suse-jungle-green">✓</phrase>
              </entry>
              <entry><phrase role="color:suse-jungle-green">✓</phrase>
              </entry>
              <entry><phrase role="color:suse-jungle-green">✓</phrase>
              </entry>
              <entry><phrase role="color:suse-jungle-green">✓</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
            </row>
            <row>
              <entry><emphasis role="bold">12 SP4</emphasis>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:suse-jungle-green">✓</phrase>
              </entry>
              <entry><phrase role="color:suse-jungle-green">✓</phrase>
              </entry>
              <entry><phrase role="color:suse-jungle-green">✓</phrase><superscript>1</superscript>
              </entry>
              <entry><phrase role="color:suse-jungle-green">✓</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
            </row>
            <row>
              <entry><emphasis role="bold">12 SP5</emphasis>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:suse-jungle-green">✓</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:suse-jungle-green">✓</phrase>
              </entry>
              <entry><phrase role="color:suse-jungle-green">✓</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
            </row>
            <row>
              <entry><emphasis role="bold">15 GA</emphasis>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:suse-jungle-green">✓</phrase>
              </entry>
              <entry><phrase role="color:suse-jungle-green">✓</phrase>
              </entry>
              <entry><phrase role="color:suse-jungle-green">✓</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
            </row>
            <row>
              <entry><emphasis role="bold">15 SP1</emphasis>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:suse-jungle-green">✓</phrase>
              </entry>
              <entry><phrase role="color:suse-jungle-green">✓</phrase>
              </entry>
              <entry><phrase role="color:suse-jungle-green">✓</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
            </row>
            <row>
              <entry><emphasis role="bold">15 SP2</emphasis>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:suse-jungle-green">✓</phrase>
              </entry>
              <entry><phrase role="color:suse-jungle-green">✓</phrase>
              </entry>
              <entry><phrase role="color:suse-jungle-green">✓</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
            </row>
            <row>
              <entry><emphasis role="bold">15 SP3</emphasis>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:suse-jungle-green">✓</phrase>
              </entry>
              <entry><phrase role="color:suse-jungle-green">✓</phrase>
              </entry>
              <entry><phrase role="color:suse-jungle-green">✓</phrase>
              </entry>
              <entry><phrase role="color:suse-jungle-green">✓</phrase>
              </entry>
            </row>
            <row>
              <entry><emphasis role="bold">15 SP4</emphasis>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:suse-jungle-green">✓</phrase>
              </entry>
              <entry><phrase role="color:suse-jungle-green">✓</phrase>
              </entry>
              <entry><phrase role="color:suse-jungle-green">✓</phrase>
              </entry>
            </row>
            <row>
              <entry><emphasis role="bold">15 SP5</emphasis>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:suse-jungle-green">✓</phrase>
              </entry>
              <entry><phrase role="color:suse-jungle-green">✓</phrase>
              </entry>
            </row>
            <row>
              <entry><emphasis role="bold">15 SP6</emphasis>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:suse-jungle-green">✓</phrase>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <informaltable frame="none" rowsep="0" colsep="0">
        <tgroup cols="2" align="left">
          <colspec colwidth=".5in" />
          <colspec colwidth="100%" />
          <tbody>
            <row>
              <entry><phrase role="color:suse-jungle-green">✓</phrase>
              </entry>
              <entry>
                <para>
                  Fully compatible and fully supported
                </para>
              </entry>
            </row>
            <row>
              <entry><phrase role="color:suse-jungle-green">✓</phrase><superscript>1</superscript>
              </entry>
              <entry>
                <para>
                  Supported for &kvm; hypervisor only
                </para>
              </entry>
            </row>
            <row>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry>
                <para>
                  Not supported
                </para>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
    </section>

    <section xml:id="virt-migration-live">
      <title>Live migration scenarios</title>
      <para>
        This section lists support status of live migration scenarios when
        <!-- Add VM migration limits/requirements -->
        running virtualized on top of &slsa;. The
        following host operating system combinations are fully supported (L3
        according to the respective
        <link
        xlink:href="https://www.suse.com/lifecycle">product life
        cycle</link>).
      </para>
      <note>
        <title>Live migration</title>
        <itemizedlist>
          <listitem>
            <para>
              &suse; always supports live migration of virtual machines between
              hosts running &slsa; with successive service pack numbers. For
              example, from &slsa; 16 to 16.1.
            </para>
          </listitem>
          <listitem>
            <para>
              &suse; strives to support live migration of virtual machines from
              a host running a service pack under LTSS to a host running a newer
              service pack, within the same major version of &sls;.
              &suse; only performs minimal testing of LTSS-to-newer
              migration scenarios and recommends thorough on-site testing before
              attempting to migrate critical virtual machines.
            </para>
          </listitem>
        </itemizedlist>
      </note>
      <important>
        <title>Confidential Computing</title>
        <para>
          &slsa; 15 SP6 includes kernel patches and tooling to
          enable Intel TDX Confidential Computing technology in the
          product. As this technology is not yet fully ready for a production
          environment, it is provided as a technology preview.
        </para>
      </important>
      <table>
        <title>Supported live migration guests</title>
        <tgroup cols="11">
          <colspec colname="c1" align="center" colwidth="3*"/>
          <colspec colname="c2" align="center" />
          <colspec colname="c3" align="center" />
          <thead>
            <row valign="middle">
              <entry align="right"> Target &slsa; host </entry>
              <entry morerows="1"> 15 SP7 </entry>
              <entry morerows="1"> 16 </entry>
            </row>
            <row>
              <entry align="left"> Source &slsa; host </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><emphasis role="bold">15 SP7</emphasis>
              </entry>
              <entry><phrase role="color:suse-jungle-green">✓</phrase>
              </entry>
              <entry><phrase role="color:suse-jungle-green">✓</phrase>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
            </row>
            <row>
              <entry><emphasis role="bold">16</emphasis>
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry><phrase role="color:suse-jungle-green">✓</phrase>
              </entry>
              <entry><phrase role="color:suse-jungle-green">✓<superscript>2</superscript></phrase>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <informaltable frame="none" rowsep="0" colsep="0">
        <tgroup cols="2" align="left">
          <colspec colwidth=".5in" />
          <colspec colwidth="100%" />
          <tbody>
            <row>
              <entry><phrase role="color:suse-jungle-green">✓</phrase></entry>
              <entry>
                <para>
                  Fully compatible and fully supported
                </para>
              </entry>
            </row>
            <row>
              <entry><phrase role="color:suse-jungle-green">✓<superscript>2</superscript></phrase>
              </entry>
              <entry>
                <para>
                  When available
                </para>
              </entry>
            </row>
            <row>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry>
                <para>
                  Not supported
                </para>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
    </section>
  </section>
  <section xml:id="virt-support-feature-support">
    <title>Feature support</title>

    <important>
      <title>Nested virtualization: technology preview</title>
      <para>
        Nested virtualization allows you to run a virtual machine inside another
        VM while still using hardware acceleration from the host. It has low
        performance and adds more complexity while debugging. Nested
        virtualization is normally used for testing purposes. In &sls;, nested
        virtualization is a technology preview. It is only provided for testing
        and is not supported. Bugs can be reported, but they are treated with
        low priority. Any attempt to live migrate or to save or restore VMs in
        the presence of nested virtualization is also explicitly unsupported.
      </para>
    </important>

    <important>
      <title>Post-copy live migration: tech preview</title>
      <para>
        Post-copy is a method to live migrate virtual machines that is intended
        to get VMs running as soon as possible on the destination host, and have
        the VM RAM transferred gradually in the background over time as needed.
        Under certain conditions, this can be an optimization compared to the
        traditional pre-copy method. However, this comes with a major drawback:
        An error occurring during the migration (especially a network failure)
        can cause the whole VM RAM contents to be lost. Therefore, we recommend
        using pre-copy only in production, while post-copy can be used for
        testing and experimentation in case losing the VM state is not a major
        concern.
      </para>
    </important>

    <section xml:id="virt-support-feature-support-host">
      <title>&xen; host (Dom0)</title>
      <table>
        <title>Feature support&mdash;host (<literal>Dom0</literal>)</title>
        <tgroup cols="2">
          <colspec colnum="1" colname="c1" colwidth="7*"/>
          <colspec colnum="2" colname="c2" align="center"/>
          <thead>
            <row>
              <entry>
         Features
       </entry>
              <entry>
         &xen;
       </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry>
         Network and block device hotplugging
       </entry>
              <entry><phrase role="color:suse-jungle-green">✓</phrase>
              </entry>
            </row>
            <row>
              <entry>
         Physical CPU Hotplug
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
            </row>
            <row>
              <entry>
         Virtual CPU Hotplug
              </entry>
              <entry><phrase role="color:suse-jungle-green">✓</phrase>
              </entry>
            </row>
            <row>
              <entry>
         Virtual CPU Pinning
              </entry>
              <entry><phrase role="color:suse-jungle-green">✓</phrase>
              </entry>
            </row>
            <row>
              <entry>
         Virtual CPU Capping
              </entry>
              <entry><phrase role="color:suse-jungle-green">✓</phrase>
              </entry>
            </row>
            <row>
              <entry>
         Intel* VT-x2: FlexPriority, FlexMigrate (migration constraints apply
         to dissimilar CPU architectures)
       </entry>
              <entry><phrase role="color:suse-jungle-green">✓</phrase>
              </entry>
            </row>
            <row>
              <entry>
         Intel* VT-d2 (DMA remapping with interrupt filtering and queued
         invalidation)
       </entry>
              <entry><phrase role="color:suse-jungle-green">✓</phrase>
              </entry>
            </row>
            <row>
              <entry>
         AMD* IOMMU (I/O page table with guest-to-host physical address
         translation)
       </entry>
              <entry><phrase role="color:suse-jungle-green">✓</phrase>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <note>
        <title>Adding or removing physical CPUs at runtime is not supported</title>
        <para>
          The addition or removal of physical CPUs at runtime is not supported.
          However, virtual CPUs can be added or removed for each &vmguest; while
          offline.
        </para>
      </note>
    </section>

    <section xml:id="virt-support-feature-support-fv">
      <title>Guest feature support</title>
      <note>
        <title>Windows guest</title>
        <para>
          Hotplugging of virtual network and virtual block devices, and
          resizing, shrinking and restoring dynamic virtual memory are supported
          in &kvm; only when PV drivers are used
          (<link xlink:href="https://www.suse.com/products/vmdriverpack/">VMDP</link>).
        </para>
      </note>
      <note>
        <title>Intel FlexMigration</title>
        <para>
          For machines that support Intel FlexMigration, CPU-ID masking and
          faulting allow for more flexibility in cross-CPU migration.
        </para>
      </note>
      <tip>
        <para>
          For &kvm;, a detailed description of supported limits, features,
          recommended settings and scenarios, and other useful information is
          maintained in <filename>kvm-supported.txt</filename>. This file is
          part of the &kvm; package and can be found in
          <filename>/usr/share/doc/packages/qemu-kvm</filename>.
        </para>
      </tip>
      <table>
        <title>Guest feature support for &kvm;</title>
        <tgroup cols="4">
          <colspec colnum="1" colname="c1" colwidth="2*"/>
          <colspec colnum="2" colname="c2" align="center"/>
          <colspec colnum="3" colname="c3" align="center"/>
          <colspec colnum="4" colname="c4" align="center"/>
          <thead>
            <row>
              <entry>
         Features
       </entry>
              <entry>
         &kvm; FV guest
       </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry>
         Virtual network and virtual block device hotplugging
       </entry>
              <entry><phrase role="color:suse-jungle-green">✓</phrase>
              </entry>
            </row>
            <row>
              <entry>
         Virtual CPU Hotplug
              </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
            </row>
            <row>
              <entry>
         Virtual CPU Overcommit
              </entry>
              <entry><phrase role="color:suse-jungle-green">✓</phrase>
              </entry>
            </row>
            <row>
              <entry>
         Dynamic virtual memory resize
       </entry>
              <entry><phrase role="color:suse-jungle-green">✓</phrase>
              </entry>
            </row>
            <row>
              <entry>
         VM save and restore
       </entry>
              <entry><phrase role="color:suse-jungle-green">✓</phrase>
              </entry>
            </row>
            <row>
              <entry>
         VM Live Migration
       </entry>
              <entry><phrase role="color:suse-jungle-green">✓</phrase>
              </entry>
            </row>
            <row>
              <entry>
         VM snapshot
       </entry>
              <entry><phrase role="color:suse-jungle-green">✓</phrase>
              </entry>
            </row>
            <row>
              <entry>
         Advanced debugging with GDBC
       </entry>
              <entry><phrase role="color:suse-jungle-green">✓</phrase>
              </entry>
            </row>
            <row>
              <entry>
         Memory ballooning
       </entry>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
            </row>
            <row>
              <entry>
         &pciback;
       </entry>
              <entry><phrase role="color:suse-jungle-green">✓</phrase>
              </entry>
            </row>
            <row>
              <entry>
         AMD SEV ans SEV-SNP
       </entry>
              <entry><phrase role="color:suse-jungle-green">✓</phrase> [3]
       </entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <informaltable frame="none" rowsep="0" colsep="0">
        <tgroup cols="2" align="left">
          <colspec colname="c1" colwidth=".5in" />
          <colspec colname="c2" colwidth="100%" />
          <tbody>
            <row>
              <entry><phrase role="color:suse-jungle-green">✓</phrase>
              </entry>
              <entry>
                <para>
                  Fully compatible and fully supported
                </para>
              </entry>
            </row>
            <row>
              <entry><phrase role="color:red">❌</phrase>
              </entry>
              <entry>
                <para>
                  Not supported
                </para>
              </entry>
            </row>
 <!-- TO FIX LATER            <row>
              <entry>
        [1]
       </entry>
              <entry>
         See <xref linkend="libvirt-admin-live-migration-requirements"/>.
       </entry>
          
            </row>
           -->
            <row>
              <entry>
        [1]
       </entry>
              <entry>
         &netware; guests are excluded.
       </entry>
            </row>
            <row>
              <entry>
        [2]
       </entry>
              <entry>
        See
       <link xlink:href="https://documentation.suse.com/sles/html/SLES-amd-sev/article-amd-sev.html"/>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
    </section>
  </section>
<!-- End X86_64 only -->
</topic>
