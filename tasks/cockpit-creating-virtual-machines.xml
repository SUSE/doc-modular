<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic
[
  <!ENTITY % entities SYSTEM "../common/generic-entities.ent">
    %entities;
]>
<!-- refers to legacy doc: <add github link to legacy doc piece, if applicable> -->
<!-- point back to this document with a similar comment added to your legacy doc piece -->
<!-- refer to README.md for file and id naming conventions -->
<!-- metadata is dealt with on the assembly level -->
<topic xml:id="task-creating-cockpit-vm"
 role="task" xml:lang="en"
 xmlns="http://docbook.org/ns/docbook" version="5.2"
 xmlns:its="http://www.w3.org/2005/11/its"
 xmlns:xi="http://www.w3.org/2001/XInclude"
 xmlns:xlink="http://www.w3.org/1999/xlink"
 xmlns:trans="http://docbook.org/ns/transclusion">
  <info>
    <title>Creating and installing virtual machines using &cockpit;</title>
    <meta name="maintainer" content="shalaka.harne@suse.com" its:translate="no"/>
    <abstract>
      <para>The &cockpit; web console allows you to create virtual machines.</para>
    </abstract>
  </info>
  <section><title>Create virtual machines</title>
    <procedure>
    <step>
      <para>
        Navigate to the <guimenu>Virtual machines</guimenu> page.
      </para>
    </step>
    <step>
      <para>
        Click <guimenu>Create VM</guimenu>.
      </para>
    </step>
    <step>
      <para>
        Select the <guilabel>Connection</guilabel> as either <guimenu>System</guimenu> or  <guimenu>User session</guimenu>.</para></step>
    <step><para>Select an installation type from the drop-down menu.</para>
      <itemizedlist>
        <listitem><para><xref linkend="download-OS"/></para></listitem>
        <listitem><para><xref linkend="cloud-base-image"/></para></listitem>
        <listitem><para><xref linkend="local-install-media"/></para></listitem>
        <listitem><para><xref linkend="URL"/></para></listitem>
        <listitem><para><xref linkend="network-boot-PXE"/></para></listitem>
      </itemizedlist>
    </step>
    <step><para>Specify the details.</para></step>
    <step>
      <para>To run the VM after creation, click <guimenu>Create and run</guimenu>.</para>
    </step>
    <step><para>To edit the VM parameters after creation, click <guimenu>Create and edit</guimenu>.</para>
    <para>After modifying the parameters, you can click <guimenu>Create and run</guimenu> to run the VM.</para></step>
  </procedure>
  <section xml:id="download-os"><title >Download an OS</title>
    <para>
    You can select <guilabel>Download an OS</guilabel> to create a VM with your preferred OS. &cockpit; provides a list of popular Linux distributions (like OpenSUSE Leap, Fedora, Ubuntu, or CentOS). When you select the OS, &cockpit; downloads the official ISO image from the internet and creates VM based on the given configurations. </para>
  <procedure>
    <step><para>Select the OS from the <guilabel>Operating system</guilabel> drop-down list.</para></step>
    <step>
      <para>
        Define the <guimenu>Storage parameters</guimenu>, including the storage limit and memory.</para>
        <para>The available storage limit and memory is displayed so that you can configure the storage limit and memory accordingly. </para>
    </step>
    <step>
      <para>To run the VM after creation, click <guimenu>Create and run</guimenu>.</para>
    </step>
    <step><para>To edit the VM parameters after creation, click <guimenu>Create and edit</guimenu>.</para>
    <para>Modify the parameters and click <guimenu>Install</guimenu>.</para></step>
  </procedure></section>
  
  <section xml:id="cloud-base-image"><title>Cloud base image</title>
    <para>
    You can create a virtual machine from the cloud image file on the host's file system. You must provide the path to the file for this. This installation type supports unattended installation, where you can pre-fill a username, password, and SSH key in &cockpit;. The VM then boots and configures itself automatically.  
  </para>
  <procedure>
    <step><para>Select the path to cloud image file on the host's file system from the <guilabel>Installation source</guilabel> drop-down list.</para>
    </step>
    <step><para>Select the OS from the <guilabel>Operating system</guilabel> drop-down list.</para></step>
    <step>
      <para>
        Define the <guimenu>Storage parameters</guimenu>, including the storage limit and memory.</para>
    </step>
    <step>
      <para>To run the VM after creation, click <guimenu>Create and run</guimenu>.</para>
    </step>
    <step><para>To edit the VM parameters after creation, click <guimenu>Create and edit</guimenu>.</para>
    <para>Modify the parameters and click <guimenu>Install</guimenu>.</para></step>
  </procedure></section>
  <section xml:id="local-install-media"><title>Local install media (ISO image or distro install tree)</title>
    <para>
    You can create VM from the local installation media using the path to ISO file on the host's file system. In this, you must provide the direct file path in which the ISO image is stored and the VM boots from that local file and begins the installation.
  </para>
  <procedure>
     <step><para>Select the path to ISO file on the host's file system from the <guilabel>Installation source</guilabel> drop-down list.</para>
    </step>
    <step><para>Select the OS from the <guilabel>Operating system</guilabel> drop-down list.</para></step>
   
    <step>
      <para>
        Define the <guimenu>Storage parameters</guimenu>, including the storage limit and memory.</para>
    </step>
    <step>
      <para>To run the VM after creation, click <guimenu>Create and run</guimenu>.</para>
    </step>
    <step><para>To edit the VM parameters after creation, click <guimenu>Create and edit</guimenu>.</para>
    <para>Modify the parameters and click <guimenu>Install</guimenu>.</para></step>
  </procedure></section>
  <section xml:id="URL"><title>URL (ISO image or distro install tree)</title>
    <para>
   You can create a virtual machine by downloading the OS from a URL of the ISO image or distro install tree. In this type of installation, you can point the VM to a remote installation source via a web link (HTTP/HTTPS/FTP). It is particularly useful for network-based installations where the host doesn't have the image saved locally but can pull the necessary boot files directly from a public or private mirror.
  </para>
  <procedure>
     <step><para>Specify the URL of the ISO file in <guilabel>Installation source</guilabel>.</para>
    </step>
    <step><para>Select the OS from the <guilabel>Operating system</guilabel> drop-down list.</para></step>
    <step>
      <para>
        Define the <guimenu>Storage parameters</guimenu>, including the storage limit and memory.</para>
    </step>
    <step>
      <para>To run the VM after creation, click <guimenu>Create and run</guimenu>.</para>
    </step>
    <step><para>To edit the VM parameters after creation, click <guimenu>Create and edit</guimenu>.</para>
    <para>Modify the parameters and click <guimenu>Install</guimenu>.</para></step>
  </procedure></section>
  <section xml:id="network-boot-PXE"><title>Network boot (PXE)</title>
    <para>
    You can create a VM by installing the OS over the network using the Network boot PXE (Preboot eXecution Environment). In this type of installation, the VM starts without a local OS and requests boot files from a PXE server over the network. The PXE server supplies the bootloader, kernel, initrd, and OS installation files, allowing the operating system to install directly from the network.
  </para>
  <procedure>
    <step><para>Select the installation source from the <guilabel>Installation source</guilabel> drop-down list.</para>
    </step>
    <step><para>Select the OS from the <guilabel>Operating system</guilabel> drop-down list.</para></step>
    <step>
      <para>
        Define the <guimenu>Storage parameters</guimenu>, including the storage limit and memory.</para>
    </step>
    <step>
      <para>To run the VM after creation, click <guimenu>Create and run</guimenu>.</para>
    </step>
    <step><para>To edit the VM parameters after creation, click <guimenu>Create and edit</guimenu>.</para>
    <para>Modify the parameters and click <guimenu>Install</guimenu>.</para></step>
  </procedure></section>
  </section>
   <section xml:id="install-vm">
    <title>Installing a virtual machine</title>
  <para> You can create a VM and install it or install an available VM.</para>
  <itemizedlist><listitem><para>To create a VM and install it, create a VM and click <guimenu>Create and run</guimenu>.</para>
  </listitem>
<listitem><para>To install an already created VM, navigate to the <guimenu>Virtual machines</guimenu> page and click <guimenu>Install</guimenu> corresponding to the VM.</para></listitem>
</itemizedlist>
  </section>
</topic>
