<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic
[
  <!ENTITY % entities SYSTEM "../common/generic-entities.ent">
    %entities;
]>
<!-- refers to legacy doc: <add github link to legacy doc piece, if applicable> -->
<!-- point back to this document with a similar comment added to your legacy doc piece -->
<!-- refer to README.md for file and id naming conventions -->
<!-- metadata is dealt with on the assembly level -->
<topic xml:id="freeradius-add-client-user"
 role="task" xml:lang="en"
 xmlns="http://docbook.org/ns/docbook" version="5.2"
 xmlns:its="http://www.w3.org/2005/11/its"
 xmlns:xi="http://www.w3.org/2001/XInclude"
 xmlns:xlink="http://www.w3.org/1999/xlink"
 xmlns:trans="http://docbook.org/ns/transclusion">
  <info>
    <title>Adding a test client and a user on the server</title><!-- can be changed via merge
in the assembly -->
    <!-- add author's e-mail -->
    <meta name="maintainer" content="shalaka.harne@suse.com" its:translate="no"/>
    <abstract><!-- can be changed via merge in the assembly -->
      <para>
        You can add a client and a user to test authentication for the FreeRADIUS server. The client is a client of the RADIUS server, such as a wireless access point or switch. The users are added in the <filename>/etc/raddb/users</filename> configuration file.</para>
      <para>The machines that can use the devices of the FreeRADIUS server are defined in the <filename>/etc/raddb/clients.conf</filename> file. These configuration files are stored on the server where FreeRADIUS is installed.</para>
    </abstract>
  </info>
  <procedure xml:id="add-client-user"><title>Configuring users and clients</title>
    <para>Add the machines that can use the devices of the FreeRADIUS server and the users by using the following example:</para>
    <step><para>Configure users in the authorization file, <filename>/etc/raddb/mods-config/files/authorize</filename>.</para>
    <para>To do this, open <filename>/etc/raddb/mods-config/files/authorize</filename> and add the following lines:</para>
  <screen>bob Cleartext-Password := "testpass"
    Reply-Message := "Hello, %{User-Name}"</screen></step>
  <step>
    <para>Add a test client and user to test the authentication in <filename>/etc/raddb/clients.conf</filename>.</para>
    <screen>&prompt.sudo; vi /etc/raddb/clients.conf</screen>
    <para>Add a test client, <literal>localhost</literal>, in <filename>/etc/raddb/clients.conf</filename>, with the secret <literal>testing123</literal>.</para>
    <screen>client localhost {
    ipaddr = 127.0.0.1
    secret = testing123
    }
</screen> 
  </step><step>
<para>You can add clients of the RADIUS server, such as a wireless access point, network switch, or another form of NAS.</para>
<para>If your RADIUS server is on a remote machine <filename>192.0.2.0</filename>Create a client configuration on your server by using the following example.</para>
<para>Add the following entry in <filename>/etc/raddb/clients.conf</filename> and use the IP address of your test client machine or access gateway instead of the given IP address.</para>
<screen>client private-network-1 {
ipaddr          = 192.0.2.0/24
secret          = testing123-1
}</screen>
<para>You must configure the client to talk to the RADIUS server by using the IP address of the machine running the RADIUS server. The client must use the same secret as configured above in the client section.</para>
</step>
 </procedure>
 <para>You can add more users and configure database.</para>
</topic>
