<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic
[
  <!ENTITY % entities SYSTEM "../common/generic-entities.ent">
    %entities;
]>

<!-- refers to legacy doc: https://github.com/SUSE/doc-sleha/blob/main/xml/ha_configuring_resources.xml -->

<topic xml:id="ha-resources-applying-multiple-changes"
 role="task" xml:lang="en"
 xmlns="http://docbook.org/ns/docbook" version="5.2"
 xmlns:its="http://www.w3.org/2005/11/its"
 xmlns:xi="http://www.w3.org/2001/XInclude"
 xmlns:xlink="http://www.w3.org/1999/xlink"
 xmlns:trans="http://docbook.org/ns/transclusion">
  <info>
    <title>Applying multiple changes at once</title>
    <meta name="maintainer" content="tahlia.richardson@suse.com" its:translate="no"/>
    <abstract>
      <para>
        There are three different ways to apply changes simultaneously in a batch.
      </para>
    </abstract>
  </info>

  <section xml:id="sec-ha-manual-config-load">
    <title>Loading resources from a file</title>
    <para>
    Parts or all of the configuration can be loaded from a local file or a
    network URL. Three different methods can be defined:
    </para>
    <variablelist>
    <varlistentry>
      <term><option>replace</option></term>
      <listitem>
      <para>
        This option replaces the current configuration with the new source
        configuration.
      </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term><option>update</option></term>
      <listitem>
      <para>
        This option tries to import the source configuration. It adds new items
        or updates existing items to the current configuration.
      </para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term><option>push</option></term>
      <listitem>
      <para>
        This option imports the content from the source into the current
        configuration (same as <option>update</option>). However, it removes
        objects that are not available in the new configuration.
      </para>
      </listitem>
    </varlistentry>
    </variablelist>
    <para>
    To load the new configuration from the file <filename>mycluster-config.txt</filename>
    use the following syntax:
    </para>
    <screen>&prompt.user;<command>sudo crm configure load push mycluster-config.txt</command></screen>
  </section>
</topic>
