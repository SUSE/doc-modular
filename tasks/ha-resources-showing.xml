<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic
[
  <!ENTITY % entities SYSTEM "../common/generic-entities.ent">
    %entities;
]>

<!-- refers to legacy doc: https://github.com/SUSE/doc-sleha/blob/main/xml/ha_managing_resources.xml -->

<topic xml:id="ha-resources-showing"
 role="task" xml:lang="en"
 xmlns="http://docbook.org/ns/docbook" version="5.2"
 xmlns:its="http://www.w3.org/2005/11/its"
 xmlns:xi="http://www.w3.org/2001/XInclude"
 xmlns:xlink="http://www.w3.org/1999/xlink"
 xmlns:trans="http://docbook.org/ns/transclusion">
  <info>
    <title>Showing cluster resources</title>
    <meta name="maintainer" content="tahlia.richardson@suse.com" its:translate="no"/>
    <abstract>
      <para>
        TODO
      </para>
    </abstract>
  </info>

<para>
   When administering a cluster the command <command>crm configure show</command>
   lists the current CIB objects like cluster configuration, global options,
   primitives, and others:
  </para>
  <screen>&prompt.root;<command>crm configure show</command>
node 178326192: &node1;
node 178326448: &node2;
primitive admin_addr IPaddr2 \
       params ip=&subnetII;.1 \
       op monitor interval=10 timeout=20
primitive stonith-sbd stonith:external/sbd \
       params pcmk_delay_max=30
property cib-bootstrap-options: \
       have-watchdog=true \
       dc-version=1.1.15-17.1-e174ec8 \
       cluster-infrastructure=corosync \
       cluster-name=hacluster \
       stonith-enabled=true \
       placement-strategy=balanced \
       standby-mode=true
rsc_defaults rsc-options: \
       resource-stickiness=1 \
       migration-threshold=3
op_defaults op-options: \
       timeout=600 \
       record-pending=true</screen>
  <para>
   If you have lots of resources, the output of <command>show</command>
   is too verbose. To restrict the output, use the name of the resource.
   For example, to list the properties of the primitive
   <systemitem>admin_addr</systemitem> only, append the resource name to
   <command>show</command>:
  </para>
  <screen>&prompt.root;<command>crm configure show admin_addr</command>
primitive admin_addr IPaddr2 \
       params ip=&subnetII;.1 \
       op monitor interval=10 timeout=20</screen>
  <para>
   However, in some cases, you want to limit the output of specific resources
   even more. This can be achieved with <emphasis>filters</emphasis>. Filters
   limit the output to specific components. For example, to list the
   nodes only, use <literal>type:node</literal>:
  </para>
  <screen>&prompt.root;<command>crm configure show type:node</command>
node 178326192: &node1;
node 178326448: &node2;</screen>
  <para>If you are also interested in primitives, use the
  <literal>or</literal> operator:</para>
  <screen>&prompt.root;<command>crm configure show type:node or type:primitive</command>
node 178326192: &node1;
node 178326448: &node2;
primitive admin_addr IPaddr2 \
       params ip=&subnetII;.1 \
       op monitor interval=10 timeout=20
primitive stonith-sbd stonith:external/sbd \
       params pcmk_delay_max=30</screen>
  <para>
   Furthermore, to search for an object that starts with a certain string,
   use this notation:</para>
  <screen>&prompt.root;<command>crm configure show type:primitive and 'admin*'</command>
primitive admin_addr IPaddr2 \
       params ip=&subnetII;.1 \
       op monitor interval=10 timeout=20</screen>
  <para>
   To list all available types, enter <command>crm configure show type:</command>
   and press the <keycap function="tab"/> key. The Bash completion gives
   you a list of all types.
  </para>
</topic>
