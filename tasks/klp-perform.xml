<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic
[
  <!ENTITY % entities SYSTEM "../common/generic-entities.ent">
    %entities;
]>
<topic xml:id="klp-perform"
 role="concept" xml:lang="en"
 xmlns="http://docbook.org/ns/docbook" version="5.2"
 xmlns:its="http://www.w3.org/2005/11/its"
 xmlns:xi="http://www.w3.org/2001/XInclude"
 xmlns:xlink="http://www.w3.org/1999/xlink"
 xmlns:trans="http://docbook.org/ns/transclusion">
  <info>
    <title>Performing &klp;</title>
    <meta name="maintainer" content="dpopov@suse.com" its:translate="yes"/>
  </info>
  <para>
    Kernel live patches are installed as part of regular system updates.
    However, there are several things you should be aware of.
   </para>
 
   <itemizedlist>
    <listitem>
     <para>
      The kernel is live-patched if a <package>kernel-livepatch-*</package>
      package has been installed for the running kernel. You can use the command
      <command>zypper se --details kernel-livepatch-*</command> to check what
      kernel live patch packages are installed on your system.
     </para>
    </listitem>
    <listitem>
     <para>
      When the <package>kernel-default</package> package is installed, the update
      manager prompts you to reboot the system. To prevent this message from
      appearing, you can filter out kernel updates from the patching operation.
      This can be done by adding package locks with Zypper. &susemgr; also makes
      it possible to filter channel contents (see
      <link xlink:href="https://documentation.suse.com/external-tree/en-us/suma/4.1/suse-manager/administration/live-patching.html">Live
      Patching with SUSE Manager</link>).
     </para>
    </listitem>
    <listitem>
     <para>
      You can check patching status using the <command>klp status</command>
      command. To examine installed patches, run the <command>klp -v
      patches</command> command.
     </para>
    </listitem>
    <listitem>
     <para>
      Keep in mind that while there may be multiple kernel packages installed on
      the system, only one of them is running at any given time. Similarly,
      there may be multiple live patch packages installed, but only one live
      patch is loaded into the kernel.
     </para>
    </listitem>
    <listitem>
     <para>
      The active live patch is included in the <literal>initrd</literal>. This
      means that in case of an unexpected reboot, the system comes up with the
      live patch fixes applied, so there is no need to perform patching again.
     </para>
    </listitem>
   </itemizedlist>
</topic>
