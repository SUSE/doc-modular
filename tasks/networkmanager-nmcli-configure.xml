<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic
[
  <!ENTITY % entities SYSTEM "../common/generic-entities.ent">
    %entities;
]>
<!-- refers to legacy doc: <add github link to legacy doc piece, if applicable> -->
<!-- point back to this document with a similar comment added to your legacy doc piece -->
<!-- refer to README.md for file and id naming conventions -->
<!-- metadata is dealt with on the assembly level -->
<topic xml:id="networkmanager-nmcli-configure"
 role="task" xml:lang="en"
 xmlns="http://docbook.org/ns/docbook" version="5.2"
 xmlns:its="http://www.w3.org/2005/11/its"
 xmlns:xi="http://www.w3.org/2001/XInclude"
 xmlns:xlink="http://www.w3.org/1999/xlink"
 xmlns:trans="http://docbook.org/ns/transclusion">
  <info>
    <title>Configuring NetworkManager</title><!-- can be changed via merge
in the assembly -->
    <!-- add author's e-mail -->
    <meta name="maintainer" content="shalaka.harne@suse.com" its:translate="no"/>
    <abstract><!-- can be changed via merge in the assembly -->
      <para>
        <replaceable>ADD CONTENT</replaceable></para>
      </abstract>
  </info>
<section><title>Configuring an ethernet connection</title>
  
  <para>You can configure the ethernet connection.</para>
  <procedure><step><para>View the list of connection using the command:</para>
  <screen>nmcli connection show</screen>
<para>The NetworkManager creates profile for each Network Interface Controller (NIC). You must create separate profiles for each network if you want to connect the NIC to networks with different settings.</para>
<para>To create a new connection profile, run the command <command>nmcli connection add con-name <replaceable>connection-name</replaceable> ifname <replaceable>device-name</replaceable> type ethernet</command>.</para>
<para>To rename an existing profile, run the command <command>nmcli connection modify "<replaceable>ExistingConnection</replaceable>" connection.id "<replaceable>NewConnection</replaceable>"</command></para>
</step>
<step><para>View the existing network settings of the new connection profile using the command:</para>
<screen>nmcli connection show NewConnection</screen>
</step>
<step><para>Configure the IPv4 settings:</para>
<substeps>
  <step><para>To use DHCP, run the command:</para>
  <screen>nmcli connection modify <replaceable>NewConnection</replaceable> ipv4.method auto</screen></step>
  <step><para>To configure a static IPv4 address, network mask, default gateway, DNS servers, and search domain, run the command:</para>
    <screen>nmcli connection modify <replaceable>NewConnection</replaceable> ipv4.method manual ipv4.addresses 192.0.2.1/24 ipv4.gateway 192.0.2.254 ipv4.dns 192.0.2.200 ipv4.dns-search example.com</screen>
    </step>
  </substeps>
</step>
<step>
  <para>Configure the IPv6 settings:</para>
  <substeps>
    <step>
      <para>To use stateless address autoconfiguration (SLAAC), run the command:</para>
    <screen>nmcli connection modify <replaceable>NewConnection</replaceable> ipv6.method auto</screen></step>
    <step>
      <para>To configure a static IPv6 address, network mask, default gateway, DNS servers, and search domain, run the command:</para>
      <screen>nmcli connection modify Internal-LAN ipv6.method manual ipv6.addresses 2001:db8:1::fffe/64 ipv6.gateway 2001:db8:1::fffe ipv6.dns 2001:db8:1::ffbb ipv6.dns-search example.com</screen>
      </step>
    </substeps>
  </step>
  <step>
    <para>Configure other settings in the profile using the command:</para>
  <screen>nmcli connection modify <replaceable>Name of the connection</replaceable> <replaceable>setting</replaceable> <replaceable>value</replaceable></screen>
  </step>
  <step><para>Activate the profile using the command:</para>
  <screen>nmcli connection up <replaceable>NewConnection</replaceable></screen>
  </step>
  <step><para>Verify the configurations:</para>
  <substeps><step><para>Verify the IP settings of the NIC:</para>
  <screen>ip address show <replaceable>nameofthehost</replaceable></screen>
    </step>
    <step><para>Verify the default IPv4 gateway:</para>
      <screen>ip route show default</screen>
        </step>
        <step><para>Verify the default IPv6 gateway:</para>
          <screen>ip -6 route show default</screen>
            </step>
            <step><para>View the DNS settings:</para>
              <screen>cat /etc/resolv.conf</screen>
                </step>
  </substeps>
  </step>
</procedure>
</section>
</topic>