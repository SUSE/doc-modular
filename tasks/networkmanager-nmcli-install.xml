<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic
[
  <!ENTITY % entities SYSTEM "../common/generic-entities.ent">
    %entities;
]>
<!-- refers to legacy doc: <add github link to legacy doc piece, if applicable> -->
<!-- point back to this document with a similar comment added to your legacy doc piece -->
<!-- refer to README.md for file and id naming conventions -->
<!-- metadata is dealt with on the assembly level -->
<topic xml:id="networkmanager-nmcli-install"
 role="task" xml:lang="en"
 xmlns="http://docbook.org/ns/docbook" version="5.2"
 xmlns:its="http://www.w3.org/2005/11/its"
 xmlns:xi="http://www.w3.org/2001/XInclude"
 xmlns:xlink="http://www.w3.org/1999/xlink"
 xmlns:trans="http://docbook.org/ns/transclusion">
  <info>
    <title>Installing and Configuring &nm;</title><!-- can be changed via merge
in the assembly -->
    <!-- add author's e-mail -->
    <meta name="maintainer" content="shalaka.harne@suse.com" its:translate="no"/>
    <abstract><!-- can be changed via merge in the assembly -->
      <para>
        You can install &nm; using zypper. Once you install, you can enable &nm; to start automatically at boot time.</para>
      </abstract>
  </info>
  <procedure xml:id="install-networkmanager"><title>Installing &nm;</title>
    <step><para>Install &nm; using the following command:</para>
      <screen>&prompt.sudo;zypper install NetworkManager</screen>
      </step>
      <step><para>Enable &nm; using the command:</para>
       <screen>&prompt.sudo;systemctl enable NetworkManager</screen>
    <para>Once &nm; is enabled, the change persists across reboots.</para>
    </step></procedure>
    <section><title>Configuring NetworkManager behavior</title>
    <para>
        &nm; is a tool that enables configuring network connections and devices. &nm; provides a CLI interface to manage your connections. By using the nmcli interface, you can connect to a particular network, edit a connection, edit a device, and so on. You can configure ethernet connection, Wi-Fi connection, network bonding, network teaming, network  bridge, and VPN connection using &nm;.
        The behavior of &nm; is defined in <filename>/etc/NetworkManager/NetworkManager.conf</filename>. You can configure the settings on how NetworkManager must behave such as the connectivity details, logging and so on in the <filename>NetworkManager.conf</filename> file.</para>
 <para>The file consists of sections of key-value pairs. Each key-value pair must belong to a section. A section starts with a name enclosed in <literal>[]</literal>. Lines beginning with a <literal>#</literal> are considered comments. A common configuration includes the <literal>[main]</literal> section with the <literal>plugins</literal> value, <literal>[logging]</literal>, and <literal>[connectivity]</literal>:</para>
<screen>   [main]
plugins=keyfile
dhcp=dhclient

[connectivity]
uri=http://name.org

[logging]
level=INFO
domains=ALL
</screen>
<itemizedlist>
<listitem>
  <para><code>[main]</code> controls the general settings for &nm;.</para>
</listitem>
<listitem>
  <para><code>[connectivity]</code> defines connection defaults and options.</para>
</listitem>
<listitem>
  <para><code>[logging]</code> manages the &nm; logging levels and domains.</para>
</listitem>
<listitem>
  <para><code>[keyfile]</code> manages how the connection profiles are stored.</para>
</listitem>
</itemizedlist>
<para> The [keyfile] plug-in supports all the connection types and capabilities of &nm;.</para>
<para>The default configuration file contains the connectivity section that specifies the URI to check the network connection.</para>
<procedure><title>Modifying NetworkManager.conf</title>
<step><para>Open the configuration file.</para>
<screen>&prompt.sudo;vi /etc/NetworkManager/NetworkManager.conf</screen>
</step>
<step><para>Modify the sections.</para></step>
<step><para>Save the changes and restart &nm;.</para>
<screen>&prompt.sudo;systemctl restart NetworkManager</screen></step>
<step><para>To view the existing configuration and settings, run the following command:</para>
<screen>nmcli general show
</screen></step>
</procedure>
</section>
</topic>
