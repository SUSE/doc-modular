<?xml version="1.0" encoding="UTF-8"?>
<!-- This file originates from the project https://github.com/openSUSE/doc-kit -->
<!-- This file can be edited downstream. -->
<!DOCTYPE topic
[
  <!ENTITY % entities SYSTEM "../common/generic-entities.ent">
    %entities;
]>
<topic xml:id="observability-installing"
 role="task" xml:lang="en"
 xmlns="http://docbook.org/ns/docbook" version="5.2"
 xmlns:its="http://www.w3.org/2005/11/its"
 xmlns:xi="http://www.w3.org/2001/XInclude"
 xmlns:xlink="http://www.w3.org/1999/xlink"
 xmlns:trans="http://docbook.org/ns/transclusion">
  <info>
    <title>Setting up &sobservability; for &productname;</title>
    <meta name="maintainer" content="tbazant@suse.com" its:translate="no"/>
    <abstract>
      <para>
        &sobservability; provides comprehensive monitoring and insights into
        your infrastructure and applications. It enables efficient tracking of
        metrics, logs and traces, helping you maintain optimal performance and
        troubleshoot issues effectively. This procedure guides you through
        setting up &sobservability; for the &productname; environment.
      </para>
    </abstract>
  </info>
  <section xml:id="ai-observability-requirements">
    <title>Requirements</title>
    <para>
      To set up &sobservability; for &productname;, you need to meet the
      following requirements.
    </para>
    <itemizedlist>
      <listitem>
        <para>
          Have access to &sappco;.
        </para>
      </listitem>
      <listitem>
        <para>
          Have a valid &productname; subscription.
        </para>
      </listitem>
      <listitem>
        <para>
          Have a valid license for &sobservability; in &scc;.
        </para>
      </listitem>
    </itemizedlist>
  </section>
  <section xml:id="ai-observability-overview">
    <title>Setup process overview</title>
    <para>
      The following chart shows high-level steps of the &sobservability; setup
      for &productname; procedure. You need to execute the steps from each
      column starting left to right with top-to-bottom order.
    </para>
    <itemizedlist>
      <listitem>
        <para>
          <emphasis>Yellow steps</emphasis> require your actions in the Web user
          interface.
        </para>
      </listitem>
      <listitem>
        <para>
          <emphasis>Blue steps</emphasis> are related to &helm; chart
          installations.
        </para>
      </listitem>
      <listitem>
        <para>
          <emphasis>Grey steps</emphasis> represent other type of interaction,
          such as coding.
        </para>
      </listitem>
    </itemizedlist>
    <figure xml:id="ai-observability-overview-figure">
      <title>High-level overview of the &sobservability; setup</title>
      <mediaobject>
        <imageobject role="fo">
          <imagedata fileref="ai-observability-overview.png" width="75%"/>
        </imageobject>
        <imageobject role="html">
          <imagedata fileref="ai-observability-overview.png" width="75%"/>
        </imageobject>
        <textobject role="description"><phrase>High-level overview of the &sobservability; setup</phrase>
        </textobject>
      </mediaobject>
    </figure>
    <tip>
      <title>Setup clusters</title>
      <para>
        You can create and configure &kube; clusters for &productname; and
        &sobservability; as you prefer. If you are using &ranchermanager;, check
        its
        <link xlink:href="https://ranchermanager.docs.rancher.com/how-to-guides/new-user-guides/kubernetes-clusters-in-rancher-setup">documentation</link>
        For testing purposes, you can even share one cluster for both
        deployments. You can skip instructions on setting up a specific cluster
        if you already have one configured.
      </para>
    </tip>
  </section>
  <section xml:id="ai-observability-observability-cluster">
    <title>Set up the &sobservability; cluster</title>
    <procedure>
      <step>
        <para>
          <emphasis role="bold">Install &sobservability;.</emphasis> You can
          follow the official
          <link
          xlink:href="https://docs.stackstate.com/get-started/k8s-suse-rancher-prime#installing-suse-observability">&sobservability;
          documentation</link> for all installation instructions. Remember to
          <link xlink:href="https://docs.stackstate.com/self-hosted-setup/install-stackstate/kubernetes_openshift/ingress">expose
          your APIs</link> and collector endpoints to your &productname;
          cluster.
        </para>
      </step>
      <step>
        <para>
          <emphasis role="bold">Enable and configure &kube;
          StackPack.</emphasis> In the &sobservability; Web UI, access the page
          <guimenu>StackPacks</guimenu> from the left menu. Under
          <guimenu>Kubernetes</guimenu> select the <guimenu>Kubernetes</guimenu>
          StackPack and configure it. It is crucial to set the proper cluster
          name that matches the name of the observed cluster.
        </para>
        <figure xml:id="ai-observability-kube-slackpak-figure">
          <title>Enabling &kube; SlackPak</title>
          <mediaobject>
            <imageobject role="fo">
              <imagedata fileref="ai-observability-kube-slackpak.png" width="75%"/>
            </imageobject>
            <imageobject role="html">
              <imagedata fileref="ai-observability-kube-slackpak.png" width="75%"/>
            </imageobject>
            <textobject role="description"><phrase>Enabling Kubernetes SlackPak</phrase>
            </textobject>
          </mediaobject>
        </figure>
        <para>
          The &kube; StackPack status reads <literal>Waiting for data</literal>
          until you finish installing the &sobservability; Agent" in the
          &productname; cluster.
        </para>
      </step>
      <step>
        <para>
          <emphasis role="bold">Enable OpenTelemetry StackPack.</emphasis> In
          the &sobservability; Web UI, access the page
          <guimenu>StackPacks</guimenu> from the left menu. Select the
          &otelemetry; SlackPack and configure it.
        </para>
        <figure xml:id="ai-observability-otelemetry-slackpak-figure">
          <title>Enabling &otelemetry; SlackPack</title>
          <mediaobject>
            <imageobject role="fo">
              <imagedata fileref="ai-observability-otelemetry-slackpak.png" width="75%"/>
            </imageobject>
            <imageobject role="html">
              <imagedata fileref="ai-observability-otelemetry-slackpak.png" width="75%"/>
            </imageobject>
            <textobject role="description"><phrase>Enabling &otelemetry; SlackPack</phrase>
            </textobject>
          </mediaobject>
        </figure>
      </step>
    </procedure>
  </section>
</topic>
