<?xml version="1.0" encoding="UTF-8"?>
<!-- This file originates from the project https://github.com/openSUSE/doc-kit -->
<!-- This file can be edited downstream. -->
<!DOCTYPE topic
[
  <!ENTITY % entities SYSTEM "../common/generic-entities.ent">
    %entities;
]>
<!-- refers to legacy doc: <add github link to legacy doc piece, if applicable> -->
<!-- point back to this document with a similar comment added to your legacy doc piece -->
<!-- refer to README.md for file and id naming conventions -->
<!-- metadata is dealt with on the assembly level -->
<topic xml:id="openwebui-setting-chat-native-function-calling"
 role="task" xml:lang="en"
 xmlns="http://docbook.org/ns/docbook" version="5.2"
 xmlns:its="http://www.w3.org/2005/11/its"
 xmlns:xi="http://www.w3.org/2001/XInclude"
 xmlns:xlink="http://www.w3.org/1999/xlink"
 xmlns:trans="http://docbook.org/ns/transclusion">
  <info>
    <title>Enabling native function calling for the current chat</title>
    <meta name="maintainer" content="tbazant@suse.com" its:translate="no"/>
    <abstract>
      <para>
        <emphasis>Native function calling</emphasis> describes a process where
        the client's&mdash;such as &suseai; chatbot&mdash;LLM queries an &mcp;
        server bypassing the &mcpo; proxy.
      </para>
    </abstract>
  </info>
  <para>
    It involves the following steps:
  </para>
  <orderedlist>
    <listitem>
      <para>
        A client LLM connects to an &mcp; server.
      </para>
    </listitem>
    <listitem>
      <para>
        The &mcp; server exposes tools (functions) with names, argument schemas
        and returns.
      </para>
    </listitem>
    <listitem>
      <para>
        The client calls a suitable tool and its functions with appropriate
        arguments.
      </para>
    </listitem>
    <listitem>
      <para>
        The tool then returns the result of the function call to the client and
        the client includes the result in its response.
      </para>
    </listitem>
  </orderedlist>
  <note>
    <title>LLMs with native function calling</title>
    <para>
      For this to work effectively, the selected model must support native tool
      calling. Certain models may claim such support but often produce poor
      results. For the best experience, &owui; recommends using GPT-4o or
      another &openai; model that supports function calling natively.
    </para>
  </note>
  <procedure>
    <step>
      <para>
        In the top right of the &owui; window, click the <guimenu>Chat
        controls</guimenu> icon.
      </para>
    </step>
    <step>
      <para>
        Unfold the <guimenu>Advanced Params</guimenu> tab and set the
        <guimenu>Function Calling</guimenu> from <literal>Default</literal> to
        <literal>Native</literal>.
      </para>
      <figure xml:id="fig-owui-enabling-nfc">
        <title>Enabling native function calling</title>
        <mediaobject>
          <imageobject role="fo">
            <imagedata fileref="owui-tools-nfc.png" width="50%"/>
          </imageobject>
          <imageobject role="html">
            <imagedata fileref="owui-tools-nfc.png" width="50%"/>
          </imageobject>
          <textobject role="description"><phrase>A screenshot showing how to enable native function calling</phrase>
          </textobject>
        </mediaobject>
      </figure>
    </step>
    <step>
      <para>
        Close the <guimenu>Chat controls</guimenu> window to apply the change.
      </para>
    </step>
  </procedure>
  <section xml:id="owui-nfc-for-more-info">
    <title>For more information</title>
    <para>
      You may find the following information sources useful:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          <link xlink:href="https://github.com/open-webui/mcpo">&mcpo;homepage
          on GitHub</link>
        </para>
      </listitem>
      <listitem>
        <para>
          <link
          xlink:href="https://docs.openwebui.com/openapi-servers/open-webui/">&owui;
          Integration documentation</link>
        </para>
      </listitem>
      <listitem>
        <para>
          <link
          xlink:href="https://docs.openwebui.com/openapi-servers/mcp/">&owui;support
          for &mcp;</link>
        </para>
      </listitem>
      <listitem>
        <para>
          <link xlink:href="https://github.com/modelcontextprotocol/servers">The
          &mcp; servers GitHub repository</link>
        </para>
      </listitem>
    </itemizedlist>
  </section>
</topic>
