<?xml version="1.0" encoding="UTF-8"?>
<!-- This file originates from the project https://github.com/openSUSE/doc-kit -->
<!-- This file can be edited downstream. -->
<!DOCTYPE topic
[
  <!ENTITY % entities SYSTEM "../common/generic-entities.ent">
    %entities;
]>
<!-- refers to legacy doc: <add github link to legacy doc piece, if applicable> -->
<!-- point back to this document with a similar comment added to your legacy doc piece -->
<!-- refer to README.md for file and id naming conventions -->
<!-- metadata is dealt with on the assembly level -->
<topic xml:id="task-sle16-upgrade"
 role="task" xml:lang="en"
 xmlns="http://docbook.org/ns/docbook" version="5.2"
 xmlns:its="http://www.w3.org/2005/11/its"
 xmlns:xi="http://www.w3.org/2001/XInclude"
 xmlns:xlink="http://www.w3.org/1999/xlink"
 xmlns:trans="http://docbook.org/ns/transclusion">
  <info>
    <!-- can be changed via merge in the assembly -->
    <title>Upgrading to &sle; with the distribution management </title>
    <!-- add author's e-mail -->
    <meta name="maintainer" content="cwickert@suse.com" its:translate="no"/>
    <abstract><!-- can be changed via merge in the assembly -->
      <para>
       Introductory text
      </para>
    </abstract>
  </info>
  <section xml:id="task-sle16-upgrade-introduction">
    <title>Introduction</title>
    <para>
      A paragraph of text.
    </para>
  </section>
  <section xml:id="task-sle16-upgrade-requirements">
    <title>Requirements</title>
    <itemizedlist>
      <listitem>
        <para>
          The system must be registered with the &scc; or a &rmt; server.
          &quot;Pay as you go&quot;-instances in the public cloud are automatically registered
          to the SUSE operated update infrastructure.
        </para>
      </listitem>
      <listitem>
        <para>
          The upgrade path must be supported. Currently it is only possible to upgrade from 
          &productname; 15&nbsp;SP7 to 16.0. It is possible to configure other versions of
          &productname; as the migration target, but doing so is not a tested or supported use case.
        </para>
      </listitem>
      <listitem>
        <para>
         The server that provides the migration target must have the appropriate repositories
         synched and they must be up to date. This requirement is automatically met by the &scc; and
         the &suse;-operated update infrastructure in the public cloud. If you are using a &rmt;
         server, make sure to mirror all relevant channels.
        </para>
      </listitem>
      <listitem>
        <para>

        </para>
      </listitem>
      <listitem>
        <para>
          The operating system needs to reside on a single partition.
          Support for multiple partitions, such as LVM, is limited to configurations where the
          separated partitions do not contain OS critical data or processes. For example, a separate
          <filename>/home</filename> partition will function whereas <filename>/var</filename> will
          not.
        </para>
      </listitem>
    </itemizedlist>
    <note>
      <title>SSH access during upgrade</title>
      <para>
        During the upgrade, it is only possible to log in via SSH key-based login.
        If your system is not configured for it, it is recommended that at least
        one of the users on the system has a <filename>~/.ssh/authorized_keys</filename> file with a
        private key accessible by the person executing the system upgrade.
      </para>
    </note>

    <para>
      A paragraph of text.
    </para>
  </section>
  <section xml:id="task-sle16-upgrade-executing">
    <title>Upgrading to &productname; &productnumber;</title>
    <para>
      There are two ways to start the 
    </para>
    <procedure>
      <para>
        There are two ways to start the actual migration
      </para>
      <step>
        <para>
          Install the <package>SLES16-Migration</package> package
        </para>
        <screen>&prompt.sudo; <command>zypper</command> in SLES16-Migration</screen>
      </step>
      <step>
        <para>
          There are two ways to start the migration
        </para>
        <stepalternatives>
          <step>
            <para>
              <command>kexec</command>-based reboot
            </para>
            <screen>&prompt.sudo; <command>run_migration</command></screen>
          </step>
          <step>
            <para>
              Reboot with grub(loopback)
            </para>
            <screen></screen>
          </step>
        </stepalternatives>
      </step>
      <step>
        <para>
          A third step.
        </para>
      </step>
    </procedure>
  </section>
  <section xml:id="task-sle16-upgrade-summary">
    <title>Summary</title>
    <para>
      A paragraph of text, summing up the result of the task.
    </para>
  </section>
  <section xml:id="task-sle16-upgrade-troubleshooting">
    <title>Troubleshooting</title>
    <para>
      Add some troubleshooting information, if applicable.
    </para>
  </section>
</topic>
