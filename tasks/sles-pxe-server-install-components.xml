<?xml version="1.0" encoding="UTF-8"?>
<!-- This file originates from the project https://github.com/openSUSE/doc-kit -->
<!-- This file can be edited downstream. -->
<!DOCTYPE topic
[
  <!ENTITY % entities SYSTEM "../common/generic-entities.ent">
    %entities;
]>
<!-- refer to README.md for file and id naming conventions -->
<topic xml:id="sles-pxe-server-install-components"
 role="task" xml:lang="en"
 xmlns="http://docbook.org/ns/docbook" version="5.2"
 xmlns:its="http://www.w3.org/2005/11/its"
 xmlns:xi="http://www.w3.org/2001/XInclude"
 xmlns:xlink="http://www.w3.org/1999/xlink"
 xmlns:trans="http://docbook.org/ns/transclusion">
  <info>
    <title>Installing the required PXE server components</title>
    <meta name="maintainer" content="souvik.sarkar@suse.com" its:translate="no"/>
    <abstract>
      <para>
        This section explains how to install the necessary packages to support PXE booting in
        &productname; &productnumber;, including &grub;, &agama;, TFTP, HTTP and DHCP components.
      </para>
    </abstract>
  </info>
  <section xml:id="sles-pxe-server-install-components-intro">
    <title>Introduction</title>
    <para>
      To configure a PXE boot server on &productname; &productnumber;, you need to install several
      services and tools:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          A TFTP server
        </para>
      </listitem>
      <listitem>
        <para>
          A web server to serve installer images
        </para>
      </listitem>
      <listitem>
        <para>
          A DHCP server to assign addresses and direct clients to bootloaders
        </para>
      </listitem>
      <listitem>
        <para>
          The &grub; bootloader packages to provide architecture-specific network boot support.
        </para>
      </listitem>
    </itemizedlist>
  </section>
  <section xml:id="sles-pxe-server-install-components-reqs">
    <title>Requirements</title>
    <itemizedlist>
      <listitem>
        <para>
          A system running &productname; &productnumber; with administrative privileges, registered
          to the SUSE Customer Center and configured with access to the appropriate online
          repositories using SUSEConnect.
        </para>
      </listitem>
      <listitem>
        <para>
          Enabled SLE modules: Server Applications Module, Legacy Module and Basesystem Module.
        </para>
      </listitem>
      <listitem>
        <para>
          Access to the SLE module repositories for network services and bootloaders.
        </para>
      </listitem>
      <listitem>
        <para>
          A working internet connection to fetch packages.
        </para>
      </listitem>
    </itemizedlist>
  </section>
  <section xml:id="sles-pxe-server-install-components-exec">
    <title>Installing the packages</title>
    <para>
      Use the following steps to install the core packages required for the PXE boot server.
    </para>
    <procedure>
      <title>Installing necessary packages for a PXE boot server</title>
      <step>
        <para>
          Run the following command to install essential packages:
        </para>
<screen>&prompt.sudo;<command>zypper install tftp nginx dnsmasq grub2-x86_64-efi grub2-i386-pc shim</command></screen>
      </step>
      <step>
        <para>
          Optionally, install additional architecture-specific &grub; targets if you plan to
          support other platforms. For example: <literal>grub2-aarch64-efi</literal> or
          <literal>grub2-ppc64le-ieee1275</literal>.
        </para>
<screen>&prompt.sudo;<command>zypper install grub2-aarch64-efi</command></screen>
<screen>&prompt.sudo;<command>zypper install grub2-ppc64le-ieee1275</command></screen>
      </step>
      <step>
        <para>
          Ensure the services are installed but not yet started. Configuration will be covered in
          later sections.
        </para>
      </step>
    </procedure>
  </section>
</topic>
