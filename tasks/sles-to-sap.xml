<?xml version="1.0" encoding="UTF-8"?>
<!-- This file originates from the project https://github.com/openSUSE/doc-kit -->
<!-- This file can be edited downstream. -->
<!DOCTYPE topic
[
  <!ENTITY % entities SYSTEM "../common/generic-entities.ent">
    %entities;
]>
<!-- refers to legacy doc: <add github link to legacy doc piece, if applicable> -->
<!-- point back to this document with a similar comment added to your legacy doc piece -->
<!-- refer to README.md for file and id naming conventions -->
<!-- metadata is dealt with on the assembly level -->
<topic xml:id="sles-to-sap-convert"
 role="task" xml:lang="en"
 xmlns="http://docbook.org/ns/docbook" version="5.2"
 xmlns:its="http://www.w3.org/2005/11/its"
 xmlns:xi="http://www.w3.org/2001/XInclude"
 xmlns:xlink="http://www.w3.org/1999/xlink"
 xmlns:trans="http://docbook.org/ns/transclusion">
  <info>
    <title>Performing conversion of a &sles; system to &sles4sap;</title><!-- can be changed via merge
in the assembly -->
    <!-- add author's e-mail -->
    <meta name="maintainer" content="" its:translate="no"/>
    <abstract><!-- can be changed via merge in the assembly -->
      <para>
       &sles; ships with a dedicated script that simplifies the process of converting a &slsa; system to &sles4sap;.
      </para>
    </abstract>
  </info>
  <section xml:id="task-convert-sles-to-sap">
    <title>Converting a &slsa; installation to a &s4sa; installation</title>
  <para>
   To convert an installation of &sls; &productnumber; or &jeos;
   &productnumber; to an installation of &s4sa;, use the script
   <command>Migrate_SLES_to_SLES-for-SAP.sh</command>. The script
   registers the system correctly and subscribes it to the appropriate
   repositories.
  </para>
  <para>
   Make sure that you have an e-mail address for registration and a
   registration code for &s4sa;.
  </para>
  <procedure xml:id="pro-convert-sles">
   <step>
    <para>
     Install the package <package>migrate-sles-to-sles4sap</package>.
    </para>
   </step>
   <step>
    <para>
     Run the following command:
    </para>
    <screen>&prompt.root;<command>Migrate_SLES_to_SLES-for-SAP.sh</command></screen>
   </step>
   <step>
    <para>
     When asked to confirm to continue the migration, press
     <keycap>Y</keycap>, then <keycap function="enter"/>.
    </para>
   </step>
   <step>
    <para>
     When asked, type the e-mail address to use for registration, then press
     <keycap function="enter"/>.
    </para>
   </step>
   <step>
    <para>
     When asked, type the registration key, then press
     <keycap function="enter"/>.
    </para>
    <para>
     Wait until the script is finished. Afterward, you are subscribed to the
     &s4s; software repositories and the package
     <package>SLES-release</package> is removed in favor of
     <package>SLES_SAP-release</package>.
    </para>
   </step>
  </procedure>

  <important>
   <title>Script does not install default &s4sa; packages</title>
   <para>
    The script does not install all packages that are included with a default
    &s4sa; installation. However, you can install these yourself manually.
    To install the default package selection, use:
   </para>
    <screen>
&prompt.root;<command>zypper in patterns-server-enterprise-sap_server</command>
    </screen>
  </important>
  <warning>
    <title>Migration script on public cloud</title>
    <para>
      On public cloud instances (pay-as-you-go instances in particular), billing
      depends on internal mechanisms to identify the entitlement and to calculate
      the actual consumption. This makes the migration script ineffective, as it
      only performs migration of repositories inside the operating system.
    </para>
    <para>
      To perform migration, you must follow image migration guidelines with your
      cloud solution provider.
    </para>
    </warning>
  </section>
</topic>
