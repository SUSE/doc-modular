<?xml version="1.0" encoding="UTF-8"?>
<!-- This file originates from the project https://github.com/openSUSE/doc-kit -->
<!-- This file can be edited downstream. -->
<!DOCTYPE topic
[
  <!ENTITY % entities SYSTEM "../common/generic-entities.ent">
    %entities;
]>
<!-- refers to legacy doc: <add github link to legacy doc piece, if applicable> -->
<!-- point back to this document with a similar comment added to your legacy doc piece -->
<!-- refer to README.md for file and id naming conventions -->
<!-- metadata is dealt with on the assembly level -->
<topic xml:id="snapper-system-rollback-from-bootable-snapshot"
 role="task" xml:lang="en"
 xmlns="http://docbook.org/ns/docbook" version="5.2"
 xmlns:its="http://www.w3.org/2005/11/its"
 xmlns:xi="http://www.w3.org/2001/XInclude"
 xmlns:xlink="http://www.w3.org/1999/xlink"
 xmlns:trans="http://docbook.org/ns/transclusion">
  <info>
    <title>Performing a rollback from a bootable snapshot</title><!-- can be changed via merge
in the assembly -->
    <!-- add author's e-mail -->
    <meta name="maintainer" content="daria.vladykina@suse.com" its:translate="no"/>
    <abstract><!-- can be changed via merge in the assembly -->
      <para>
       This section contains a procedure that describes rolling back
       the system from a bootable snapshot.
      </para>
    </abstract>
  </info>
  
  <para>
    To perform a rollback from a bootable snapshot, follow these steps:
   </para>
 
   <procedure>
    <step>
     <para>
      Boot the system. In the boot menu, choose <guimenu>Bootable
      snapshots</guimenu> and select the snapshot you want to boot. The list of
      snapshots is listed by date&mdash;the most recent snapshot is listed
      first (it is most likely one of the last <literal>pre</literal> snapshots).
     </para>
    </step>
    <step>
     <para>
      Log in to the system. Carefully check whether everything works as
      expected. Note that the selected snapshot is read-only, so you cannot 
      write to any directory that is part of this snapshot. The data you write 
      to other directories will <emphasis>not</emphasis> get lost, regardless 
      of what you do next.
     </para>
    </step>
    <step>
     <para>
      Depending on whether you want to perform the rollback or not, choose your
      next step:
     </para>
     <substeps performance="required">
      <step>
       <para>
        If the system is in a state where you do not want to do a rollback,
        reboot to boot into the current system state. You can then choose a different
        snapshot, or start the rescue system.
       </para>
      </step>
      <step>
       <para>
        To perform the rollback, run:
       </para>
 <screen>&prompt.sudo;snapper rollback</screen>
       <para>
        All you need to do now is reboot your system to complete the 
        snapshot restore process. On the boot screen, choose the default 
        boot entry to reboot into the reinstated system. &snapper; creates
        a snapshot of the file system status before the rollback. The default
        subvolume for &rootuser; will be replaced with a fresh read-write 
        snapshot. For details, see <xref linkend="snapper-system-rollback-after-rollback"/>.
        </para>
        <para>
         It is useful to add a description for the snapshot with the <option>-d</option> option.
         For example:
        </para>
<screen>New file system root since rollback on <replaceable>DATE</replaceable> <replaceable>TIME</replaceable></screen>
      </step>
     </substeps>
    </step>
   </procedure>
   <tip>
    <title>Rolling back to a specific installation state</title>
    <para>
     If snapshots are not disabled during installation, an initial bootable
     snapshot is created at the end of the initial system installation. You can
     go back to that state at any time by booting this snapshot. The snapshot
     can be identified by the description <literal>after installation</literal>.
    </para>
    <para>
     A bootable snapshot is also created when starting a system upgrade to a
     service pack or a new major release (provided snapshots are not disabled).
    </para>
   </tip>

  </topic>
