<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic
[
  <!ENTITY % entities SYSTEM "../common/generic-entities.ent">
    %entities;
]>
<!-- refers to legacy doc: https://github.com/SUSE/doc-sle/blob/main/xml/adm_sudo.xml -->
<!-- point back to this document with a similar comment added to your legacy doc piece -->
<!-- refer to README.md for file and id naming conventions -->
<!-- metadata is dealt with on the assembly level -->
<topic xml:id="sudo-start-shell-as-root"
 role="task" xml:lang="en"
 xmlns="http://docbook.org/ns/docbook" version="5.2"
 xmlns:its="http://www.w3.org/2005/11/its"
 xmlns:xi="http://www.w3.org/2001/XInclude"
 xmlns:xlink="http://www.w3.org/1999/xlink"
 xmlns:trans="http://docbook.org/ns/transclusion">
  <title>Starting a shell with root privileges</title>
  <info>
    <meta name="maintainer" content="Julia Faltenbacher"/>
    <abstract>
    <para>
    Start a shell with permanent root privileges by using the
    <command>sudo -s</command> or <command>sudo -i</command> command. With this
    you are prompted for the root password only once.
    </para>
    </abstract>
  </info>
  <section xml:id="task-sudo-start-shell-as-root-introduction">
    <title>Introduction</title>
    <para>
      Having to enter &sudo; every time you want to run a command as root can
      become tedious. Instead, you can use one of the built-in mechanisms to
      start a shell with permanent root privileges.
    </para>
  </section>
  <section xml:id="task-sudo-start-shell-as-root-requirements">
    <title>Requirements</title>
    <itemizedlist>
      <listitem>
        <para>
          Basic understanding of <command>sudo</command>
        </para>
      </listitem>
      <listitem>
        <para>
          root privileges
        </para>
      </listitem>
    </itemizedlist>
  </section>
  <section xml:id="task-sudo-start-shell-with-s">
    <title>Starting a shell with <command>sudo -s</command></title>
    <para>
      The <command>sudo -s</command> command launches a new shell. After 
      successful authentication with the root password, all subsequent commands
      are executed with elevated privileges.
    </para>
    <para>
    Which shell is opened is specified by the <envar>SHELL</envar> environment
    variable or the user's default shell. In case this variable is empty, the
    shell defined in the <filename>/etc/passwd</filename> is picked up.
    </para>
    <para>
    To start a shell with permanently elevated privileges, enter the following
    command:
    </para>
<screen>
<prompt>&exampleuser_plain;:~ &gt; </prompt>sudo -s
root's password:
<prompt>root:/home/tux # </prompt>exit
<prompt>&exampleuser_plain;:~ &gt; </prompt>
</screen>
<para>
The command prompt is now shown in red which indicates, that the commands are
executed with elevated privileges.
</para>
  </section>
<section xml:id="task-sudo-start-shell-with-i">
    <title>Starting a shell with <command>sudo -i</command></title>
    <para>
      The <command>sudo -i</command> is similar to the
      <command>sudo -s</command> command-line option but it will not prompt you
      for the root password.
    </para>
    <para>
    To start a shell with permanently elevated privileges, enter the following
    command:
      </para>
<screen>
<prompt>&exampleuser_plain;:~ &gt; </prompt>sudo -i
root's password:
<prompt>root:~ # </prompt>exit
<prompt>&exampleuser_plain;:~ &gt; </prompt>
</screen>
<tip>
        <title>Environment variables</title>
        <para>
          By default, &sudo; does not propagate environment variables. This
          behavior can be changed using the <literal>env_reset</literal> option.
        </para>
      </tip>
  </section>
<!--  <section xml:id="task-sudo-start-shell-as-root-summary">
    <title>Summary</title>
    <para>
      A paragraph of text, summing up the result of the task.
    </para>
  </section> -->
</topic>
