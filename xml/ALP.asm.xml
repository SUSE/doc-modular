<?xml version="1.0" encoding="UTF-8"?>
<?xml-model href="http://docbook.org/xml/5.2/rng/assembly.rng" schematypens="http://relaxng.org/ns/structure/1.0"?>
<?xml-model href="http://docbook.org/xml/5.2/sch/assembly.sch" type="application/xml" schematypens="http://purl.oclc.org/dsdl/schematron"?>

<!DOCTYPE assembly
[
    <!ENTITY % entities SYSTEM "generic-entities.ent">
    %entities;
]>

<assembly version="5.2" xmlns="http://docbook.org/ns/docbook">
    <resources>
        <description>Concepts</description>
        <resource xml:id="alp-concept-alp" href="concept-alp.xml"/>
        <resource xml:id="alp-concept-config-ignition" href="concept-configure-ignition.xml"></resource>
    </resources>
    <resources>
        <description>References</description>
        <resource xml:id="alp-ref-ignition-config" href="reference-ignition-configuration"/>
    </resources>
    <resources>
        <description>Tasks</description>
        <resource xml:id="alp-task-convert-yaml-to-json" href="task-convert-yaml-to-json.xml"/>
        <resource xml:id="alp-task-deploy-alp" href="task-deploy-alp.xml"/>
        <resource xml:id="alp-task-enable-cockpit" href="task-enable-cockpit.xml"/>
    </resources>

    <structure>
        <module renderas="book">
            <merge>
                <title>ALP Documentation</title>
            </merge>
        </module>

        <!-- Concepts -->
        <module resourceref="alp-concept-alp" renderas="chapter"/>

        <!-- Tasks -->
        <module renderas="chapter" resourceref="alp-task-deploy-alp">

            <module renderas="section" resourceref="alp-concept-config-ignition">
                <module renderas="section" resourceref="alp-task-convert-yaml-to-json"/>
                <module renderas="section" resourceref="alp-ref-ignition-config"/>
            </module>
        </module>

        <module renderas="chapter" resourceref="alp-task-enable-cockpit"/>

        <!-- ... -->
    </structure>
</assembly>
