<?xml version="1.0" encoding="UTF-8"?>
<?xml-model href="http://docbook.org/xml/5.2/rng/assembly.rng" schematypens="http://relaxng.org/ns/structure/1.0"?>
<?xml-model href="http://docbook.org/xml/5.2/sch/assembly.sch" type="application/xml" schematypens="http://purl.oclc.org/dsdl/schematron"?>

<!DOCTYPE assembly
[
    <!ENTITY % entities SYSTEM "generic-entities.ent">
    %entities;
]>

<assembly version="5.2" xmlns="http://docbook.org/ns/docbook">
    <resources>
        <description>Concepts</description>
        <resource xml:id="alp-concept-alp" href="concept-alp.xml"/>
        <resource xml:id="alp-concept-config-ignition" href="concept-configure-ignition.xml"></resource>
        <resource xml:id="alp-concept-transactional-update" href="concept-transactional-update.xml"></resource>
    </resources>
    <resources>
        <description>References</description>
        <resource xml:id="alp-ref-ignition-config" href="reference-ignition-configuration"/>
        <resource xml:id="alp-ref-transactional-update-usage" href="reference-transactional-update-usage.xml"/>
    </resources>
    <resources>
        <description>Tasks</description>
        <resource xml:id="alp-task-convert-yaml-to-json" href="task-convert-yaml-to-json.xml"/>
        <resource xml:id="alp-task-deploy-alp" href="task-deploy-alp.xml"/>
        <resource xml:id="alp-task-enable-cockpit" href="task-enable-cockpit.xml"/>
    </resources>

<!-- 2022-09-07, Tomáš Bažant, ALP prototype documentation skeleton

ALP documentation
|
+- Concept: ALP ✔
|
+- Task: Deploying ALP ✔
|  |
|  +- Concept: Configuration with Ignition ✔
|  |  |
|  |  +- Task: Converting YAML file into JSON ✔
|  |  |
|  |  +- Reference: Examples of Ignition configuration ✔
|  |
|  +- Task: Configuration with Combustion ❌
|
+- Concept: Administration using transactional-update ✔
|  |
|  +- Reference: Usage of the transactional-update command ✔
|
+- Task: Enabling Cockpit ✔
|
+- Task: Installing and running workloads on the command line ❌
|
+- Task: Installing and running workloads by using Cockpit ❌
|
+- Reference: List of available workloads (YaST, gdm, grafana...) ❌

-->

    <structure>
        <module renderas="book">
         <merge>
          <title>ALP Documentation</title>
         </merge>
        </module>

        <module renderas="chapter" resourceref="alp-concept-alp"/>
        <module renderas="chapter" resourceref="alp-task-deploy-alp">
         <module renderas="section" resourceref="alp-concept-config-ignition">
          <module renderas="section" resourceref="alp-task-convert-yaml-to-json"/>
          <module renderas="section" resourceref="alp-ref-ignition-config"/>
         </module>
        </module>
        <module renderas="chapter" resourceref="alp-concept-transactional-update">
         <module renderas="section" resourceref="alp-ref-transactional-update-usage"/>
        <module renderas="chapter" resourceref="alp-task-enable-cockpit"/>

    </structure>
</assembly>
