<?xml version="1.0" encoding="UTF-8"?>
<!-- This file originates from the project https://github.com/openSUSE/doc-kit -->
<!-- This file can be edited downstream. -->

<?xml-stylesheet href="urn:x-suse:xslt:profiling:docbook51-profile.xsl"
 type="text/xml"
 title="Profiling step"?>
<!DOCTYPE article
[
  <!ENTITY % entities SYSTEM "generic-entities.ent">
    %entities;
]>

<!--metadata
  * product(s): SLES, SLED, SLE-HA (?), SLES-SAP (?), SLE-HPC (?), SLE-RT (?)
  * product version(s): 15 SP3, 15 SP2, 15 SP1
  * topic category/ies: system administration
  * target group(s): system operators
  * initially published: ?
  * last modified: ?-->

<!-- From sec-register-sle-add-modules in deployment_register.xml -->


<article xml:id="task-delete-modules-extensions" xml:lang="en"
 role="task"
 xmlns="http://docbook.org/ns/docbook" version="5.1"
 xmlns:xi="http://www.w3.org/2001/XInclude"
 xmlns:xlink="http://www.w3.org/1999/xlink">

 <info>
   <title>Managing modules and extensions in a running system</title>
   <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
    <dm:bugtracker>
     <dm:url>https://bugzilla.suse.com/enter_bug.cgi</dm:url>
     <dm:component>Documentation</dm:component>
     <dm:product>Product Name</dm:product>
     <dm:assignee>assignee@suse.com</dm:assignee>
    </dm:bugtracker>
    <dm:translation>no</dm:translation>
   </dm:docmanager>
 </info>

 <section xml:id="introduction-delete-modules-extensions">
  <title>Introduction</title>
   <para>
    <!--Needs new intro-->
   </para>
 </section>

 <section xml:id="requirements-delete-modules-extensions">
  <title>Requirements</title>
  <itemizedlist>
   <listitem>
    <para>
     You have installed your product and your system is up and running.
    </para>
   </listitem>
   <listitem>
    <para>
     Your product is registered at the &scc; or an &rmt; server.
    </para>
   </listitem>
  </itemizedlist>
 </section>

 <section xml:id="yast-delete-modules-extensions">
  <title>Deleting modules and extensions with &yast;</title>
  <procedure>
   <step>
    <para>
     Start &yast; and select <menuchoice><guimenu>Software</guimenu>
      <guimenu>Add-On Products</guimenu></menuchoice>.
    </para>
    <informalfigure>
     <mediaobject>
      <textobject role="description">
       <phrase><guimenu>Installed Add-on Products</guimenu> dialog</phrase>
      </textobject>
      <imageobject role="fo">
       <imagedata fileref="yast2_addon_installed_sles.png"
                  width="75%" format="png"/>
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="yast2_addon_installed_sles.png"
                  width="100%" format="png"/>
      </imageobject>
     </mediaobject>
    </informalfigure>
   </step>
   <step>
    <para>
     Choose the module or extension that should be removed and click
     <guimenu>Delete</guimenu>. Confirm the warning saying that all packages
     from the selected component will be removed.
    </para>
   </step>
   <step>
    <para>
     The &yast; Software Manager opens and lists all installed
     packages from the deleted module or extension. Click
     <guimenu>Accept</guimenu> to remove all of them. It is strongly
     recommended to do so, because you will no longer get updates for packages
     from deleted modules or extensions. In case you keep packages, make sure
     to at least remove the <literal>*-release</literal> package for each
     module or extension that gets deleted.
    </para>
    <para>
     Proceed with <guimenu>Accept</guimenu> and then <guimenu>OK</guimenu>.
    </para>
   </step>
  </procedure>
  <warning>
   <title>Deleting modules</title>
   <para>
    Never delete the <guimenu>Basesystem Module</guimenu>. It is also not
    recommended to delete the <phrase os="sles"><guimenu>Server Applications
    Module</guimenu></phrase><phrase os="sled">, <guimenu>&slewe;</guimenu>
    and <guimenu>Desktop Applications Module</guimenu></phrase>.
   </para>
  </warning>
  <warning>
   <title>No updates for packages from deleted modules and extensions</title>
   <para>
    If you choose to keep packages from deleted modules or extensions, you
    will no longer receive updates for these packages. Because this includes
    security fixes, keeping such packages may introduce a security risk to
    your system.
   </para>
  </warning>
 </section>

 <section xml:id="commandline-delete-modules-extensions">
  <title>Deleting modules and extensions from the command line</title>
  <procedure>
   <step>
    <para>
     Run <command>SUSEConnect -list-extensions</command> to get an overview of
     available modules and extensions. You will see output similar to the following:
    </para>
    <screen>&prompt.user;<command>sudo SUSEConnect -list-extensions</command>
AVAILABLE EXTENSIONS AND MODULES

 Basesystem Module &product-ga; SP&product-sp; x86_64 (Activated)
 Deactivate with: SUSEConnect -d -p sle-module-basesystem/&productnumbershort;/x86_64

   SUSE Cloud Application Platform Tools Module &product-ga; SP&product-sp; x86_64
   Activate with: SUSEConnect -p sle-module-cap-tools/&productnumbershort;/x86_64

   SUSE Package Hub &product-ga; SP&product-sp; x86_64
   Activate with: SUSEConnect -p PackageHub/&productnumbershort;/x86_64

[...]</screen>
   </step>
   <step>
    <para>
     Run the commands in the listing for deactivating a module or
     extension to delete a component.
    </para>
   </step>
  </procedure>
  <warning>
   <title>Deleting modules</title><!-- Move this to the top-->
   <para>
    Never delete the <guimenu>Basesystem Module</guimenu>. It is also not
    recommended to delete the <phrase os="sles"><guimenu>Server Applications
    Module</guimenu></phrase><phrase os="sled">, <guimenu>&slewe;</guimenu>
    and <guimenu>Desktop Applications Module</guimenu></phrase>.
   </para>
  </warning>
  <important><!-- Add to procedure as step, and also description to the top -->
   <title>No automated removal of packages</title>
   <para>
    When using <command>SUSEConnect</command> to delete modules and
    extensions, no automatic cleanup is done. All packages that belonged to the
    module or extension remain installed on the system, but are longer associated
    with a repository and therefore do not receive updates. You must remove them
    manually with Zypper on the command
    line, or by starting &yast; and selecting <menuchoice><guimenu>Software</guimenu>
     <guimenu>Software Management</guimenu></menuchoice>.
   </para>
  </important>
  <warning><!-- Move this to the top-->
   <title>No updates for packages from deleted modules and extensions</title>
   <para>
    If you choose to keep packages from deleted modules or extensions, you
    will no longer receive updates for these packages. Because this includes
    security fixes, keeping such packages may introduce a security risk to
    your system.
   </para>
  </warning>
 </section>

 <section xml:id="summary-delete-modules-extensions">
  <title>Summary</title>
  <para>
   All deleted components are deregistered, and the associated repositories are
   removed from your system.
  </para>
  <para>
   If you used the command line, the packages that belonged to the module or
   extension are not removed automatically. You must manually remove packages
   with Zypper or &yast;.
  </para>
 </section>

 <!--section xml:id="troubleshooting-delete-modules-extensions">
  <title>Troubleshooting</title>
  <para>A paragraph of text.</para>
  <variablelist>
   <varlistentry>
    <term>Problem phrased as question</term>
    <listitem>
     <para>
      A paragraph of text.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Another problem phrased as question</term>
    <listitem>
     <para>
      Another paragraph of text.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </section-->

 <!--section xml:id="next-delete-modules-extensions">
  <title>Next steps</title>
  <itemizedlist>
   <listitem>
    <para>
     An
    </para>
   </listitem>
   <listitem>
    <para>
     Unordered
    </para>
   </listitem>
   <listitem>
    <para>
     List
    </para>
   </listitem>
  </itemizedlist>
 </section-->

 <section xml:id="related-delete-modules-extensions">
  <title>Related topics</title>
  <itemizedlist>
   <listitem>
    <para>
     <citetitle>Modules and Extensions Quick Start</citetitle>
    </para>
   </listitem>
   <!--listitem>
    <para>
     Deleting packages, using yast, using zypper, etc.
    </para>
   </listitem-->
   <listitem>
    <para>
     <citetitle>Adding modules and extensions after installation</citetitle>
    </para>
   </listitem>
  </itemizedlist>
 </section>
</article>
