<?xml version="1.0" encoding="UTF-8"?>
<!-- This file originates from the project https://github.com/openSUSE/doc-kit -->
<!-- This file can be edited downstream. -->
<?xml-stylesheet href="urn:x-suse:xslt:profiling:docbook51-profile.xsl"
 type="text/xml"
 title="Profiling step"?>
<!DOCTYPE article
[
  <!ENTITY % entities SYSTEM "generic-entities.ent">
    %entities;
]>
<article xml:id="task-deploy-alp-vm" xml:lang="en"
 role="task"
 xmlns="http://docbook.org/ns/docbook" version="5.1"
 xmlns:its="http://www.w3.org/2005/11/its"
 xmlns:xi="http://www.w3.org/2001/XInclude"
 xmlns:xlink="http://www.w3.org/1999/xlink">
 <info>
  <title>Deploying the &alp; on a &vmhost;</title>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker>
    <dm:url>https://bugzilla.suse.com/enter_bug.cgi</dm:url>
    <dm:component>Smart Docs</dm:component>
    <dm:product>Documentation</dm:product>
    <dm:assignee>tbazant@suse.com</dm:assignee>
   </dm:bugtracker>
   <dm:translation>no</dm:translation>
  </dm:docmanager>
 </info>
 <section xml:id="introduction-deploy-alp-vm">
  <title>Introduction</title>
  <para>
   The &alp; (&alpshort;) is a minimal operating system that runs containerized workloads. You can
   run it on a bare metal host, virtualized, or in a cloud environment.
  </para>
 </section>
 <section xml:id="requirements-deploy-alp-vm">
  <title>Requirements</title>
  <itemizedlist>
   <listitem>
    <para>
     Access to the host system - either a bare metal host or a &vmhost; with a
     supported hypervisor.
    </para>
   </listitem>
   <listitem>
    <para>
     Internet access to a server with downloadable &alpshort; images.
    </para>
   </listitem>
  </itemizedlist>
  <section xml:id="requirements-supported-architectures">
   <title>Supported architectures</title>
   <para>
    The following CPU architectures are supported:
   </para>
   <itemizedlist>
    <listitem>
     <para>
      &x86-64;
     </para>
    </listitem>
   </itemizedlist>
  </section>
  <section xml:id="requirements-supported-hypervisors">
   <title>Supported hypervisors</title>
   <para>
    The following virtualization hypervisors are supported:
   </para>
   <itemizedlist>
    <listitem>
     <para>
      &kvm;
     </para>
    </listitem>
   </itemizedlist>
  </section>
 </section>
 <section xml:id="alp-deployment">
  <title>Deploying &alpshort; as a &kvm; virtual machine</title>
  <para>
   This procedure describes steps to deploy &alpshort; as a &kvm; virtual machine using the &vmm;.
  </para>
  <procedure>
   <step>
    <para>
     Download &alpshort; virtual machine image on the host where you will run &alpshort;. Go to
     &alp-dld-site;, select the image depending on the preferred hypervisor and architecture, and
     download it. For example:
    </para>
<screen>&prompt.user;curl -LO https://download.opensuse.org/repositories/SUSE:/ALP/images/ALP.x86_64-0.1-kvm-and-xen-Build2.1.qcow2</screen>
   </step>
   <step>
    <para>
     If the image is compressed (its file name ends with <literal>xz</literal>), uncompress it
     first:
    </para>
<screen>&prompt.user;unxz ALP.x86_64-0.1-SelfInstall-Build2.1.raw.xz</screen>
   </step>
   <step>
    <para>
     Start &vmm;, select <menuchoice><guimenu>File</guimenu><guimenu>New VM</guimenu></menuchoice>
     and select <guimenu>Import existing disk image</guimenu>. Confirm with
     <guimenu>Forward</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Specify the path to the &alpshort; virtual machine image that you previously downloaded and the
     type of linux OS you are deploying, for example <literal>Generic Linux 2020</literal>. Confirm
     with <guimenu>Forward</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Specify the amount of memory and number of processor that you want to dedicate the &alpshort;
     virtual machine and confirm with <guimenu>Forward</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Specify name for the virtual machine and a network to be used, and confirm with
     <guimenu>Finish</guimenu>.
    </para>
   </step>
   <step>
    <para>
     The newly created virtual machine will boot the &alpshort; disk image, presenting you with a
     bootloader screen. Select <guimenu>&alpshort;</guimenu> and hit
     <keycap
     function="enter"></keycap>.
    </para>
    <figure>
     <title>&alpshort; boot screen</title>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="alp-deploy-1.png" width="75%"/>
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="alp-deploy-1.png" width="75%"/>
      </imageobject>
      <textobject role="description"><phrase>&alpshort; boot screen</phrase>
      </textobject>
     </mediaobject>
    </figure>
   </step>
   <step>
    <para>
     After the virtual machine boots, it displays the <guimenu>&jeos; Firstboot</guimenu> screen.
     Confirm with <keycap function="enter"></keycap>.
    </para>
    <figure>
     <title>&jeos; firstboot screen</title>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="alp-deploy-firstboot.png" width="75%"/>
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="alp-deploy-firstboot.png" width="75%"/>
      </imageobject>
      <textobject role="description"><phrase>&jeos; firstboot screen</phrase>
      </textobject>
     </mediaobject>
    </figure>
   </step>
   <step>
    <para>
     On the next screens, select keyboard, confirm the license agreement, and select the time zone.
    </para>
   </step>
   <step>
    <para>
     In the <guimenu>Enter root password</guimenu> dialog window, enter a password for the
     &rootuser; and confirm it once more.
    </para>
    <figure>
     <title>Enter root password</title>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="alp-deploy-rootpwd.png" width="75%"/>
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="alp-deploy-rootpwd.png" width="75%"/>
      </imageobject>
      <textobject role="description"><phrase>Enter root password</phrase>
      </textobject>
     </mediaobject>
    </figure>
   </step>
  </procedure>
 </section>
 <section xml:id="summary-deploy-alp-vm">
  <title>Summary</title>
  <para>
   After the deployment of &alpshort; is finished, you are presented with the login prompt. Log in
   as &rootuser; and you are ready to setup the system and install additional workloads and
   applications.
  </para>
 </section>
 <!--
  <section xml:id="troubleshooting-deploy-alp-vm">
  <title>Troubleshooting</title>
  <para>
  A paragraph of text.
  </para>
  <variablelist>
  <varlistentry>
  <term>Problem phrased as question</term>
  <listitem>
  <para>
  A paragraph of text.
  </para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term>Another problem phrased as question</term>
  <listitem>
  <para>
  Another paragraph of text.
  </para>
  </listitem>
  </varlistentry>
  </variablelist>
  </section>
  -->
 <section xml:id="next-deploy-alp-vm">
  <title>Next steps</title>
  <itemizedlist>
   <listitem>
    <para>
     Install &cockpit; and &yast;.
    </para>
   </listitem>
  </itemizedlist>
 </section>
 <section xml:id="related-deploy-alp-vm">
  <title>Related topics</title>
  <itemizedlist>
   <listitem>
    <para>
     General description of &alpshort; is in CONCEPT.
    </para>
   </listitem>
   <listitem>
    <para>
     Find detailed information about using the &vmm; in
     <link
     xlink:href="https://documentation.suse.com/sles/html/SLES-all/cha-kvm-inst.html"/>
     and
     <link
     xlink:href="https://documentation.suse.com/sles/15-SP4/html/SLES-all/cha-libvirt-config-gui.html"/>.
    </para>
   </listitem>
  </itemizedlist>
 </section>
</article>
