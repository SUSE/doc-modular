<?xml version="1.0" encoding="UTF-8"?>
<!-- This file originates from the project https://github.com/openSUSE/doc-kit -->
<!-- This file can be edited downstream. -->
<?xml-stylesheet href="urn:x-suse:xslt:profiling:docbook51-profile.xsl"
 type="text/xml"
 title="Profiling step"?>
<!DOCTYPE article
[
  <!ENTITY % entities SYSTEM "generic-entities.ent">
    %entities;
]>
<article xml:id="task-enable-cockpit" xml:lang="en"
 role="task"
 xmlns="http://docbook.org/ns/docbook" version="5.1"
 xmlns:its="http://www.w3.org/2005/11/its"
 xmlns:xi="http://www.w3.org/2001/XInclude"
 xmlns:xlink="http://www.w3.org/1999/xlink">
 <info>
  <title>Enabling &cockpit;</title>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker>
    <dm:url>https://bugzilla.suse.com/enter_bug.cgi</dm:url>
    <dm:component>Smart Docs</dm:component>
    <dm:product>Documentation</dm:product>
    <dm:assignee>tbazant@suse.com</dm:assignee>
   </dm:bugtracker>
   <dm:translation>no</dm:translation>
  </dm:docmanager>
 </info>
 <section xml:id="introduction-enable-cockpit">
  <title>Introduction</title>
  <para>
   &cockpit; is a tool to administer one or more hosts from one place via a Web
   user interface. Its default functionality is extended by plug-ins that you
   can install additionally.
  </para>
 </section>
 <section xml:id="requirements-enable-cockpit">
  <title>Requirements</title>
  <itemizedlist>
   <listitem>
    <para>
     For running &cockpit; on top of the &alp; (&alpshort;), you need to finish
     the deployment of &alpshort; base OS.
    </para>
   </listitem>
  </itemizedlist>
 </section>
 <section xml:id="enable-cockpit-alp">
  <title>Enabling &cockpit; on &alpshort;</title>
  <para>
   To install and enable &cockpit; and its Web interface, follow these steps:
  </para>
  <tip>
   <para>
    You do not need the &cockpit; Web user interface installed on every
    &alpshort; host. One instance of the Web interface can connect to multiple
    hosts if they have the <package>alp_cockpit</package> pattern installed.
   </para>
  </tip>
  <procedure>
   <step>
    <para>
     Verify that the <package>alp_cockpit</package> software pattern is
     installed and install it if it is missing on the host:
    </para>
<screen>&prompt.root;transactional-update pkg install -t pattern alp_cockpit</screen>
   </step>
   <step>
    <para>
     Install the <package>cockpit-ws</package> package on the &alpshort; host:
    </para>
<screen>&prompt.root;transactional-update pkg install cockpit-ws</screen>
   </step>
   <step>
    <para>
     Reboot the &alpshort; host:
    </para>
<screen>&prompt.root;reboot</screen>
   </step>
   <step>
    <para>
     After the host reboots, enable and run the
     <filename>cockpit.socket</filename> unit:
    </para>
<screen>&prompt.root;systemctl enable --now cockpit.socket</screen>
   </step>
   <step>
    <para>
     If the <systemitem class="daemon">firewalld</systemitem> service is
     running, it may block access to &cockpit;. To allow the &cockpit; service,
     run the following commands:
    </para>
<screen>&prompt.root;firewall-cmd --add-service=cockpit --permanent
&prompt.root;firewall-cmd --reload</screen>
   </step>
   <step>
    <para>
     To view the &cockpit; Web user interface, point your Web browser to the
     following address and accept the self-signed certificate:
    </para>
<screen>https://<replaceable>HOSTNAME_OR_IP_OF_ALP_HOST:9090</replaceable></screen>
    <figure>
     <title>&cockpit; running on &alpshort;</title>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="alp-cockpit.png" width="100%"/>
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="alp-cockpit.png" width="100%"/>
      </imageobject>
      <textobject role="description"><phrase>&cockpit; running on &alpshort;</phrase>
      </textobject>
     </mediaobject>
    </figure>
   </step>
  </procedure>
 </section>
 <section xml:id="next-enable-cockpit">
  <title>Next steps</title>
  <itemizedlist>
   <listitem>
    <para>
     Install and run additional workloads.
    </para>
   </listitem>
  </itemizedlist>
 </section>
 <section xml:id="related-enable-cockpit">
  <title>Related topics</title>
  <itemizedlist>
   <listitem>
    <para>
     ADD_ME
    </para>
   </listitem>
  </itemizedlist>
 </section>
</article>
