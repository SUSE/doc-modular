<?xml version="1.0" encoding="UTF-8"?>
<!-- This file originates from the project https://github.com/openSUSE/doc-kit -->
<!-- This file can be edited downstream. -->
<?xml-stylesheet href="urn:x-suse:xslt:profiling:docbook51-profile.xsl"
 type="text/xml"
 title="Profiling step"?>
<!DOCTYPE article
[
  <!ENTITY % entities SYSTEM "generic-entities.ent">
    %entities;
]>
<article xml:id="task-post-deployment-considerations" xml:lang="en"
 role="task"
 xmlns="http://docbook.org/ns/docbook" version="5.1"
 xmlns:its="http://www.w3.org/2005/11/its"
 xmlns:xi="http://www.w3.org/2001/XInclude"
 xmlns:xlink="http://www.w3.org/1999/xlink">
  <title>Post-deployment considerations</title>
  <section xml:id="introduction-post-deployment-considerations">
    <title>Introduction</title>
    <para>
      This article includes important information and tasks that you need to
      consider after you successfully deploy the &alp; (&alpshort;).
    </para>
  </section>
  <section xml:id="alp-post-deploy-full-disk-encryption">
    <title>Full disk encryption</title>
    <section xml:id="alp-post-deploy-full-disk-encryption-password">
      <title>Change encryption password</title>
      <para>
        During the &alpshort; deployment, you entered a password that is used
        for disk encryption. If you want to change the password, run the
        following command:
      </para>
<screen>&prompt.root;fdectl passwd</screen>
    </section>
    <section xml:id="alp-post-deploy-full-disk-encryption-tpm">
      <title>TPM device</title>
      <para>
        Without a TPM chip, you need to enter the encryption password to
        decrypt the disk on each &alpshort; boot. On systems that have a TPM
        2.0 chip, &alpshort; deployed with &dinstaller; supports the automatic
        protection of the LUKS volume with a TPM device. The requirement is
        that the machine must use the &uefisecboot; enabled.
      </para>
      <para>
        If the &dinstaller; detects a TPM 2.0 chip and &uefisecboot;, it will
        create a secondary LUKS key. On the first boot, &alpshort; will use the
        TPM to protect this key and configure the &grub; boot loader to
        automatically unwrap the key. Be aware that you must remove the ISO
        after the installer has finished and before the system boots for
        the first time. This is because we use the TPM to ensure that the
        system comes up with exactly the same configuration before
        unlocking the LUKS partition.
      </para>
      <para>
        This allows you to use the full disk encryption without having to type
        the disk password on each reboot. However, the disk password is still
        there and can be used for recovery. For example, after updating the
        &grub; boot loader, or the SHIM loader, the TPM will no longer be able
        to unseal the secondary key correctly, and &grub; will have to fall
        back to the password.
      </para>
    </section>
  </section>
  <section xml:id="related-post-deployment-considerations">
    <title>Related topics</title>
    <itemizedlist>
      <listitem>
        <para>
          &alpshort; deployment is described in
          <xref linkend="concept-alp-deployment"/>.
        </para>
      </listitem>
      <listitem>
        <para>
          Installing software packages and patterns is detailed in
          <link xlink:href="https://documentation.suse.com/sles/html/SLES-all/cha-sw-cl.html"/>.
        </para>
      </listitem>
    </itemizedlist>
  </section>
</article>
