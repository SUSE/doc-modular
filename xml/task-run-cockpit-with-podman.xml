<?xml version="1.0" encoding="UTF-8"?>
<!-- This file originates from the project https://github.com/openSUSE/doc-kit -->
<!-- This file can be edited downstream. -->
<?xml-stylesheet href="urn:x-suse:xslt:profiling:docbook51-profile.xsl"
 type="text/xml"
 title="Profiling step"?>
<!DOCTYPE article
[
  <!ENTITY % entities SYSTEM "generic-entities.ent">
    %entities;
]>
<article xml:id="task-run-cockpit-with-podman" xml:lang="en"
 role="task"
 xmlns="http://docbook.org/ns/docbook" version="5.1"
 xmlns:its="http://www.w3.org/2005/11/its"
 xmlns:xi="http://www.w3.org/2001/XInclude"
 xmlns:xlink="http://www.w3.org/1999/xlink">
  <title>Running the &cockpit; Web server using &podman;</title>
  <section xml:id="introduction-run-cockpit-with-podman">
    <title>Introduction</title>
    <para>
      This article describes how to run a containerized &cockpit; Web server on
      the &productname; (&productnameshort;) using &podman;.
    </para>
    <para>
      This workload adds the &cockpit; Web server to &productnameshort; so that
      you can administer the system and container via a user-friendly interface
      in your Web browser.
    </para>
    <note>
      <para>
        An alternative way of installing and enabling the &cockpit; Web server
        is described in
        <link
    xlink:href="https://en.opensuse.org/openSUSE:ALP/Workgroups/SysMngmnt/Cockpit#Install_the_Web_Server_Via_Packages"/>.
      </para>
    </note>
  </section>
  <section xml:id="requirements-run-cockpit-with-podman">
    <title>Requirements</title>
    <itemizedlist>
      <listitem>
        <para>
          Deployed &productnameshort; base OS.
        </para>
      </listitem>
      <listitem>
        <para>
          Installed and enabled &podman;.
        </para>
      </listitem>
      <listitem>
        <para>
          Installed the <package>alp_cockpit</package> pattern.
        </para>
      </listitem>
    </itemizedlist>
  </section>
  <section xml:id="alp-starting-cockpit">
    <title>Starting the &cockpit; workload</title>
    <para>
      &cockpit; is a tool to administer one or more hosts from one place via a
      Web user interface. Its default functionality is extended by plug-ins
      that you can install additionally. You do not need the &cockpit; Web user
      interface installed on every &productnameshort; host. One instance of the
      Web interface can connect to multiple hosts if they have the
      <package>alp_cockpit</package> pattern installed.
    </para>
    <para>
      &productnameshort; has the base part of the &cockpit; component installed
      by default. It is included in the <package>alp_cockpit</package> pattern.
      To install and run &cockpit;'s Web interface, follow these steps:
    </para>
    <procedure>
      <step>
        <para>
          Identify the &cockpit; Web server workload image:
        </para>
<screen>
&prompt.root;podman search cockpit-ws
[...]
registry.opensuse.org/suse/alp/workloads/tumbleweed_containerfiles/suse/alp/workloads/cockpit-ws
</screen>
      </step>
      <step>
        <para>
          Pull the image from the registry:
        </para>
<screen>&prompt.root;podman container runlabel install \
 registry.opensuse.org/suse/alp/workloads/tumbleweed_containerfiles/suse/alp/workloads/cockpit-ws:latest</screen>
      </step>
      <step>
        <para>
          Run the &cockpit;'s containerized Web server:
        </para>
<screen>&prompt.root;podman container runlabel --name cockpit-ws run \
 registry.opensuse.org/suse/alp/workloads/tumbleweed_containerfiles/suse/alp/workloads/cockpit-ws:latest</screen>
      </step>
      <step>
        <para>
          To run the &cockpit;'s Web server on each &productnameshort; boot,
          enable its service:
        </para>
<screen>&prompt.root;systemctl enable cockpit.service</screen>
      </step>
      <step>
        <para>
          To view the &cockpit; Web user interface, point your Web browser to
          the following address and accept the self-signed certificate:
        </para>
<screen>https://<replaceable>HOSTNAME_OR_IP_OF_ALP_HOST:9090</replaceable></screen>
        <figure>
          <title>&cockpit; running on &productnameshort;</title>
          <mediaobject>
            <imageobject role="fo">
              <imagedata fileref="alp-cockpit.png" width="100%"/>
            </imageobject>
            <imageobject role="html">
              <imagedata fileref="alp-cockpit.png" width="100%"/>
            </imageobject>
            <textobject role="description"><phrase>&cockpit; running on &productnameshort;</phrase>
            </textobject>
          </mediaobject>
        </figure>
      </step>
    </procedure>
  </section>
  <section xml:id="next-run-cockpit-with-podman">
    <title>Next steps</title>
    <itemizedlist>
      <listitem>
        <para>
          Administer the system using &cockpit;.
        </para>
      </listitem>
      <listitem>
        <para>
          Install and run additional workloads. For their list and description,
          refer to <xref linkend="available-alp-workloads"/>.
        </para>
      </listitem>
    </itemizedlist>
  </section>
</article>
